FORMAT: 1A
HOST: https://api2.test.paysafe.com/

# Paysafe Payments & Wallets API

## Release Notes

| Version | Date        | Details                                                                                                     |
|---------|-------------|-------------------------------------------------------------------------------------------------------------|
| V1      | 24 Nov 2021 | - Updated Payment Handle samples with <i>deviceInfo</i>
| V1      | 22 Nov 2021 | - Added bank account detail - BIC                                                                           |
|         |             | - Updated examples                                                                                          |
|         |             | - Removed initial balance when creating a wallet - a separate transfer transaction must be used             |
| V1      | 17 Nov 2021 | - Removed pagination from get customer accounts; the API returns a list of accounts                         |
|         |             | - URL for GET instruments changed; customerId converted to required query parameter                         |
|         |             | - Added wallet transaction statusReason                                                                     |
| V1      | 17 Nov 2021 | - Added get customer's payment instruments endpoint                                                         |
|         |             | - Added KYC parameters, following Risk & Compliance workshops                                               |
|         |             | - Added clarifications on virtual IBAN assignment; webhook for virtual IBAN assigned                        |
|         |             | - Added deviceInfo; customerIp updated to mandatory for all payment APIs                                    |
|         |             | - Added information about onboarding idempotency; removed "phone" field; one of email or mobile is required |
| V1      | 10 Nov 2021 | - Added the parameter <i>verifiedInstrument</i> to Payment handle                                           |
| V1      | 08 Nov 2021 | - Added Payment Workflows                                                                                   |
|         |             | - Labeled Mandatory Fields as <i>required</i>                                                               |
| V1      | 10 Aug 2020 | - Document Release                                                                                          |

# Overview

Paysafe's digital wallet offering caters to merchants that need to implement **embedded finance services** into their products, such as marketplaces, e-commerce, electronic goods and more.

By leveraging Paysafe's capabilities - ledger, multiple currencies within the same wallet, multiple region coverage, risk and AML monitoring and a multitude of payment options, a product can be easily enhanced with an out-of-the-box, compliant e-money wallet.

Built on top of Paysafe's solid payment processing API infrastructure, digital wallet requires minimal enhancement in terms of integration, authentication and monitoring.

The service can easily and securely process payments & wallet requests from your customers using one single API – The **Payments & Wallets API**.

Paysafe's all-in-one [Business Portal](https://merchant.paysafe.com/portal) allows the merchant to access transaction analytics and manage the merchant account.


<a name="paymentsoverview" title="Payments & Wallets API Overview"></a>

## Concepts in Paysafe's digital wallet

The digital wallet is a stored value financial service, and as such must adhere to certain regulations and data availability requirements.

**Customer** is the physical person, associated with a wallet, and is the legal owner of the e-money stored in the accounts' ledger. Regulations require Paysafe to collect and assess KYC information, PEP checks, and in some instances - carry out EDD verifications on the customer. A customer has a wallet associated with it.

A **Wallet Account** is a ledger for a single currency. The multicurrency capability requires multiple accounts to be associated with the wallet.

**Merchant** is a legal entity that provides services or goods to its customers. The merchant also has a wallet associated with it within the Paysafe Digital Wallet platform, and just as customers, KYB information must be collected and assessed.


## Digital Wallet as a service

On top of Paysafe regular wallet offering, the digital wallet can also be used purely as a backend service by operating a set of APIs.

Merchant's responsibilities:

  * Manage customer profiles
  * Take the customer through KYC (Know Your Customer), and share the information with Paysafe for regulatory purposes
  * Implement UI for all customer journeys
  * Integrate into the Paysafe's Payments and Digital Wallets API

Paysafe Digital Walet responsibilities:

  * Maintain e-money ledger
  * Maintain customer details for regulatory purposes
  * Monitor for Risk & AML
  * Integrate additional payment methods
  * Provide reporting capabilities


### Customer wallet

Each customer is assigned a CW, and it accounts for all transactions for that customer - deposits, withdrawals, pay-in m pay-out, exchange, etc. As mentioned above, a wallet can contain multiple accounts in different currencies.

When the Merchant deems necessary, a new Customer wallet is created. Usually, a customer wallet is created when the customer registers in the Merchant's system and passess the KYC verifications, as agreed between the Merchant and Paysafe.

> As the Merchant is managing all its users, Paysafe **only holds the customer personal details necessary for risk & compliance purposes** - Paysafe does not access or manage customer credentials, nor does it manage authentication and authorization. These details are associated with every wallet.


### Merchant wallet

The Merchant wallet, just as CW, provides ledger, transactional and multi-currency capabilities.

The Merchant can access the Merchant Wallet via the Paysafe Merchant Portal. Access to this portal is provided during the merchant onboarding process.


### Merchant Fees

All Merchant fees that the Merchant needs to charge its customers, are **accumulated in the MW at time of customer transaction**. Paysafe's fees can either be deducted directly from the MW balance, or can be settled on a monthly/quarterly basis by invoicing the Merchant.

To allow for the ultimate flexibility, all merchant fees **must be provided by the Merchant on a per-transaction basis**. This approach allows the Merchant to execute different pricing schemes based on regions, currency, customer loyalty levels, dynamic fee structures and other information that is only available to the Merchant.


## Device information

Customer device information plays a critital role in all risk and compliance assessments in the digital wallet offering. Paysafe uses ThreatMetrix as the preferred device intelligence solution.

The Merchant is required to pass in the data as received by ThreatMetrix, to avoid double billing in the case where Paysafe fetches the device information separately from Merchant.

## Payment Methods

Payment Methods represent your customer's payment instruments. They are used to collect payments or store instrument details for future payments.
The Payments API currently supports the following payment methods:

- Cards - credit and debit
- Rapid Transfer
- Bank transfers

> **Note:** Rapid Transfer is only supported for Payments.

> **Note:** Bank transfers is only supported for Standalone Credits. For EUR, it should be through SEPA and for GBP it should be through Faster Payments.


## Transaction Types Supported
Payments API supports the following transaction types:

  * [Payment Handles](#paymenthandlerequest)
  * [Payments](#paymentrequest)
  * [Standalone Credits](#standalonecreditrequest)


## Payment Flows

One-step payment gateway refers to payment integrations where authorization/capture of funds occurs at the same time. This is relatively common for many alternative payment methods where the customer authenticates and authorizes the payment through a channel provided by the PSP. Typically, once the customer has authorized the payment, funds are immediately allocated and confirmed by the PSP.

Only supports settleWithAuth=true
For these integrations, corresponding Payment and Settlement resources are created simultaneously to represent the transaction. Both resources utilize the same unique GUID as are created from the same request. For these integrations, the Payment should reflect the same status as the Settlement and can be used to indicate success or failure of the transaction request without having to do a separate lookup on the specific settlement.

**Payment Flow**
![](https://raw.githubusercontent.com/SwathiBirlangi/Paysafegroup-images/main/Payment_Flow.png)

**Auto Settlement Payment**
![](https://raw.githubusercontent.com/SwathiBirlangi/Paysafegroup-images/main/Auto_Settlement_Payment_Flow.png)

# Before you begin
## Get your Secret API Key
<a name="apikeys" title="Get your API Keys"></a>
The API uses a distinct API key:<br/>
* The Secret Key – used for all server-to-server API requests.

You can retrieve your Secret key for your account via the [Business Portal](https://merchant.paysafe.com/portal/login).

<a name="secretapikey" title="Secret API Key"></a>
#### Secret API Key
You use the Secret API key in all your server-to-server API requests.

 > **Note:** You must Base64 Encode your Secret API key before using it in your API requests.

To retrieve your Secret API key from the Business Portal:
 1. Go to **Integrate>API Keys**.
 2. Under **Secret Key**, click **Authenticate Now**.
 ![](https://github.com/paysafegroup/paysafe_api_paymenthub_v1/raw/master/images/Secret_Key1.png)
 3. Enter your Business Portal password and click **Authenticate**.
 4. You can now access your Secret API key.
 ![](https://github.com/paysafegroup/paysafe_api_paymenthub_v1/raw/master/images/Secret_Key2.png)

 > **Note:** All your APIs will use the same API key.

Your API key will have the following format:
* Key Username – MerchantXYZKey
* Password – B-tst1-0-51ed39e4-312d02345d3f123120881dff9bb4020a89e8ac44cdfdcecd702151182fdc952272661d290ab2e5849e31bb03deede7e

The API key is case-sensitive and sent using HTTP Basic Authentication.
To use HTTP Basic Authentication, you must send the API key credentials using the Authorization header with every request.

You must construct the Authorization header as follows:
1. Combine the Key Username and Key Password into a string separated by a colon, for example, “Key Username:Key Password”.
2. The resulting string literal is then encoded using Base64.
3. The authorization method and space (That is, “Basic”) are then put before the encoded string.

For example, using the above Key Username and Password, the header is formed as follows:

```Authorization: Basic TWVyY2hhbnRYWVo6Qi10c3QxLTAtNTFlZDM5ZTQtMzEyZDAyMzQ1ZDNmMTIzMTIwODgxZGZmOWJiNDAyMGE4OWU4YWM0NGNkZmRjZWNkNzAyMTUxMTgyZmRjOTU yMjcyNjYxZDI5MGFiMmU1ODQ5ZTMxYmIwM2RlZWRlN2U=```
For additional details, please refer [Authentication](https://developer.paysafe.com/en/rest-apis/reference-information/important-integration-concepts/authentication/).

## Testing

Test accounts enable you to process API transactions that mirror the functionality of the Production environment.

Transactions processed in the Test environment are executed on a simulator. Depending on the information provided with the transaction request, the simulator returns either a successful (approved) or failed (declined) response.

With the API, you can:

* Verify support for all the operation types that you require.
* Review all common errors as well as unique errors that may occur for each operation.
* Verify the length and format for all attributes you send.

For access to Test accounts and credentials, contact your account manager or reach out to <integrations@paysafe.com>.
Your Test account has access to the Test version of the Paysafe [Business Portal](https://merchant.test.paysafe.com/portal#/login), where you can view the status of your Test transactions.

###  Test URL
To test your integration with Paysafe, use the following Test URLs:

`https://api2.test.paysafe.com/paymenthub/v1/`

`https://api2.test.paysafe.com/digitalwallets/v1/` (under construction)


For example:

`https://api2.test.paysafe.com/paymenthub/v1/payments/{payment_id}`

Paysafe offers multiple payment methods to process your transaction. You can obtain detailed testing information on each payment method by clicking the corresponding link below:
* [Card]()


## Going Live

Once you are satisfied with your integration to the Test environment, you must repeat the configuration changes made to your Test account on your Production account.

> **Note:** You cannot use your Test credentials to process transaction requests in the Production environment.

### Go Live Checklist
1. You must have a production account and access to Business Portal.
2. You must have a Secret API Key for the production environment.
3. You must have Webhooks configured for all the events.
4. You must use the Production URL for your API calls.

### Production URL
To process live requests with Paysafe, use the following Production URL:

`https://api2.paysafe.com/paymenthub/v1/`
`https://api2.paysafe.com/digitalwallets/v1/`

For example:

`https://api2.paysafe.com/paymenthub/v1/payments/{payment_id}`
`https://api2.paysafe.com/digitalwallets/v1/customers`

<a name="gettingstarted" title="Getting started"></a>
# Getting started


## Onboard a customer

Onboarding a customer requires a new wallet to be created on the Paysafe side.

Business requirements for creating a new wallet:

* KYC verifications passed - a flag must be passed when creating a customer wallet that denotes that, and is the proof that Paysafe accepts that the customer was indeed verified. If the value of this flag is different than ``, the wallet creation will fail
* Terms and conditions accepted - this flag is needed as proof that the Merchant has presented the Paysafe T&Cs to the customer, and the customer has accepted these T&Cs. If this flag has a value different than `true`, the wallet creation will fail.
* Paysafe requires certain mandatory data points about the customer and identity metadata to be provided for a customer wallet account to be created. The details are documented in the API documentation.
* Only end-consumers and not business (or business-like institutions) are being accepted for wallet account creation for the initial launch.
* The currency of a wallet can only be created in EUR for the EEA and in GBP for the UK.

Call **Onboard a customer**, with the following requirements for the data being passed in the body of the request:

* `customer` - all required fields must be fully populated - Paysafe needs this information for regulatory purposes.

* `accounts` - at least one account object has to be populated; please refer to Merchant's agreement with Paysafe for a list of supported wallet currencies. If an unsupported currency is passed, or if two Account objects with the same currency are provided, creating the wallet will fail.
    * when creating a new wallet, `totalBalance` and `availableBalance` must be equal
    * when `hasIban == true`, a new Virtual IBAN (vIBAN) will be allocated for this customer for that account and currency. The vIBAN will be provided to the Merchant in the API response.

* `identityDocuments` - metadata about all documents, submitted by the Customer during the KYC & EDD process

> NOTE: Assigning virtual IBAN may be different due to differences in the banks used. Paysafe will try to return the information as soon as possible.
><br>
> When creating a new customer, the response might include a virtual IBAN assigned to the account. This means that Paysafe managed to assign the virtual IBAN to the customer, and no subsequent webhooks will be sent.
><br>
> If the response DOES NOT contain a value for the account's `iban`, this means that the virtual IBAN will be assigned asynchronously. In this case the Merchant must wait for a webhook that will notify the availability of the virtual IBAN for this customer. When the webhook received, the Merchant must fetch the IBAN via the get Accounts API (due to information security requirements, Paysafe should not send the IBAN via a webhook).

&nbsp;

![Diagram: Onboarding a customer](https://github.com/paysafegroup/WalletAPI/raw/Wallet-API-updates/diagrams/0-Wallet-Create.svg)

&nbsp;

When creating a wallet for an **newly signed-up customer**, the `totalBalance` and `availableBalance` fields for all `account` objects must be set to 0.

To migrate the balance, Merchant calls an API endpoint to debit the amounts specified from the Merchant wallet, and credit these amounts into the customer's wallet effectively creating a starting balance.

In case the email provided is not unique and a wallet is already created
using this email address, the creation of a new wallet will fail.

After creating the wallet, the customer could be restricted on Paysafe side
based on regulatory and risk checks.

&nbsp;

&nbsp;

&nbsp;

## Update customer details

Customer's details could be updated on the Merchant's app/portal, and these updates must be reflected on the Paysafe side, for regulatory purposes.

Customer profile information can be updated by calling [Update Customer](#reference/customers/get-customer/update-customer).

The following fields cannot be updated, and an attempt to do so will result in an error:

* id
* registrationIp

&nbsp;

&nbsp;

&nbsp;

## Deactivate a customer

When a customer closes their account with the Merchant, the digital wallet on the Paysafe side must be deactivated.

The API [Deactivate Customer](#reference/customers/get-customer/deactivate-customer) must be used to achieve that.

&nbsp;

&nbsp;

&nbsp;


## Accounts

Account information can be retrieved with the following APIs:

* Get a list of all accounts for a customer - [Get Account List](#reference/wallets/get-account-list/get-account-list)
* Get details and current balance for an account - [Get Account](#reference/wallets/get-account/get-account)

Direct update and delete acounts is not supported via API.

&nbsp;

&nbsp;

&nbsp;

## Deposit with a card

* Merchant customers will be able to deposit with Visa and Mastercard credit and debit cards in EUR and GBP. Merchant will manage the user experience however for card processing it is required that Paysafe integrated 3DS solution is used. Once card payment is processed successfully, the customers wallet balance will be increased with the deposit amount. Merchant will be able to apply a fee to the customer’s card deposits.

* Merchant customers will choose the deposit amount and will provide their card details at Bianance’s website or mobile app.

* Merchant will send a payment request to Paysafe including deposit amount, currency, card details, customer ID and customer fee.

* Paysafe will process the card payment for deposit amount and any fees with the provider.

* Paysafe will increase the customer’s wallet balance with the deposit amount and customer fee.

* Paysafe will debit customer’s wallet with the fees and credit customer fee to Merchant merchant wallet.

&nbsp;

![Diagram: Deposit with a card](https://github.com/paysafegroup/WalletAPI/raw/Wallet-API-updates/diagrams/2-Deposit-card.svg)

&nbsp;

&nbsp;

&nbsp;


## Deposit with instant bank transfer - RapidTransfer

As a service complementary to the Bank Transfer solution above, Paysafe can offer to the Merchant a Real-time bank transfer solution for the smaller basket size transfers. Rapid Transfer payments are normally instant however a small percentage of high risk transactions may have delayed processing (up to 3 business days). Pilot countries UK, Estonia, Latvia, Portugal.

Transaction limits for Rapid Transfer
| Daily     | Weekly    | Monthly    |
|-----------|-----------|------------|
| 5,000 EUR | 7,500 EUR | 25,000 EUR |

* Merchant will show the Rapid Transfer payment method to their customers alongside the other deposit options.

* Merchant will collect customer’s bank account details (IBAN and SWIFT code for euro payments and sort code and account number for payments in GBP).

* Merchant will send a payment request to Paysafe and will redirect the customer to the Rapid Transfer redirect url returned by Paysafe.

* Rapid Transfer payment flow will assist the customer to authenticate with their bank, validate payment account and confirm a bank transfer to Paysafe.

* After payment is successfully initiated, Paysafe will increase customer’s wallet balance with the payment amount.

* Paysafe will debit any customer fee from customer’s wallet and credit them to Merchant  wallet.

&nbsp;

![Diagram: Deposit with RapidTransfer](https://github.com/paysafegroup/WalletAPI/raw/Wallet-API-updates/diagrams/2-Deposit-rapid-transfer.svg)

&nbsp;

&nbsp;

&nbsp;

## Deposit with a bank transfer

Paysafe will support Merchant's customers with digital wallets to transfer money from their own bank accounts to their vIBANs in Paysafe partner bank. Once offline customer deposit reaches Paysafe partner bank, customer's wallet will be funded. Customers can only be charged a pre-defined fixed fee for bank transfer deposits.

* Merchant will show vIBAN and Paysafe entity as account holder upon bank transfer payment option on Merchant website

* Paysafe will perform vIBAN and names match when deposit received in Paysafe partner bank

* The transaction amount will be credited to the consumers Merchant fiat wallet

* Where applicable, the customer fee amount will be debited from the consumers Merchant fiat wallet.

&nbsp;

![Diagram: Deposit with RapidTransfer](https://github.com/paysafegroup/WalletAPI/raw/Wallet-API-updates/diagrams/2-Deposit-bank-transfer.svg)

&nbsp;

&nbsp;

&nbsp;

## Authorization holds on a balance

Certain wallet payment flows, like Buying Crypto require requesting a hold on part of a customer balance.

Any held funds will not be available for any other transactions and will remain reserved until the Merchant executes the transaction or cancels the hold.

&nbsp;

![Diagram: Authorization holds](https://github.com/paysafegroup/WalletAPI/raw/Wallet-API-updates/diagrams/4-AuthorizationHold.svg)

&nbsp;

&nbsp;

&nbsp;

## Withdrawal to bank account

Customers can withdraw from fiat balance to their bank account. The withdrawal amount cannot exceed the fiat balance of the user. Withdrawals in EUR and GBP are supported.

* Customer initiates fiat withdrawal to bank account on Merchant's platform.

* The Merchant requests the withdrawal from Paysafe and includes customer’s bank account or card details in the request.

* Paysafe validates there is available balance in customer’s wallet.

* Paysafe debits withdrawal amount and fee, if applicable, from customer’s wallet.

* Paysafe routes the withdrawal to our partner banks and payment providers.

* Paysafe credits customer fee to the Merchant wallet.

* Paysafe returns a payment details in the response to the Merchant.

Paysafe will also make sure any returned withdrawals are processed by crediting the returned amount back to the customer’s wallet. The Merchant will receive a notification for such returned withdrawals.

&nbsp;

![Diagram: Withdraw to a bank account](https://github.com/paysafegroup/WalletAPI/raw/Wallet-API-updates/diagrams/3-Withdraw-bank-account.svg)

&nbsp;

&nbsp;

&nbsp;

## Withdrawal to a card

Customers can withdraw from fiat balance to their cards as well (Visa Direct - credit and debit cards). The withdrawal amount cannot exceed the fiat balance of the customer. Withdrawals in EUR and GBP will be supported.

* Customer initiates fiat withdrawal to bank account on Merchant's platform.

* Merchant requests the withdrawal from Paysafe and includes customer’s bank account or card details in the request.

* Paysafe validates there is available balance in customer’s wallet.

* Paysafe debits withdrawal amount and fee, if applicable, from customer’s wallet.

* Paysafe routes the withdrawal to our partner banks and payment providers.

* Paysafe credits customer fee to Merchant wallet.

* Paysafe returns a payment details response to the Merchant.

Paysafe will also make sure any returned withdrawals are processed by crediting the returned amount back to the customer’s wallet. The Merchant will receive a notification for such returned withdrawals.

&nbsp;

![Diagram: Withdraw to a card](https://github.com/paysafegroup/WalletAPI/raw/Wallet-API-updates/diagrams/3-Withdraw-card.svg)


&nbsp;

&nbsp;

&nbsp;

## Transfer merchant to customer (crypto sell)

1. Paysafe will allow Merchant's customers with a wallet to perform an exchange crypto currencies sell and have their wallet balance credited. Customers must be able to complete the Crypto sell entirely from the Merchant’s website and existing user experience flows.

    * Any Customer who wants to sell crypto and receive funds into a fiat balance must have a consumer wallet created previously to the sell crypto request to Paysafe.

2. The Merchant will request a sell crypto transaction when their customer completes a sell crypto transaction from their website

    * The Merchant will request the crypto sell amount in the fiat wallet currency

    * When required, the Merchant will request the crypto sell consumer fee in the fiat wallet currency

        * If the consumer wallet is restricted or the transaction can not be completed for any reason Paysafe will return the error reason

    * A Paysafe transaction ID will be provided on each transaction request and will be allocated to both the Crypto buy transaction and the Fee transaction.

    * An external transaction ID can be provided by the Merchant on each transaction request and will be allocated to both the Crypto buy transaction and the Fee transaction

        * Transactions can be searched in Paysafe’s merchant backoffice tool by either the Paysafe transaction ID or the external transaction ID

3. The transaction amount will be debited from the Merchant wallet.

    * Transaction will be deducted from the merchant wallet currency account that corresponds to the transaction (consumer’s wallet) currency.

    * If the Merchant wallet currency account does not have sufficient balance the transaction will be declined and returned with the applicable error code for insufficient balance.

        * A ‘Check Merchant Balance’ API is available if required.

4. The amount of the crypto sell will be credited to the customers wallet

    * Credit will be done in the customers wallet currency

5. The amount of the crypto sell consumer fee will be credited to the Merchant account

    * The merchant account will be credited in the currency that the consumer account was debited from

    * If applicable, Paysafe fees will be deducted from the Merchant wallet

&nbsp;

![Diagram: Transfer customer to merchant](https://github.com/paysafegroup/WalletAPI/raw/Wallet-API-updates/diagrams/6-Transfers-merchant-to-customer.svg)

&nbsp;

&nbsp;

&nbsp;

## Transfer customer to merchant (crypto buy)

1. Paysafe will allow Merchant's customers with a wallet created to perform an exchange crypto currency buy using their fiat balances. Customers must be able to complete the Crypto buy entirely from the Merchant’s website and existing user experience flows.

    * Any Customer who wants to buy crypto using their fiat balance must have a consumer wallet created previously to the buy crypto request to Paysafe.

2. The Merchant will have the option of reserving funds via the Authorization Hold API when their customer initiates a crypto buy using fiat balance or processing the transaction directly

    * The Merchant will request the authorization hold for the crypto buy amount in the fiat wallet currency

    * When required, the Merchant will request the authorization hold funds crypto buy consumer fee in the fiat wallet currency

        * If the consumer wallet does not have available funds, is restricted or the transaction can not be completed for any reason Paysafe will return the error reason

    * Any held funds will not be available for any other transactions and will remain reserved until the Merchant executes the transaction or cancels the reserve

    * A Paysafe transaction ID will be provided on each transaction request and will be allocated to both the Crypto buy transaction and the Fee transaction.

    * An external transaction ID can be provided by the Merchant on each transaction request and will be allocated to both the Crypto buy transaction and the Fee transaction

        * Transactions can be searched in Paysafe’s merchant backoffice tool by either the Paysafe transaction ID or the external transaction ID

3. When the Merchant's customer has their crypto buy order executed, The Merchant will inform Paysafe to debit the reserved transaction and fee (where applicable)

    * The transaction amount will be debited from the consumers fiat wallet

    * Where applicable, the customer fee amount will be debited from the consumers the Merchant fiat wallet

4. The amount of the crypto buy transaction and consumer fee will be credited to the Merchant account

    * The merchant account will be credited in the currency that the consumer account was debited from
    * If applicable, Paysafe fees will be deducted from the Merchant wallet

5. To fulfill PSD2 SCA requirements, the Merchant will be treated as a trusted merchant in a closed loop ecosystem for crypto buys/debits from consumer wallets.

    * The Merchant must ensure that compliant SCA is completed on customer logins to the the Merchant ecosystem.

&nbsp;

![Diagram: Transfer customer to merchant](https://github.com/paysafegroup/WalletAPI/raw/Wallet-API-updates/diagrams/6-Transfers-customer-to-merchant.svg)


&nbsp;

&nbsp;

&nbsp;

## Transfer customer to customer (trading pairs)

1. Paysafe will allow customers with a wallet to perform a crypto trading pair buy/sell of crypto currencies with another customer and have their wallet balances adjusted the applicable amount. Customers must be able to complete the trading pairs exchange from the Merchant’s website and existing user experience flows.

    * Both customers who wants to engage in a trading pairs transaction must have a consumer wallet created previously to the buy/sell crypto request to Paysafe

    * The Merchant will provide the buying customers ID and the selling customers ID at time of request

2. The Merchant will have the option of requesting a “Reserve Funds” transaction when their customer initiates a crypto buy using fiat balance or processing the transaction immediately.

    * The Merchant will request the crypto buy amount in the buying customers fiat wallet currency

    * When required, the Merchant will request the crypto buy consumer fee in the fiat wallet currency

        * If the consumer wallet does not have available funds, is restricted or the transaction can not be completed for any reason Paysafe will return the error reason to the Merchant

    * Any reserved funds will not be available for any other transactions and will remain reserved until the Merchant executes the transaction or cancels the reserve

3. When the buy order is fulfilled, the amount of the crypto sell will be credited to the selling crypto customers wallet and the “Reserve funds” will be released/debited from the buying customers wallet

    * Selling customer will have their wallet credited in the selling customers wallet currency

    * If required, the amount of the crypto sell consumer fee will be credited to the Мerchant account

        * The Мerchant account will be credited in the currency that the consumer account was debited from

    * A Paysafe transaction ID will be provided on each transaction request and will be allocated to both the Crypto buy transaction and the Fee transaction.

    * An external transaction ID can be provided by the Merchant on each transaction request and will be allocated to both the Crypto buy transaction and the Fee transaction

        * Transactions can be searched in Paysafe’s merchant backoffice tool by either the Paysafe transaction ID or the external transaction ID

4. If applicable, Paysafe fees will be deducted from the Merchant wallet

5. To fulfill PSD2 SCA requirements, the Merchant will be treated as a trusted merchant in a closed loop ecosystem for crypto buys/debits from consumer wallets.

    * The Merchant must ensure that compliant SCA is completed on customer logins to the Merchant's ecosystem.

&nbsp;

![Diagram: Transfer customer to customer](https://github.com/paysafegroup/WalletAPI/raw/Wallet-API-updates/diagrams/6-Transfers-customer-to-customer.svg)


&nbsp;

&nbsp;

&nbsp;

<a name="api" title="API"></a>
# API
The API is constructed around REST and has following features:
* Definite resource-oriented URLs
* Receives form-encoded request bodies
* Returns JSON-encoded responses
* Communicates using standard HTTP response codes, authentication, and verbs.

* **Message body**: This must contain valid Paysafe JSON objects as required for the type of request. Not all API calls require a message-body; for example, GET requests do not require a body.
* **Resource ID**: Identifies the unique ID of a resource.
![Structure of a Typical API Request](http://mweb1-paysafeio-foreign.fra.skrill.net/fileadmin/user_upload/authentication_example_payments.png)

<a name="webhooks" title="Webhooks"></a>
# Webhooks

A Webhook is an HTTP callback that is triggered when an event takes place.
To configure webhooks, you need to [open a service request](https://merchant.paysafe.com/portal/login) with Paysafe in the Business Portal.

For more information on Webhooks, click [here](https://developer.paysafe.com/en/rest-apis/paysafe-payments-api/payments-api/webhooks/).

> **Note:** To receive webhooks from Paysafe, you must create a callback URL to receive the webhook that is triggered.
You are responsible for ensuring its continued availability.

## Notes on Webhooks

+ When the status of one of your transaction request changes, Paysafe immediately sends a callback to your webhook's endpoint URL to inform you of the status change.
+ To acknowledge the receipt of the webhook, Paysafe expects an HTTP status of 200 OK or 202 ACCEPTED from your endpoint. In case we receive any other HTTP status code, we assume that you have not received the webhook, and we attempt to resend it.
+ If Paysafe does not get an acknowledgment of receipt with an HTTP Status Code of 200 or 202, it makes a maximum of 2 additional attempts (total 3 attempts) to send a callback to that URL.
+ As Paysafe does not have a notification method to alert you when callbacks are not reaching your endpoint URL, you should make sure that there is continued availability of your endpoint.
+ All endpoint URLs should use HTTPS/SSL to ensure security. Please note that only the default **HTTPS port 443** is supported.
+ In case you have received the same notification multiple times for an already processed event, we request you to ignore the duplicate notification. It is recommended to make the notification URL endpoints idempotent.


# Pagination

In the case where an API GET request returns multiple results, Paysafe returns the first 10 records by default and uses HATEOAS links to provide page navigation. In addition to the default behavior, it is also possible to control the number of results and starting point by passing in query parameters  as described in this [section](https://developer.paysafe.com/en/resources-and-support/pagination/).

<a name="globalinvalidcharacters" title="Global Invalid Characters"></a>
# Global Invalid Characters

You must not include any of the characters in this [table](https://developer.paysafe.com/en/resources-and-support/global-invalid-characters/) as values in any of your request parameters. Object. If you do, your request will result in an error.

<a name="isostandards" title="ISO Standards"></a>
# ISO Standards

ISO standards add value by providing the common business process data semantics to be used in the API based exchanges. This [section](https://developer.paysafe.com/en/resources-and-support/iso-standards/) presents you codes for four areas - Currency, Province, State, and Country.


Please refer [Miscellaneous](https://developer.paysafe.com/en/rest-apis/paysafe-payments-api/payments-api/miscellaneous/) for Global Invalid Characters, ISO Standards, Currency Codes, Province Codes, State Codes, Country Codes.



# Common Objects



<a name="authenticationobject" title="Authentications Object"></a>
## authentication

| Element          | Type                     | Required  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|------------------|--------------------------|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id               | string<br/>`length<=36`  | Read Only | This is the ID returned in the response.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| eci              | number                   | Read Only | This is the E-Commerce Indicator (ECI). This value is returned only on payer authentication transactions or for enrollments where the issuer is non-participating, and the card scheme supports it. You must append this value to the authorization request, where it enables the interchange benefits granted to merchants who are processing payer Authentication transactions.<br/>**Visa**<br/><ul><li>5 &ndash; Identifies a successfully authenticated transaction. </li><li>6 &ndash; Identifies an attempt to authenticate the transaction.</li><li>7 &ndash; Identifies a non-authenticated transaction.</li></ul><br/>**Mastercard**<br/><br/><ul><li>1 &ndash; Identifies a non-authenticated transaction.</li><li>2 &ndash; Identifies a successfully authenticated transaction.</li></ul> |
| cavv             | string<br/>`length<=80`  | Read Only | This is the Cardholder Authentication Verification Value, indicating that the transaction is authenticated. You should append this value to the authorization request signifying that the transaction is successfully authenticated.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| xid              | string<br/>`length<=40`  | Read Only | This is the transaction identifier returned by the card issuer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| status           | enum                     | Read Only | This is the status of the Enrollment Lookup request. Possible values are:<br/><ul><li>COMPLETED - The transaction is completed.</li><li>FAILED - The authentication request failed. Check the error code for details.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| merchantRefNum   | string<br/>`length<=255` | Read Only | This is the merchant reference number created by the merchant and submitted as part of the request. This number must be unique for each request. Paysafe recommends using a unique merchant reference number for every transaction. The merchant reference number must not be the same for multiple transactions.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| threeDEnrollment | enum                     | Read Only | This indicates whether or not the cardholder is enrolled in 3D Secure. Possible values are:<br/><ul><li>Y &ndash; Cardholder authentication available</li><li>N &ndash; Cardholder not enrolled in authentication</li><li>U &ndash; Cardholder authentication unavailable</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| threeDResult     | enum                     | Read Only | This indicates the outcome of the Authentication.<br/><ul><li>Y &ndash; The cardholder successfully authenticated with their card issuer.</li><li>A &ndash; The cardholder authentication was attempted.</li><li>N &ndash; The cardholder failed to successfully authenticate with their card issuer.</li><li>U &ndash; Authentication with the card issuer was unavailable.</li><li>E &ndash; An error occurred during authentication.</li></ul>                                                                                                                                                                                                                                                                                                                                                      |
| signatureStatus  | enum                     | Read Only | This is the 3D Secure signature verification result value.<br/><ul><li>Y &ndash; All transactions and signature checks satisfied.</li><li>N &ndash; At least one transaction or signature check failed.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| error            | [complex](#errorobject)  | Read Only | This is the error details of the authentication.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

```apib
  {
  "authentication":{
    "eci":5,
    "cavv":"AAABCIEjYgAAAAAAlCNiENiWiV+=",
    "xid":"OU9rcTRCY1VJTFlDWTFESXFtTHU=",
    "threeDEnrollment":"Y",
    "threeDResult":"Y",
    "signatureStatus":"Y"
  }
  }
```

<a name="billingdetailsobject" title="Billing Details Object"></a>
## billingDetails

| Element  | Type                    | Required  | Description                                                                                                                                                                                                   |
|----------|-------------------------|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id       | string<br/>`length<=36` | Read Only | This is the ID of the billing address, returned in the response.                                                                                                                                              |
| nickName | string<br/>`length<=50` | Optional  | This is the nickname the merchant has for the billing address.                                                                                                                                                |
| street   | string<br/>`length<=50` | Mandatory | This is the first line of the customer's street address.                                                                                                                                                      |
| street2  | string<br/>`length<=50` | Optional  | This is the second line of the customer's street address, if required (for example, apartment number).                                                                                                        |
| city     | string<br/>`length<=40` | add       | This is the city where the address is located.                                                                                                                                                                |
| state    | string<br/>`length<=40` | Optional  | This is the state/province/region in which the customer lives. For Canada, see [Province Codes](#provincecodes). For the United States, see [State Codes](#statecodes). Other countries have no restrictions. |
| zip      | string<br/>`length<=10` | Mandatory | This is the zip, postal, or postcode of the customer's address.                                                                                                                                               |
| country  | string<br/>`length=2`   | Mandatory | This is the country where the address is located. See [Country Codes](#countrycodes).                                                                                                                         |

```apib
{
    "billingDetails": {
        "nickName": "home",
        "street": "100 Queen Street West",
        "street2": "Unit 201",
        "city": "Toronto",
        "state": "ON",
        "zip": "M5H 2N2",
        "country": "CA"
    }
}
```

<a name="customerAccount" title="Customer Account Object"></a>
## customerAccount

| Element      | Type                                       | Required   | Description                                           |
|--------------|--------------------------------------------|------------|-------------------------------------------------------|
| id           | string <br/>                               | Read Only  | The wallet customer account to  deposit the funds in. |
| transactions | array of [transaction](#transactionObject) | Ready Only | The transactions postings on the wallet account.      |

```apib
    {
    "customerAccount" : {
       "id" : "123234",
        "transactions" : [
           {
              "id": "12322",
              "type": "DEPOSIT",
              "amount": 1000,
              "currencyCode": "EUR",
              "creationTime": "2021-07-15T17:54:12Z",
              "direction": "CREDIT",
              "fee": 400,
              "paymentType": "CARD",
              "status": "COMPLETED",
              "merchantRefNum": "testTrans"
           }
        ]
      }
    }
```


<a name="cardobject" title="card Object"></a>
## card

| Element    | Type                            | Required    | Description                                                                                 |
|------------|---------------------------------|-------------|---------------------------------------------------------------------------------------------|
| cardNum    | string <br/>`length=8-20`       | Mandatory   | This is the card number used for the request.                                               |
| lastDigits | string<br/>`length=4`           | Read Only   | This is the last four digits of the card used for the request, returned in the response.    |
| cardExpiry | [cardExpiry](#cardexpiryobject) | Mandatory   | This is the card's expiry date.                                                             |
| cvv        | string<br/>`length=3-4`         | Conditional | This is the 3- or 4-digit security code that appears on the card following the card number. |
| holderName | string<br/>`length<=160`        | Optional    | This is the name of the card holder.                                                        |
| nickName   | string<br/>`length<=50`         | Optional    | This is the nickname the merchant has for the card holder.                                  |
|cardType           |enum                       |Read Only|This is the type of card used for the request, returned in the response. Possible values are:<br/><ul><li>AM &ndash; American Express</li><li>DI &ndash; Discover</li><li>JC &ndash; JCB</li><li>MC &ndash; Mastercard</li><li>MD &ndash; Maestro</li><li>SO &ndash; Solo</li><li>VI &ndash; Visa</li><li>VD &ndash; Visa Debit</li><li>VE &ndash; Visa Electron</li></ul>
|cardBin            |string<br/>`length=6`      |Read Only|This is the card BIN (typically the first 6 digits).|

```apib
    {
    "card": {
        "cardNum": "4111111111111111",
        "cardExpiry": {
            "month": 2,
            "year": 2019
        }
    }
    }
```


<a name="cardexpiryobject" title="cardExpiry Object"></a>
## cardExpiry

| Element | Type                  | Required  | Description                    |
|---------|-----------------------|-----------|--------------------------------|
| month   | number<br/>`length=2` | Mandatory | This is the card expiry month. |
| year    | number<br/>`length=4` | Mandatory | This is the card expiry year.  |

```apib
    {
    "cardExpiry":{
        "month": "12",
        "year": "2020"
    }
    }
```

<a name="dateofbirthobject" title="Date of Birth Object"></a>
## dateOfBirth
| Element | Type                           | Required  | Description                 |
|---------|--------------------------------|-----------|-----------------------------|
| year    | number<br/>`length=4 min=1900` | Mandatory | This is the year of birth.  |
| month   | number<br/>`length=2 max=12`   | Mandatory | This is the month of birth. |
| day     | number<br/>`length=2 max=31`   | Mandatory | This is the day of birth.   |

```apib
            {
               "dateOfBirth": {
                  "year": 1980,
                  "month": 12,
                  "day": 25
                }
            }
```

<a name="deviceinfoobject" title="Device Info Object"></a>
## deviceInfo
| Element               | Type                 | Required | Description                           |
|-----------------------|----------------------|----------|---------------------------------------|
| threatMetrixSessionId | String<br/>`max=100` | Optional | This is the Threat Metrix session id. |
| threatMetrixData   | String   | Optional | The URL-encoded response as received from Threat Metrix

```apib
            {
               "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
               "threatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF&..."
            }
```



<a name="errorobject" title="error Object"></a>
## error
| Element     | Type   | Required  | Description                                                                  |
|-------------|--------|-----------|------------------------------------------------------------------------------|
| code        | string | Read Only | The error code. Also shown in the X-Application-Status-Code response header. |
| message     | string | Read Only | A description of the error.                                                  |
| details     | array  | Read Only | Details of any parameter value errors.                                       |
| fieldErrors | array  | Read Only | If applicable, this is a list of fields that have issues.                    |

```apib
   {
   "error":{
      "code":"5270",
      "message":"The credentials provided with the request do not have permission to access the data requested.",
      "details":[
         "access to {stpAccount:1001076700} denied"
      ],
      "fieldErrors":[
         {
            "field":"street",
            "error":"Unexpected characters"
         }
      ]
   }
   }
```

<a name="fasterpaymentsobject" title="fasterpayments Object"></a>
## fasterPayments

| Element           | Type                     | Required  | Description                                                             |
|-------------------|--------------------------|-----------|-------------------------------------------------------------------------|
| accountHolderName | string<br/>`length<140`  | Mandatory | This is the name of the customer or company that owns the bank account. |
| sortCode          | string<br/>`length=6`    | Mandatory | This is the sort code of the Bank.                                      |
| accountNumber     | string<br/>`length=8-10` | Mandatory | This is the costumer's bank account number.                             |
| lastDigits        | string<br/>`length=2`    | Read Only | Last 2 digits of the bank account number.                               |

```apib
    {
    "fasterPayments": {
        "accountHolderName": "John Doe",
        "sortCode": "321654",
        "accountNumber": "98877219"
      }
    }
```

<a name="fieldErrorobject" title= "Field Error Object"></a>
## fieldError

| Element | Type   | Required  | Description                            |
|---------|--------|-----------|----------------------------------------|
| field   | string | Read Only | Identifies the JSON request field.     |
| error   | string | Read Only | The problem associated with the field. |

```apib
        {
            "field": "transaction.accountProfile.email",
            "error": "Required field"
        }
```

<a name="gatewayresponseobject" title= "Gateway Response Object"></a>
## gatewayResponse

This is a read-only raw response returned by an acquirer.

| Element         | Type   | Required  | Description                                                                                                                                                                                                  |
|-----------------|--------|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| code            | string | Read Only | This is the acquirer identification code, such as DJN, CRX, etc.                                                                                                                                             |
| responseCode    | string | Read Only | This is the raw response returned by the acquirer.                                                                                                                                                           |
| avsResponse     | enum   | Read Only | This is the AVS response returned from the card issuer. Possible values are:<ul><li>MATCH</li><li>MATCH_ADDRESS_ONLY</li><li>MATCH_ZIP_ONLY</li><li>NO_MATCH</li><li>NOT_PROCESSED</li><li>UNKNOWN</li></ul> |
| avsCode         | string | Read Only | This is the raw AVS code returned by the acquirer.                                                                                                                                                           |
| mid             | string | Read Only | This is the acquirer MID that was sent to the clearing house.                                                                                                                                                |
| authCode        | string | Read Only | This is the authorization code.                                                                                                                                                                              |
| txnDateTime     | string | Read Only | This is the transaction date and time.                                                                                                                                                                       |
| cvvVerification | enum   | Read Only | This is the response to the cvv submitted with the transaction request. Possible values are:<ul><li>MATCH</li><li>NO_MATCH</li><li>NO_MATCH</li><li>NOT_PROCESSED</li><li>UNKNOWN</li></ul>                  |
| cvv2Result      | string | Read Only | This is the raw cvv2 result code.                                                                                                                                                                            |


<a name="linksobject" title="links Object"></a>
## links

| Element | Type   | Description                                                                                                                                                                                                                                     |
|---------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| rel     | enum   | This is the link type that allows different endpoints to be targeted depending on the end state of the transaction. Possible values are:<ul><li>redirect_payment</li><li>default</li><li>first</li><li>prev</li><li>next</li><li>last</li></ul> |
| href    | string | This is the URI of the resource.                                                                                                                                                                                                                |
| method  | string | This is the HTTP method.                                                                                                                                                                                                                        |

```apib
{
    "links": [{
            "rel": "on_completed",
            "href": "https://US_commerce_site/payment/return/success",
        },
        {
            "rel": "on_failed",
            "href": "https://US_commerce_site/payment/return/failed",
        }
    ]
}
```

<a name="merchantAccount" title="Merchant Account Object"></a>
## merchantAccount

| Element      | Type                                       | Required   | Description                                           |
|--------------|--------------------------------------------|------------|-------------------------------------------------------|
| id           | string <br/>                               | Read Only  | The wallet merchant account to  deposit the funds in. |
| transactions | array of [transaction](#transactionObject) | Ready Only | The transactions postings on the wallet account.      |

```apib
    {
    "merchantAccount" : {
       "id" : "123234",
        "transactions" : [
           {
              "id": "12322",
              "type": "FEE",
              "amount": 100,
              "currencyCode": "EUR",
              "creationTime": "2021-07-15T17:54:12Z",
              "direction": "DEBIT",
              "fee": 0,
              "paymentType": "CARD",
              "status": "COMPLETED",
              "merchantRefNum": "testTrans"
           }
        ]
      }
    }
```


<a name="metaobject" title="meta Object"></a>
## meta

| Element         | Type   | Required  | Description                                             |
|-----------------|--------|-----------|---------------------------------------------------------|
| numberOfRecords | number | Read Only | This is the number of records returned in the lookup.   |
| limit           | number | Read Only | This is the number of records returned per page.        |
| page            | number | Read Only | This is the page of records on which the lookup starts. |

```apib
{
    "meta": {
               "numberOfRecords": 1,
               "limit": 10,
               "page": 1
            }
}
```


<a name="metadataobject" title="metadata Object"></a>
## metadata

| Element | Type                      | Required  | Description                                           |
|---------|---------------------------|-----------|-------------------------------------------------------|
| key     | string <br/>`length<=50`  | Read Only | This is a description of the data added to the order. |
| value   | string <br/>`length<=100` | Read Only | This is the value for the key/value pair.             |


<a name="paymenthandleobject" title="Payment Handle Object"></a>
## Payment Handle

| Element                                                                                                                        | Type                                            | Required                                                  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|--------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|-----------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id                                                                                                                             | string<br/>`length<=36`                         | Read Only                                                 | This is the ID returned in the response. This ID can be used to retrieve the Payment Handle.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| accountId                                                                                                                      | string<br/>`length<=10`                         | Conditional                                               | This is the merchant account number used for the request. Include this parameter if you have more than one merchant account for the currency/payment type combination you are specifying.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| paymentHandleTokenFrom                                                                                                         | string<br/>`length<=50`                         | Optional                                                  | This is the merchant account number used for the request. Include this parameter if you have more than one merchant account for the currency/payment type combination you are specifying.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| paymentHandleToken                                                                                                             | string<br/>`length<=50`                         | Read Only                                                 | The Payment Handle Token generated by our system which should be used for subsequent Payment/Credit transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| merchantRefNum                                                                                                                 | string<br/>`length<=255`                        | Mandatory                                                 | This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| transactionType                                                                                                                | Enumeration                                     | Either customerOperation or transactionType is Mandatory. | This specifies the transaction type for which the Payment Handle is created. Possible values are: <ul><li>PAYMENT - Payment Handle is created to continue the Payment.</li><li> STANDALONE_CREDIT - Payment Handle is created to continue the standalone credit.</li><li>ORIGINAL_CREDIT - Payment Handle is created to continue the original credit.</li><li>VERIFICATION - Payment Handle is created to continue the verification request.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| status                                                                                                                         | Enumeration                                     | Read Only                                                 | This is the status of the request. Possible values are:<ul><li>RECEIVED &ndash; Our system has received the request and is waiting for the downstream processor’s response.</li><li>INITIATED &ndash; The request was initiated with the downstream provider.</li><li>PAYABLE &ndash; The merchant can use the Payment Handle for a Payment request.</li><li>PROCESSING &ndash; The Payment Handle was authorized by customer, awaiting PSP response.</li><li>FAILED &ndash; The transaction failed due to an error or got declined.</li><li>EXPIRED &ndash; The Payment Handle expired because the merchant did not proceed with the Payment transaction.</li><li>COMPLETED &ndash; The Payment request was initiated successfully using the Payment Handle.</li><li>ERROR &ndash; The Payment Handle has errored. The reason for this state might be because of some system or environmental issues. </li></ul> By default, PaymentHandles will EXPIRE after 15 mins unless in a PROCESSING status.  Once the transaction flow has been initiated by the customer, the time permitted for the customer to complete authorization is dependent upon the payment type. PaymentHandles that lapse the permitted processing will be marked EXPIRED.If the customer is required to complete authorization as part of a redirect flow, the PaymentHandle is updated to have a PROCESSING status and the expiration time is extended to allow this additional time for the customer to complete these activities.For payment types where there is automatic settlement (settleWithAuth=true), if the PAYABLE Payment Handle has EXPIRED,  the corresponding Payment/Settlement resources will be auto created.  IF the PSP supports refunds, they will be auto refunded to the customer. |
| statusReason                                                                                                                   | Enumeration                                     | Read Only                                                 | <ul><li>AUTH_VOIDED - Authorization was cancelled (voided).</li><li> USER_CANCELLED - User cancelled the transaction </li><li>AUTH_EXPIRED - Authorization has expired and no settlements were completed.</ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| usage                                                                                                                          | Enumeration                                     | Read Only                                                 | This specifies how the Payment Handle will be used for Payments. Possible values are:<ul><li>SINGLE_USE &ndash; The Payment Handle can be used for only one transaction and expires if not used.</li><li>MULTI_USE &ndash; The Payment Handle can be used multiple times.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| paymentType                                                                                                                    | Enumeration                                     | Mandatory                                                 | This is the payment type associated with this Payment Handle. Possible values are:<ul><li>CARD</li><li>RAPID_TRANSFER</li><li>BANK_TRANSFER</li>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| action                                                                                                                         | Enumeration                                     | Read Only                                                 | This specifies the next step of the user journey once they proceed to the Payment. Possible values are:<ul><li>NONE &ndash; No action is required, for example, for a standard credit card payment.</li><li>REDIRECT &ndash; The user must be redirected to complete a Payment, for example, when an alternate payment method like Paysafecard is used.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| executionMode                                                                                                                  | Enumeration                                     | Read Only                                                 | This specifies the action of the merchant server to complete the Payment. Possible values are:<ul><li>SYNCHRONOUS &ndash; The status of the Payment request will be returned synchronously to the merchant, for example, a credit card request.</li><li>ASYNCHRONOUS &ndash; The Payment request is not completed immediately and the merchant [must rely on webhooks](#paymentswebhooks) to retrieve the status of the Payment request.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| amount                                                                                                                         | number <br/>`max=99999999999`                   | Mandatory                                                 | This is the amount of the request, in minor units. For example, to process US $10.99, this value should be 1099. To process US $109.9, this value should be 10990.<br/>**Note:** This field is mandatory if *transactionType* is included. <br/>The *amount* specified in the Payment Handle request must match the *amount* specified in the Payments API request the *paymentHandleToken* is used for.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| currencyCode                                                                                                                   | string <br/>`length=3`                          | Mandatory                                                 | This is the currency of the merchant account, for example, USD or CAD. See [Currency Codes](#currencycodes). <br/>The *currencyCode* specified in the Payment Handle request must match the *currencyCode* specified in the Payments API request the *paymentHandleToken* is used for.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| paymentHandleToken                                                                                                             | string <br/>`length=50`                         | Read Only                                                 | This is the payment token generated by Paysafe that will be used by merchants for Payment API requests.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [card](#cardobject) or [rapidTransfer](#rapidtransferobject) or [sepa](#sepaobject) or [fasterPayments](#fasterpaymentsobject) | Object                                         | Mandatory                                                 | These are details of the payment instrument used in the request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| wallet                                                                                                                         | [wallet](#walletobject)                         | Optional                                                  | Wallet object.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| billingDetails                                                                                                                 | [billingDetails](#billingdetailsobject)         | Conditional                                               | These are billing details for the request.<br/>**Note:** For single-use Payment Handles, this address information is ignored if the *paymentHandleTokenFrom* parameter is included and there is already address information associated with that customer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| profile                                                                                                                        | [profile](#profileobject)                       | Conditional                                               | This is the customer's profile. Mandatory for VIP_PREFERRED and Sightline (Play+). Optional for all other payment methods.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| shippingDetails                                                                                                                | Complex                                         | Conditional                                               | These are the shipping details of the request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| merchantDescriptor                                                                                                             | [merchantDescriptor](#merchantdescriptorobject) | Optional                                                  | This is the merchant descriptor that will be displayed on the customer's card or bank statement.<br/>**Note:** Not all processing gateways support this parameter. Contact your account manager for more information.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| returnLinks                                                                                                                    | [returnLinks](#returnlinksobject)               | Mandatory for redirect flows.                             | The URL endpoint to redirect the consumer to. You can customize the return URL based on the transaction status. 'default' is mandatory.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| returnLinks.rel                                                                                                                | Enumeration                                     |                                                           | This is the link type, allowing different endpoints to be targeted depending on the end state of the transaction. The link relation describes how this link relates to the previous call. self will get details of the current call. Options:default - (required) The default return url, will be used if specific status return url is not defined.on_completed - Will be returned to this URL if the payment is completed.on_failed - Will be returned to this URL if the payment is failed.Future Options:on_cancelled,self, void_auths. Not all processing gateways support on_failed. Contact your account manager for more information.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| returnLinks.href                                                                                                               | String                                          |                                                           | The actual URL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| returnLinks.method                                                                                                             | String                                          |                                                           | The HTTP method.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| customerIp                                                                                                                     | string<br/>`length<=39`                         | Mandatory                                                 | This is the customer's IP address.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| timeToLiveSeconds                                                                                                              | number<br/>`length<=899`                        | Read Only                                                 | This is the period of time, in seconds, the *paymentHandleToken* is valid before expiration.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| links                                                                                                                          | [links](#linksobject) Array of link objects     | Read Only                                                 | This provides the redirect details to which a merchant needs to redirect the customer to complete the authentication. Typically the case with 3DS Cards, PSCard, PSCash                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| links.rel                                                                                                                      | [links](#linksobject)  Enumeration              | Read Only                                                 | redirect_payment - Merchant needs to redirect consumer to this url to complete authentication.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| links.href                                                                                                                     | String                                          | Read Only                                                 | The URL to redirect.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| links.method                                                                                                                   | String                                          | Read Only                                                 | The HTTP method to be used, if needed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| customerId                                                                                                                     | String  Max = 36                                | Read Only                                                 | The HTTP method to be used, if needed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| txnTime                                                                                                                        | UTC formatted date                              | Read Only                                                 | This is the date and time the request was processed. For example:<br/>2019-01-26T10:32:28Z                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| gatewayResponse                                                                                                                | [gatewayResponse](#gatewayresponseobject)       | Read Only                                                 | This is the read-only raw response returned by an acquirer. It is returned only if your account is configured accordingly.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| updatedTime                                                                                                                    | datetime                                        | Read Only                                                 | ISO 8601 format (UTC) This is the date and time the resource was last updated, for example, `2014-01-26T10:32:28Z`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| statusTime                                                                                                                     | datetime                                        | Read Only                                                 | ISO 8601 format (UTC) This is the date and time the resource was last updated, for example, `2014-01-26T10:32:28Z`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| meta                                                                                                                           | [meta](#metaobject)                             | Read Only                                                 | This is the information of the response.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| error                                                                                                                          | error Object                                    |                                                           | Represents the customer id, which is saved at Paysafe side.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| timeToLiveSeconds                                                                                                              | Long                                            | Read Only                                                 | This is the period of time the paymentHandleToken is valid before expiration, in seconds, returned in the response.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |


```apib
{
    "merchantRefNum": "merchantRefNum-101",
    "transactionType": "PAYMENT",
    "card": {
        "cardNum": "5191330000004415",
        "cardExpiry": {
            "month": 10,
            "year": 2021
        },
        "cvv": "111",
        "holderName": "Chad"
    },
    "wallet" : {
       "customerId" : "12345",
       "fee": 400,
       "deviceInfo" : {
          "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
          "threatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF&..."
       }
    },   
    "paymentType": "CARD",
    "amount": 190,
    "currencyCode": "GBP",
    "customerIp": "73.82.192.17",
    "billingDetails": {
        "nickName": "Home",
        "street": "100 Queen",
        "street2": "Unit 201",
        "city": "Toronto",
        "zip": "M5H 2N2",
        "country": "CA"
    },
    "returnLinks": [{
            "rel": "on_completed",
            "href": "https://US_commerce_site/payment/return/success",
            "method": "GET"
        },
        {
            "rel": "on_failed",
            "href": "https://US_commerce_site/payment/return/failed",
            "method": "GET"
        }
    ]
}
```

<a name="paymentsobject" title="Payments Object"></a>
## Payment

| Element            | Type                                      | Required  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|--------------------|-------------------------------------------|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id                 | string <br/>`length<=36`                  | Read Only | This is the ID returned in the response. This ID can be used for future associated requests.                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| merchantRefNum     | string <br/>`length<=255`                 | Mandatory | This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| amount             | number<br/>`max=99999999999`              | Mandatory | This is the amount of the request, in minor units. For example, to process US $10.99, this value should be 1099. <br/>**Note:** The *amount* specified in the Payment request must match the *amount* specified in the Payment Handle request from which the *paymentHandleToken* is taken.                                                                                                                                                                                                                                                                               |
| settleWithAuth     | boolean                                   | Optional  | This indicates whether the request is an Authorization only (no Settlement), or a Purchase (Authorization and Settlement).<br/><ul><li>false &ndash; The request is not settled</li><li>true &ndash; The request is settled</li></ul><br/>**Note:** Defaults to *true*.                                                                                                                                                                                                                                                                                                   |
| paymentHandleToken | string<br/>`length<=36`                   | Mandatory | This is the Payment Handle token that represents the payment instrument to be used in the Payment request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| availableToSettle  | number                                    | Read Only | This is the amount of the Authorization remaining to settle, in minor units.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| customerIp         | string<br/>`length<=39`                   | Mandatory | This is the customer's IP address.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| description        | string<br/>`length<=255`                  | Optional  | This is a description of the transaction, provided by the merchant.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| txnTime            | UTC formatted date                        | Read Only | This is the date and time the request was processed. For example:<br/>2019-01-26T10:32:28Z                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| status             | enum                                      | Read Only | This is the status of the transaction request. Possible values are:<ul><li>RECEIVED &ndash; Our system has received the request and is waiting for the downstream processor’s response.</li><li>COMPLETED &ndash; The transaction has been completed.</li><li>HELD &ndash; The transaction has been placed on hold due to risk considerations.</li><li>FAILED &ndash; The transaction failed, due to either an error or being declined.</li><li>CANCELLED &ndash; The request has been fully voided (reversed).</li><li>PENDING &ndash; The request is pending.</li></ul> |
| currencyCode       | string<br/>`length=3`                     | Mandatory | This is the currency of the merchant account, for example, USD or CAD, returned in the request response. See [Currency Codes](#currencycodes). <br/>**Note:** The *currencyCode* specified in the Payment request must match the *currencyCode* specified in the Payment Handle request from which the *paymentHandleToken* is taken.                                                                                                                                                                                                                                     |
| wallet             | [wallet](#walletobject)                   | Read Only | Wallet object.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| gatewayResponse    | [gatewayResponse](#gatewayresponseobject) | Read Only | This is the read-only raw response returned by an acquirer. It is returned only if your account is configured accordingly.                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|riskReasonCode     |array                                  |Read Only|An array of integers is returned, displaying the detailed risk reason codes when your transaction was declined. It is returned only when your account is configured accordingly.
|storedCredentialDetails |[storedCredentialDetails](#storedcredentialobject) || This object is used to identify requests that use stored credentials that the merchant has on file for the consumer, in order to improve authorization rates and reduce fraud. |
|settlements        |array                                  |Read Only|This is a read-only list of all Settlements. This will be returned only if *settleWithAuth* = *true* in the request. |
|error              |[error](#errorobject)                  |Read Only| Details of the error.    |
|statusReason       |string<br/>`length<=255`               |Read Only|This is reason for the status. This is present in the case where *status* is ERROR, FAILURE, or HELD. |
|authentication     |[authentication](#authenticationobject)|Read Only|These are 3D Secure details.|
|paymentType            |enum                       |Optional|This is the payment type associated with this Payment Handle. Possible values are:<ul><li>CARD</li><li>RAPID_TRANSFER</li></ul>|
|gatewayReconciliationId |string                 |Optional|Transaction identifier that can be used to reconcile this transaction with the provider gateway.<br/><i>Read Only</i>|
|updatedTime             |datetime               |Optional|ISO 8601 format (UTC) </b>This is the date and time the resource was last updated, for example, `2014-01-26T10:32:28Z`<br/><i>Read Only</i>|
|statusTime              |datetime               |Optional|ISO 8601 format (UTC) </b>This is the date and time the resource status was last updated, for example, `2014-01-26T10:32:28Z`<br/><i>Read Only</i>|
|availableToRefund  |number<br/>`max=99999999999`|Optional|This is the amount of this Settlement that is available to Refund, in minor units. For example, US $10.99 would be 1099.|

```apib
{
    "merchantRefNum": "merchantRefNum-108",
    "amount": 190,
    "currencyCode": "GBP",
    "dupCheck": true,
    "settleWithAuth": false,
    "paymentHandleToken": "SCZJg09GWSv36NLB",
    "customerIp": "73.82.192.17",
    "description": "Gaming Request"
}
```

<a name="profileobject" title="Profile Object"></a>
## profile

| Element     | Type                              | Required | Description                                                                                                         |
|-------------|-----------------------------------|----------|---------------------------------------------------------------------------------------------------------------------|
| locale      | enum                              | Required | This indicates the language of the profile. Possible values are:<ul><li>en_US</li><li>fr_CA</li><li>en_GB</li></ul> |
| firstName   | string <br/>`length<=80`          | Required | This is the customer’s first name.                                                                                  |
| lastName    | string <br/>`length<=80`          | Required | This is the customer’s last name.                                                                                   |
| email       | string<br/>`length<=255`          | Required | This is the customer's email address.                                                                               |
| phone       | string<br/>`length<=40`           | Required | This is the customer's phone number.                                                                                |
| dateOfBirth | [dateOfBirth](#dateofbirthobject) | Required | This is the customer's date of birth.                                                                               |

```apib
            {
              "locale" : "en_US",
              "firstName" : "John",
              "lastName" : "Smith",
              "email" : "john.smith@somedomain.com",
              "phone" : "713-444-5555"
              "dateOfBirth" : "04-25-1987"
             }
```

<a name="rapidtransferobject" title="rapidTransfer Object"></a>
## rapidTransfer

| Element | Type                | Required  | Description        |
|---------|---------------------|-----------|--------------------|
| sepa    | [sepa](#sepaObject) | Mandatory | Sepa bank account. |

```apib
    {
    "rapidTransfer" : {
        "sepa": {
           "nickName": "Sally's Barclays Account",
           "accountHolderName": "John Doe",
           "bic": "ABNANL2APIP",
           "iban": "DE89370400440532013000"
        }
      }
    }
```

<a name="returnlinksobject" title="returnLinks Object"></a>
## returnLinks

| Element | Type   | Required  | Description                                                                                                                                                                                                                                                                                                                                                                                                        |
|---------|--------|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| rel     | enum   | Mandatory | This is the link type that allows different endpoints to be targeted depending on the end state of the transaction. Possible values are:<ul><li>default - The default return URL that will be used if specific status return URL is not defined.</li><li>on_completed - Will be returned to this URL if the payment is completed.</li><li>on_failed - Will be returned to this URL if the payment fails.</li></ul> |
| href    | string | Mandatory | This is the URI of the resource.                                                                                                                                                                                                                                                                                                                                                                                   |
| method  | string | Mandatory | This is the HTTP method.                                                                                                                                                                                                                                                                                                                                                                                           |

```apib
{
    "returnLinks": [{
            "rel": "on_completed",
            "href": "https://US_commerce_site/payment/return/success",
            "method": "GET"
        },
        {
            "rel": "on_failed",
            "href": "https://US_commerce_site/payment/return/failed",
            "method": "GET"
        }
    ]
}
```

<a name="sepaobject" title="sepa Object"></a>
## sepa

| Element           | Type                     | Required  | Description                                                                    |
|-------------------|--------------------------|-----------|--------------------------------------------------------------------------------|
| nickName          | string <br/>`length<=50` | Optional  | This is alias name for the bank account.                                       |
| accountHolderName | string<br/>`length<32`   | Mandatory | This is the name of the customer or company that owns the bank account.        |
| bic               | string<br/>`length=8-11` | Mandatory | This is the Bank Identifier Code for the consumer's bank account..             |
| iban              | string<br/>`length=8-34` | Mandatory | This is the International Bank Account Number for the costumer's bank account. |
| lastDigits        | string<br/>`length=2`    | Read Only | Last 2 digits of the iban.                                                     |

```apib
    {
    "sepa": {
        "nickName": "Sally's Barclays Account",
        "accountHolderName": "John Doe",
        "bic": "ABNANL2APIP",
        "iban": "DE89370400440532013000"
      }
    }
```

<a name="settlementsobject" title="settlements Object"></a>
## settlement
| Element           | Type                         | Required  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|-------------------|------------------------------|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id                | string <br/>`length<=36`     | Read Only | This is the ID returned in the response. This ID can be used for future associated requests.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| merchantRefNum    | string <br/>`length<=255`    | Mandatory | This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| amount            | number<br/>`max=99999999999` | Optional  | This is the amount of the request, in minor units.For example, to process US $10.99, this value should be 1099.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| dupCheck          | boolean                      | Optional  | This validates that this request is not a duplicate. A duplicate request is when the *merchantRefNum* has already been used in a previous request within the past 90 days.<br/>**Note:** This value defaults to *true*.                                                                                                                                                                                                                                                                                                                                                                  |
| availableToRefund | number<br/>`max=99999999999` | Read Only | This is the amount of this Settlement that is available to Refund, in minor units. For example, US $10.99 would be 1099.                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| txnTime           | UTC formatted date           | Read Only | This is the date and time the request was processed. For example:<br/>2014-01-26T10:32:28Z                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| status            | enum                         | Read Only | This is the status of the transaction request. Possible values are:<ul><li>RECEIVED &ndash; Our system has received the request and is waiting for the downstream processor’s response.</li><li>PENDING &ndash; Our system has received the request but it has not yet been batched.</li><li>PROCESSING &ndash; The Settlement batch has started.</li><li>COMPLETED &ndash; The transaction has been completed.</li><li>FAILED &ndash; The transaction failed, due to either an error or being declined.</li><li>CANCELLED &ndash; The transaction request has been cancelled.</li></ul> |
| error             | [error](#errorobject)        | Read Only | Details of the error.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| riskReasonCode     |array                                  |Read Only|An array of integers is returned, displaying the detailed risk reason codes when your transaction was declined. It is returned only when your account is configured accordingly.
| gatewayResponse    |[gatewayResponse](#gatewayresponseobject) |Read Only| This is the read-only raw response returned by an acquirer. It is returned only if your account is configured accordingly.|


```apib
{
    "merchantRefNum":"merchantRef_2019_04_11_05",
    "amount":100
}
```


<a name="standalonecreditsobject" title="standalonecredits Object"></a>
## Standalone Credit

| Element            | Type                                        | Required  | Description                                                                                                                                                                                                                                                                                                                          |
|--------------------|---------------------------------------------|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id                 | string <br/>`length<=36`                    | Read Only | This is the ID returned in the response. This ID can be used for future associated requests.                                                                                                                                                                                                                                         |
| amount             | number<br/>`max=99999999999`                | Mandatory | This is the amount of the request, in minor units. For example, to process US $10.99, this value should be 1099. <br/>**Note:** The *amount* specified in the Credit request must match the *amount* specified in the Payment Handle request from which the *paymentHandleToken* is taken.                                           |
| merchantRefNum     | string <br/>`length<=255`                   | Mandatory | This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.                                                                                                                                                                                              |
| paymentHandleToken | string                                      | Mandatory | This is the payment token generated by Paysafe that will be used by merchants for Standalone Credit requests.                                                                                                                                                                                                                        |
| currencyCode       | string<br/>`length=3`                       | Mandatory | This is the currency of the merchant account, for example, USD or CAD, returned in the request response. See [Currency Codes](#currencycodes). <br/>**Note:** The *currencyCode* specified in the Credit request must match the *currencyCode* specified in the Payment Handle request from which the *paymentHandleToken* is taken. |
| [card](#cardobject) or [sepa](#sepaobject) or [fasterPayments](#fasterpaymentsobject)        | Object | Read Only | These are the details of the payment method used.                                                                                                                                                                                                                                                                                    |
| billingDetails     | [billingDetails](#billingdetailsobject)     | Optional  | These are the billing details for the request.                                                                                                                                                                                                                                                                                       |
| customerIp         | string<br/>`length<=39`                     | Mandatory | This is the customer's IP address.                                                                                                                                                                                                                                                                                                   |
| description        | string<br/>`length<=255`                    | Optional  | This is a description of the transaction, provided by the merchant.                                                                                                                                                                                                                                                                  |

```apib
{
  "merchantRefNum":"merchant ABC-444",
  "amount":10098,
  "paymentHandleToken": "SC9mbfZSITB5OwDJ",
  "currencyCode": "GBP",
  "customerIp": "73.82.192.17",
  "description":"Winning payment from Loto"
}
```

<a name="threeDsobject" title= "threeDs Object"></a>
## threeDs

|Element            |Type                      |Required  | Description                       |
|---                |---                       |--------  |---                                |
|threeDs            |string <br/>              |Optional  |Denotes the status of threeDs object. If true and is configured in the backend for the respective accountId, it is mandatory to pass this parameters. If false, parameters need not be passed.

```apib
{
    "threeDs": {
         "merchantUrl": "https://api.qa.paysafe.com/checkout/v2/index.html#/desktop",
         "deviceChannel": "BROWSER",
         "messageCategory": "PAYMENT",
         "transactionIntent": "GOODS_OR_SERVICE_PURCHASE",
         "authenticationPurpose": "PAYMENT_TRANSACTION"
     },
}
```
<a name="transaction" title="Transaction Object"></a>
## transaction

| Element   | Type             | Required  | Description                                                                                                        |
|-----------|------------------|-----------|--------------------------------------------------------------------------------------------------------------------|
| id      | string <br/>     | Read Only | This is the transaction id posted to the wallet account.|
| type      | string <br/>     | Read Only | This is the type of the transactions posted in the wallet account. Possible values are:<ul><li>DEPOSIT</li><li>WITHDRAWAL</li><li>CHARGEBACK_REVERSAL</li><li>RETURNED_WITHDRAWAL</li><li>CHARGEBACK</li><li>MERCHANT_FEE</li><li>TRANSACTION_FEE</li><li>CANCELATION</li><li>TRANSFER_IN</li><li>TRANSFER_OUT</li></ul> |
| amount    | number <br/> | Read Only | This is the amount for the posting.                                                                                |
| currencyCode | string <br/>`length=3` | Read Only | This is the currency of the wallet account.|
| creationTime | UTC formatted date | Read Only | This is the date and time the transaction was created. For example:<br/>2019-01-26T10:32:28Z                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| direction | string <br/>     | Read Only | This is the direction of the transactions applied on wallet account. Valid values are CREDIT. DEBIT                |
| fee    | number <br/> | Read Only | This is the fee applied on the transaction.|
| paymentType      | enum <br/>     | Read Only | This is the payment type used for thetransaction. Possible values are:<ul><li>CARD</li><li>RAPID_TRANSFER</li><li>BANK_TRANSFER</li></ul>|
| status | enum <br/>     | Read Only | This is the status of the transactions. Possible values are:<ul><li>PENDING</li><li>PROCESSING</li><li>COMPLETED</li><li>FAILED</li><li>CANCELLED</li></ul>|
| statusReason | enum <br/>     | Read Only | This is the reason code of the current status. Possible values are:<ul><li>ACTION_REQUIRED</li><li>PENDING_KYC</li><li>PENDING_REVIEW</li><li>PENDING_SCREENING</li><li>RECIPIENT_ACTION_REQUIRED</li><li>WAITING_FOR_RECIPIENT_ACCOUNT</li></ul>|
| merchantRefNum    | String <br/> | Read Only | This is the merchant reference number specified by the merchant.|

```apib
    {
    "transaction": {
        "id": "12321",
        "type": "DEPOSIT",
        "amount": 1000,
        "currencyCode": "GBP",
        "creationTime": "2021-07-15T17:54:12Z",
        "direction": "CREDIT",
        "fee": 400,
        "paymentType": "CARD",
        "status": "COMPLETED",
        "merchantRefNum": "testTrans"
      }
    }
```



<a name="wallet" title="Wallet Object"></a>
## wallet

| Element    | Type         | Required  | Description                   |
|------------|--------------|-----------|-------------------------------|
| customerId | string <br/> |           | The wallet customer id.       |
| slipId     | string <br/> | Read Only | The transaction id at wallet. |
|fee                |BigInteger<br/>    |            |Fee to be applied on this wallet account transaction.|
|deviceInfo                |[deviceInfo](#deviceinfoobject)    |            |Device Information.|
|customerAccount         |[customerAccount](#customerAccount)|Ready Only|Customer account.|
|merchantAccount         |[merchantAccount](#merchantAccount)|Ready Only|Merchant account.|

```apib
    {
    "wallet":{
       "customerId" : "12345",
       "slipId" : "100753",
       "fee": 400,
       "deviceInfo" : {
          "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
          "threatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF&..."
       },
       "customerAccount" : {
         "id":"abc",
         "transactions" : [ {
              "id": "12321",
              "type": "DEPOSIT",
              "amount": 1000,
              "currencyCode": "EUR",
              "creationTime": "2021-07-15T17:54:12Z",
              "direction": "CREDIT",
              "fee": 400,
              "paymentType": "CARD",
              "status": "COMPLETED",
              "merchantRefNum": "testTrans"
            },
           {
              "id": "12322",
              "type": "MERCHANT_FEE",
              "amount": 400,
              "currencyCode": "EUR",
              "creationTime": "2021-07-15T17:54:12Z",
              "direction": "DEBIT",
              "fee": 0,
              "paymentType": "CARD",
              "status": "COMPLETED",
              "merchantRefNum": "testTrans"
            }
         ]
        },
        "merchantAccount" : {
           "id": "def",
           "transactions" : [ {
              "id": "12323",
              "type": "MERCHANT_FEE",
              "amount": 400,
              "currencyCode": "EUR",
              "creationTime": "2021-07-15T17:54:12Z",
              "direction": "CREDIT",
              "fee": 100,
              "paymentType": "CARD",
              "status": "COMPLETED",
              "merchantRefNum": "testTrans"
            },
           {
              "id": "12324",
              "type": "FEE",
              "amount": 100,
              "currencyCode": "EUR",
              "creationTime": "2021-07-15T17:54:12Z",
              "direction": "DEBIT",
              "fee": 0,
              "paymentType": "CARD",
              "status": "COMPLETED",
              "merchantRefNum": "testTrans"
            }
          ]
       }
  }
```

# Error Summary

## Common Errors
| HTTP Status Code | Error Code | Description                                                                                                                                                                 |
|------------------|------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 500              | 1000       | An internal error occurred.                                                                                                                                                 |
| 502              | 1001       | An error occurred with the external processing gateway.                                                                                                                     |
| 500              | 1002       | An internal error occurred.                                                                                                                                                 |
| 500              | 1003       | An internal error occurred.                                                                                                                                                 |
| 500              | 1007       | An internal error occurred.                                                                                                                                                 |
| 500              | 1008       | An internal error occurred.                                                                                                                                                 |
| 429              | 1200       | The API call has been denied as it has exceeded the permissible call rate limit.                                                                                            |
| 401              | 5000       | Your merchant account authentication failed. Either your store ID/password is invalid or the IP address from which you are sending the transaction has not been authorized. |
| 400              | 5001       | The submitted currency code is invalid or your account does not support this currency.                                                                                      |
| 400              | 5003       | You submitted an invalid amount with your request.                                                                                                                          |
| 400              | 5004       | You submitted an invalid account type with your request.                                                                                                                    |
| 400              | 5005       | You submitted an invalid operation type with your request.                                                                                                                  |
| 400              | 5010       | The submitted country code is invalid.                                                                                                                                      |
| 400              | 5016       | The merchant account you provided cannot be found.                                                                                                                          |
| 400              | 5017       | The merchant account you provided is disabled.                                                                                                                              |
| 402              | 5021       | Your transaction request has been declined.                                                                                                                                 |
| 400              | 5023       | The request is not parseable.                                                                                                                                               |
| 409              | 5031       | The transaction you have submitted has already been processed.                                                                                                              |
| 401              | 5040       | Your merchant account is not configured for the transaction you attempted.                                                                                                  |
| 400              | 5042       | The merchant reference number is missing or invalid or it exceeds the maximum permissible length.                                                                           |
| 400              | 5068       | Either you submitted a request that is missing a mandatory field or the value of a field does not match the format expected.                                                |
| 404              | 5269       | The ID(s) specified in the URL do not correspond to the values in the system.                                                                                               |
| 403              | 5270       | The credentials provided with the request do not have permission to access the requested data.                                                                              |
| 406              | 5271       | You requested a response in the 'Accept' header that is in an unsupported format.                                                                                           |
| 406              | 5272       | The 'Content-Type' you specified in request header was submitted in an unsupported format.                                                                                  |
| 404              | 5273       | Your client reached our application but we were unable to service your request due to an invalid URL.                                                                       |
| 401              | 5275       | The authentication credentials provided with the request have expired.                                                                                                      |
| 401              | 5276       | The authentication credentials provided with the request provided have been disabled.                                                                                       |
| 401              | 5277       | The authentication credentials provided with the request have been locked due to multiple authentication failures.                                                          |
| 401              | 5278       | The authentication credentials provided with the request were not accepted for an unknown reason.                                                                           |
| 401              | 5279       | The authentication credentials are invalid.                                                                                                                                 |
| 401              | 5280       | The required authentication credentials were not provided.                                                                                                                  |
| 405              | 5281       | The request uses an action (for example, GET, POST, or PUT) that is not supported by the resource.                                                                          |
| 400              | 5283       | The requested operation can only be executed on a Payment Handle with the status of *PAYABLE*.                                                                              |
| 400              | 5501       | The profile does not have an active credit card.                                                                                                                            |
| 400              | 5502       | Either the payment token is invalid or the corresponding profile or bank account is not active.                                                                             |

## Payment Errors
| HTTP Status Code | Error Code   | Description                                                                                                                                                                                                                          |
|------------------|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 400              | PAYMENTHUB-1 | The submitted payment type and currency code combination is not supported.                                                                                                                                                           |
| 400              | 3002         | You submitted an invalid card number or brand or combination of card number and brand with your request.                                                                                                                             |
| 400              | 3004         | The zip/postal code must be provided for an AVS check request.                                                                                                                                                                       |
| 400              | 3005         | You submitted an incorrect CVV value with your request.                                                                                                                                                                              |
| 400              | 3006         | You submitted an expired credit card number with your request.                                                                                                                                                                       |
| 402              | 3007         | Your request has failed the AVS check. Note that the amount has still been reserved on the customer's card and will be released in 3–5 business days. Please ensure the billing address is accurate before retrying the transaction. |
| 400              | 3008         | You submitted a card type for which the merchant account is not configured.                                                                                                                                                          |
| 402              | 3009         | Your request has been declined by the issuing bank.                                                                                                                                                                                  |
| 402              | 3011         | Your request has been declined by the issuing bank because the card used is a restricted card. Contact the cardholder's credit card company for further investigation.                                                               |
| 402              | 3012         | Your request has been declined by the issuing bank because the credit card expiry date submitted is invalid.                                                                                                                         |
| 402              | 3013         | Your request has been declined by the issuing bank due to problems with the credit card account.                                                                                                                                     |
| 402              | 3014         | Your request has been declined - the issuing bank has returned an unknown response. Contact the card holder's credit card company for further investigation.                                                                         |
| 402              | 3015         | The bank has requested that you process the transaction manually by calling the cardholder's credit card company.                                                                                                                    |
| 402              | 3016         | The bank has requested that you retrieve the card from the cardholder – it may be a lost or stolen card.                                                                                                                             |
| 402              | 3017         | You submitted an invalid credit card number with your request.                                                                                                                                                                       |
| 402              | 3018         | The bank has requested that you retry the transaction.                                                                                                                                                                               |
| 402              | 3019         | Your request has failed the CVV check. Please note that the amount may still have been reserved on the customer's card, in which case it will be released in 3–5 business days.                                                      |
| 402              | 3020         | The bank has requested that you retry the transaction.                                                                                                                                                                               |
| 404              | 3021         | The confirmation number included in this request could not be found.                                                                                                                                                                 |
| 402              | 3022         | The card has been declined due to insufficient funds.                                                                                                                                                                                |
| 402              | 3023         | Your request has been declined by the issuing bank due to its proprietary card activity regulations.                                                                                                                                 |
| 402              | 3024         | Your request has been declined because the issuing bank does not permit the transaction for this card.                                                                                                                               |
| 400              | 3025         | The external processing gateway has reported invalid data.                                                                                                                                                                           |
| 400              | 3026         | The external processing gateway has reported the account type is invalid.                                                                                                                                                            |
| 402              | 3027         | The external processing gateway has reported a limit has been exceeded.                                                                                                                                                              |
| 502              | 3028         | The external processing gateway has reported a system error.                                                                                                                                                                         |
| 402              | 3029         | The external processing gateway has rejected the transaction.                                                                                                                                                                        |
| 402              | 3030         | The external processing gateway has reported the transaction is unauthorized.                                                                                                                                                        |
| 400              | 3031         | The confirmation number you submitted with your request references a transaction that is not on hold.                                                                                                                                |
| 402              | 3032         | Your request has been declined by the issuing bank or external gateway because the card is probably in one of their negative databases.                                                                                              |
| 402              | 3035         | Your request has been declined due to exceeded PIN attempts.                                                                                                                                                                         |
| 402              | 3036         | Your request has been declined due to an invalid issuer.                                                                                                                                                                             |
| 402              | 3037         | Your request has been declined because it is invalid.                                                                                                                                                                                |
| 402              | 3038         | Your request has been declined due to customer cancellation.                                                                                                                                                                         |
| 402              | 3039         | Your request has been declined due to an invalid authentication value.                                                                                                                                                               |
| 402              | 3040         | Your request has been declined because the request type is not permitted on the card.                                                                                                                                                |
| 402              | 3041         | Your request has been declined due to a timeout.                                                                                                                                                                                     |
| 402              | 3042         | Your request has been declined due to a cryptographic error.                                                                                                                                                                         |
| 402              | 3044         | You have submitted a duplicate request.                                                                                                                                                                                              |
| 402              | 3045         | You submitted an invalid date format for this request.                                                                                                                                                                               |
| 402              | 3046         | The transaction was declined because the amount was set to zero.                                                                                                                                                                     |
| 402              | 3047         | The transaction was declined because the amount exceeds the floor limit.                                                                                                                                                             |
| 402              | 3048         | The transaction was declined because the amount is less than the floor limit.                                                                                                                                                        |
| 402              | 3049         | The bank has requested that you retrieve the card from the cardholder – the credit card has expired.                                                                                                                                 |
| 402              | 3050         | The bank has requested that you retrieve the card from the cardholder – fraudulent activity is suspected.                                                                                                                            |
| 402              | 3051         | The bank has requested that you retrieve the card from the cardholder – contact the acquirer for more information.                                                                                                                   |
| 402              | 3052         | The bank has requested that you retrieve the card from the cardholder – the credit card is restricted.                                                                                                                               |
| 402              | 3053         | The bank has requested that you retrieve the card from the cardholder – please call the acquirer.                                                                                                                                    |
| 402              | 3054         | The transaction was declined due to suspected fraud.                                                                                                                                                                                 |
| 402              | 3055         | This type of transaction is not supported.                                                                                                                                                                                           |
| 402              | 3056         | The original transaction type does not match.                                                                                                                                                                                        |
| 402              | 3057         | Please tell cardholder to call the issuer – do not retry transaction.                                                                                                                                                                |
| 409              | 5284         | An entity with the specified identifier(s) already exists.                                                                                                                                                                           |
| 400              | 5286         | Card with the specified identifier(s) does not exist.                                                                                                                                                                                |
| 404              | 5288         | Card does not belong to consumer.                                                                                                                                                                                                    |
| 400              | 5303         | Payment instrument already exists.                                                                                                                                                                                                   |
| 400              | 5304         | Expired card.                                                                                                                                                                                                                        |
| 403              | 5309         | The maximum amount of money allowed for the requested operation is exceeded.                                                                                                                                                         |

## Settlement Errors
| HTTP Status Code | Error Code | Description                                                                     |
|------------------|------------|---------------------------------------------------------------------------------|
| 400              | 3200       | You have submitted an invalidly formatted Authorization ID for this Settlement. |
| 404              | 3201       | The Authorization ID included in this Settlement request could not be found.    |
| 402              | 3202       | You have exceeded the maximum number of Settlements allowed.                    |
| 402              | 3203       | The Authorization is either fully settled or cancelled.                         |
| 402              | 3204       | The requested Settlement amount exceeds the remaining Authorization amount.     |
| 402              | 3205       | The Authorization you are attempting to settle has expired.                     |
| 402              | 3206       | The external processing gateway has rejected the transaction.                   |
| 402              | 3207       | Due to issuer policies, this type of transaction is not allowed.                |

## Refund Errors
| HTTP Status Code | Error Code | Description                                                                                                           |
|------------------|------------|-----------------------------------------------------------------------------------------------------------------------|
| 402              | 3402       | The requested Refund amount exceeds the remaining Settlement amount.                                                  |
| 402              | 3403       | You have already processed the maximum number of refunds allowed for this Settlement.                                 |
| 402              | 3404       | The Settlement has already been fully refunded.                                                                       |
| 402              | 3405       | The Settlement you are attempting to Refund has expired.                                                              |
| 402              | 3406       | The Settlement you are attempting to Refund has not been batched yet. There are no settled funds available to Refund. |
| 400              | 3407       | The Settlement referred to by the transaction response ID you provided cannot be found.                               |
| 400              | 3408       | You have submitted an invalidly formatted response ID for the original Purchase or Settlement.                        |
| 402              | 3412       | The Refund transaction you attempted was not permitted because your merchant account is in overdraft.                 |
| 402              | 3413       | The requested Refund amount exceeds the permissible Visa credit ratio.                                                |
| 400              | 3414       | The Refund referred to by the transaction response ID you provided cannot be found.                                   |
| 402              | 3415       | You cannot cancel this transaction as it is no longer in a pending state.                                             |
| 402              | 3416       | The external processing gateway for which your merchant account is configured does not support partial Settlements.   |
| 402              | 3417       | There is already another request being processed on the transaction referenced for this request.                      |
| 402              | 3418       | The external processing gateway for which your merchant account is configured does not support partial Credits.       |
| 402              | 3419       | This type of transaction cannot be refunded.                                                                          |

## Customer Vault Errors
| HTTP Status Code | Error Code | Description                                                                                                                   |
|------------------|------------|-------------------------------------------------------------------------------------------------------------------------------|
| 409              | 7503       | The card number you are trying to add to this profile is already used by this profile.                                        |
| 409              | 7504       | This card has been used for the maximum number of profiles allowed. Please use a different card.                              |
| 409              | 7505       | The *merchantCustomerId* provided for this profile has already been used for another profile.                                 |
| 409              | 7506       | The bank account you are trying to add to this profile is already in use.                                                     |
| 409              | 7507       | The mandate reference you are trying to add to this profile is already in use.                                                |
| 400              | 7508       | You submitted an invalid card number or brand or combination of card number and brand with your request.                      |
| 409              | 7509       | The bank account has one or more existing mandates so associated banking information cannot be updated.                       |
| 400              | 7510       | You submitted invalid bank account information for your banking scheme.                                                       |
| 404              | 7511       | The address ID provided in your request could not be found.                                                                   |
| 400              | 7512       | The merchant's Apple Pay configuration could not be found.                                                                    |
| 400              | 7513       | The Apple Pay token is invalid.                                                                                               |
| 404              | 7514       | The payment token has expired.                                                                                                |
| 409              | 7515       | The card cannot be added to this profile because the profile has reached the maximum number of cards allowed.                 |
| 400              | 7516       | You need to provide at least one search parameter.                                                                            |
| 400              | 7517       | You need to provide dates with the format YYYY-MM-DDTHH24:MI:SSZ.                                                             |
| 400              | 7518       | The days between the dates specified exceeds the maximum.                                                                     |
| 400              | 7519       | The pagination limit exceeds the maximum.                                                                                     |
| 409              | 7520       | The bank account cannot be added to this profile because the profile has reached the maximum number of bank accounts allowed. |

## Alternate Payments Errors
| HTTP Status | Error Code                    | Message                                                                                  | Details                                                                                            |
|-------------|-------------------------------|------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------|
| 402         | ALTERNATE-PAYMENTS-GATEWAY-1  | Transaction cancelled at the gateway                                                     | The transaction was cancelled at the gateway.                                                      |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-4  | Transaction declined by the gateway                                                      | The transaction declined by the gateway.                                                           |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-5  | Incomplete transaction                                                                   | The requested operation can only be executed on a completed transaction.                           |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-6  | Over refund                                                                              | The total refund amount cannot exceed the original payment amount.                                 |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-7  | Payment expired                                                                          | The payment has expired.                                                                           |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-8  | Over settlement                                                                          | The total Settlement amount cannot exceed the authorized (payment) amount.                         |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-9  | Risk gateway error                                                                       | A risk issue was reported by the gateway.                                                          |
| 502         | ALTERNATE-PAYMENTS-GATEWAY-10 | Payment type temporarily unavailable                                                     | The gateway is temporarily unavailable due to system maintenance activities.                       |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-11 | Over voidauth                                                                            | The void authorization cannot exceed the amount remaining to settle for the corresponding payment. |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-12 | Payment already settled                                                                  | The payment is already partially/fully settled.                                                    |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-13 | Transaction not refundable yet                                                           | The transaction is not refundable yet.                                                             |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-14 | Partial settlements not possible                                                         | Partial Settlements are not possible with the selected payment method.                             |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-16 | The requested amount exceeds the allowed maximum for the specified payment type.         | The requested amount exceeds the allowed maximum for the specified payment type.                   |
| 504         | ALTERNATE-PAYMENTS-GATEWAY-17 | Your request timed out before it could be completed.                                     | Your request timed out before it could be completed.                                               |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-19 | The payment instrument does not have sufficient funds.                                   | The payment instrument does not have sufficient funds.                                             |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-20 | The third-party account has not been activated.                                          | The third-party account has not been activated.                                                    |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-21 | The requested amount is under the allowed minimum amount for the specified payment type. | The requested amount is under the allowed minimum amount for the specified payment type.           |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-22 | The provided identity details do not match the identity details already present.         | The provided identity details do not match the identity details already present.                   |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-23 | The KYC documents provided could not be verified.                                        | The KYC documents provided could not be verified.                                                  |
| 402         | ALTERNATE-PAYMENTS-GATEWAY-24 | There is an already existing third-party account with the details provided.              | There is an already existing third-party account with the details provided.                        |


# Using the Example API Calls (Console Window)

To configure and test the API examples, first click on one of the API calls in the API Reference section and then click **Switch to Console** in the right-hand pane.
Using the Console window you can update the headers, the request body, and parts of the API endpoint. For example, for many lookup requests you must update the endpoint to include your request ID (for example, payment_id), which you do by selecting **URI Parameters** and then updating the respective *id* value.

![](https://github.com/paysafegroup/paysafe_api_paymenthub_v1/raw/master/images/ApiaryConsole.png)

You must also update the Header to include your API Key by selecting **Headers** and then updating the **Authorization** value using the Base64 version of your API key.
To get your Base64 encoded API key, sign in to the Business Portal and go to **Integrate>API Keys**.
![](https://github.com/paysafegroup/paysafe_api_paymenthub_v1/raw/master/images/API_authorization.png)

When you are ready to test your example, you can choose between the Production and Mock server environment:

- Production server – This calls the resource on Paysafe's Test system.
- Mock server – This environment simply returns the dummy values in the example response irrespective of the parameters you supply. You do not need to use your account ID or Test API key for this request.

To call the API resource, click **Call Resource**. The response is displayed in the Console window.

# Legal and Community
<ul>
<li><a href="https://www.paysafe.com/paysafegroup/privacy-policy/" target="_blank">Privacy Policy</a></li>
<li><a href="https://developer.paysafe.com/en/resources-and-support/terms-of-use/" target="_blank">Terms of Use</a></li>
<li><a href="https://www.paysafe.com/paysafegroup/regulatory-disclosures/" target="_blank">Regulatory Disclosures</a></li>
</ul>

# Verify That the Service Is Accessible [GET /paymenthub/v1/monitor]
<a name="verifyservice" title="Verify Service"></a>

This call returns a status of READY if the API is available.

+ Response 200 (application/json)

  + Body

            {
                "status" : "READY"
            }


# Group Payment Handles

## Payment Handle [/paymenthub/v1/paymenthandles]

A Payment Handle represents tokenized information about the payment method that you set up for your customer. Once the Payment Handle is created, you can then include the *paymentHandleToken* returned in the Payment Handle request response in a new [payment request](#paymentrequest).
<br>
> **Note:** A Payment Handle can be used in a [Payment request](#paymentrequest) only if it has the status of **PAYABLE**.

### Create a Payment Handle [POST]
<a name="paymenthandlerequest" title="Create a Payment Handle"></a>

Click **Create a Payment Handle** above to see the examples of how to create a Payment Handle object:

* A Payment Handle for a standard credit card authorization
* A Payment Handle for a credit card that is registered for 3D Secure - the response for this request will contain a redirect to present to the customer so they can validate their 3D Secure credentials
* A Payment Handle for a credit card Standalone Credit

 > **Note:** The *status* of Payment Handles will remain INITIATED  for the following cases:
* When the customer is redirected to a *redirect_payment* URL until the customer verifies the payment instrument.
* When the requested amount is more than the maximum amount configured in the Business Portal.
* When Alternate Payment Methods like RapidTransfer, Paysafecash, Paysafecards are selected by the customer.

+ Attributes
    + Include PaymentHandleRequest

+ Request Create Payment Handle for Card without 3D Secure Enabled (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

    + Body

            {
                "merchantRefNum": "merchantRefNum-101",
                "transactionType": "PAYMENT",
                "card": {
                    "cardNum": "5191330000004415",
                    "cardExpiry": {
                        "month": 10,
                        "year": 2020
                    },
                    "cvv": "111",
                    "holderName": "poorna"
                },
                "wallet":{
                   "customerId" : "GGG",
                   "fee" : 400,
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
                      "threatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF"
                   },
                   "customerAccount" : {
                       "id":"abc"
                   }
                },
                "paymentType": "CARD",
                "amount": 1000,
                "currencyCode": "GBP",
                "customerIp": "73.82.192.17",
                "billingDetails": {
                    "nickName": "Home",
                    "street": "100 Queen",
                    "street2": "Unit 201",
                    "city": "Toronto",
                    "zip": "M5H 2N2",
                    "country": "CA"
                },
                "returnLinks": [{
                        "rel": "on_completed",
                        "href": "https://US_commerce_site/payment/return/success",
                        "method": "GET"
                    },
                    {
                        "rel": "on_failed",
                        "href": "https://US_commerce_site/payment/return/failed",
                        "method": "GET"
                    }
                ]
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "26359efd-7cfb-4014-a13d-1724e3ff17fa",
              "amount": 1000,
              "merchantRefNum": "merchantRefNum-101",
              "action": "NONE",
              "currencyCode": "GBP",
              "usage": "SINGLE_USE",
              "status": "PAYABLE",
              "paymentType": "CARD",
              "executionMode": "SYNCHRONOUS",
              "customerIp": "73.82.192.17",
              "paymentHandleToken": "SCO3wKcIyLoQbQvw",
              "billingDetails": {
                "nickName": "Home",
                "street": "100 Queen",
                "street2": "Unit 201",
                "city": "Toronto",
                "country": "CA",
                "zip": "M5H 2N2"
              },
              "card": {
                "cardExpiry": {
                  "month": "10",
                  "year": "2020"
                },
                "holderName": "poorna",
                "cardType": "MC",
                "cardBin": "519133",
                "lastDigits": "4415"
              },
              "wallet":{
                   "customerId" : "GGG",
                   "fee" : 400,
                   "slipId" : "100753",
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218"
                   },
                   "customerAccount" : {
                       "id":"abc"
                   }
              },
              "returnLinks": [{
                        "rel": "on_completed",
                        "href": "https://US_commerce_site/payment/return/success",
                        "method": "GET"
                    },
                    {
                        "rel": "on_failed",
                        "href": "https://US_commerce_site/payment/return/failed",
                        "method": "GET"
                    }
                ],
              "timeToLiveSeconds": 899,
              "transactionType": "PAYMENT"
            }

+ Request Create Payment Handle for Card with 3D Secure Enabled (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

    + Body

            {
                "merchantRefNum": "merchantRefNum-124",
                "transactionType": "PAYMENT",
                "card": {
                    "cardNum": "4538261230000003",
                    "cardExpiry": {
                        "month": 10,
                        "year": 2020
                    },
                    "cvv": "111",
                    "holderName": "poorna"
                },
                "paymentType": "CARD",
                "amount": 3000,
                "currencyCode": "GBP",
                "customerIp": "73.82.192.17",
                "billingDetails": {
                    "nickName": "Home",
                    "street": "100 Queen",
                    "street2": "Unit 201",
                    "city": "Toronto",
                    "zip": "M5H 2N2",
                    "country": "CA"
                },
                "wallet":{
                   "customerId" : "GGG",
                   "fee" : 400,
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
                      "threatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF"
                   },
                   "customerAccount" : {
                       "id":"abc"
                   }
                },
                "returnLinks": [{
                        "rel": "on_completed",
                        "href": "https://US_commerce_site/payment/return/success",
                        "method": "GET"
                    },
                    {
                        "rel": "on_failed",
                        "href": "https://US_commerce_site/payment/return/failed",
                        "method": "GET"
                    }
                ]
            }

+ Response 200 (application/json)

    + Body

            {
                "id": "372b5ee7-6360-4403-b444-164f8f1d2709",
                "amount": 3000,
                "merchantRefNum": "merchantRefNum-124",
                "action": "REDIRECT",
                "currencyCode": "GBP",
                "usage": "SINGLE_USE",
                "status": "INITIATED",
                "paymentType": "CARD",
                "executionMode": "SYNCHRONOUS",
                "customerIp": "73.82.192.17",
                "paymentHandleToken": "SCyGZDlUuZ9zxjyd",
                "billingDetails": {
                    "nickName": "Home",
                    "street": "100 Queen",
                    "street2": "Unit 201",
                    "city": "Toronto",
                    "country": "CA",
                    "zip": "M5H 2N2"
                },
                "card": {
                    "cardExpiry": {
                        "month": "10",
                        "year": "2020"
                    },
                    "holderName": "poorna",
                    "cardType": "VI",
                    "cardBin": "453826",
                    "lastDigits": "0003"
                },
                "wallet":{
                   "customerId" : "GGG",
                   "slipId" : "100753",
                   "fee" : 400,
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218"
                   },
                   "customerAccount" : {
                       "id":"abc"
                   }
                },
                "returnLinks": [{
                        "rel": "on_completed",
                        "href": "https://US_commerce_site/payment/return/success",
                        "method": "GET"
                    },
                    {
                        "rel": "on_failed",
                        "href": "https://US_commerce_site/payment/return/failed",
                        "method": "GET"
                    }
                ],
                "links": [{
                    "rel": "redirect_payment",
                    "href": "http://api.paysafe.com/card/redirect/372b5ee7-6360-4403-b444-164f8f1d2709",
                    "method": "GET"
                }],
                "timeToLiveSeconds": 899,
                "transactionType": "PAYMENT"
            }

+ Request Create Payment Handle for Rapid Transfer for Payment (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

    + Body

            {
                "merchantRefNum": "merchantRefNum-124",
                "transactionType": "PAYMENT",
                "rapidTransfer" : {
                   "sepa": {
                       "nickName": "Sally's Barclays Account",
                       "accountHolderName": "John Doe",
                       "bic": "ABNANL2APIP",
                       "iban": "DE89370400440532013000"
                    }
                },
                "paymentType": "RAPID_TRANSFER",
                "amount": 3000,
                "currencyCode": "GBP",
                "customerIp": "73.82.192.17",
                "billingDetails": {
                    "nickName": "Home",
                    "street": "100 Queen",
                    "street2": "Unit 201",
                    "city": "Toronto",
                    "zip": "M5H 2N2",
                    "country": "CA"
                },
                "wallet":{
                   "customerId" : "GGG",
                   "fee" : 400,
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
                      "threatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF"
                   },
                   "customerAccount" : {
                       "id":"abc"
                   }
                },
                "returnLinks": [{
                        "rel": "on_completed",
                        "href": "https://US_commerce_site/payment/return/success",
                        "method": "GET"
                    },
                    {
                        "rel": "on_failed",
                        "href": "https://US_commerce_site/payment/return/failed",
                        "method": "GET"
                    }
                ]
            }

+ Response 200 (application/json)

    + Body

            {
                "id": "372b5ee7-6360-4403-b444-164f8f1d2709",
                "amount": 3000,
                "merchantRefNum": "merchantRefNum-124",
                "action": "REDIRECT",
                "currencyCode": "GBP",
                "usage": "SINGLE_USE",
                "status": "INITIATED",
                "paymentType": "RAPID_TRANSFER",
                "executionMode": "SYNCHRONOUS",
                "customerIp": "73.82.192.17",
                "paymentHandleToken": "SCyGZDlUuZ9zxjyd",
                "billingDetails": {
                    "nickName": "Home",
                    "street": "100 Queen",
                    "street2": "Unit 201",
                    "city": "Toronto",
                    "country": "CA",
                    "zip": "M5H 2N2"
                },
                "rapidTransfer" : {
                   "sepa": {
                       "nickName": "Sally's Barclays Account",
                       "accountHolderName": "John Doe",
                       "bic": "ABNANL2APIP",
                       "lastDigits": "00"
                    }
                },
                "wallet":{
                   "customerId" : "GGG",
                   "slipId" : "100753",
                   "fee" : 400,
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218"
                   },
                   "customerAccount" : {
                       "id":"abc"
                   }
                },
                "returnLinks": [{
                        "rel": "on_completed",
                        "href": "https://US_commerce_site/payment/return/success",
                        "method": "GET"
                    },
                    {
                        "rel": "on_failed",
                        "href": "https://US_commerce_site/payment/return/failed",
                        "method": "GET"
                    }
                ],
                "links": [{
                    "rel": "redirect_payment",
                    "href": "http://api.paysafe.com/rapidtransfer/redirect/372b5ee7-6360-4403-b444-164f8f1d2709",
                    "method": "GET"
                }],
                "timeToLiveSeconds": 899,
                "transactionType": "PAYMENT"
            }




+ Request Create Payment Handle for Card for Standalone Credit (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

    + Body

            {
              "merchantRefNum": "merchantRefNum-190",
              "transactionType": "STANDALONE_CREDIT",
              "card": {
                "cardNum": "4538261230000003",
                "cardExpiry": {
                  "month": 10,
                  "year": 2020
                },
                "cvv": "111",
                "holderName": "poorna"
              },
              "wallet":{
                   "customerId" : "GGG",
                   "fee" : 400,
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
                      "threatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF"
                   },
                   "verifiedInstrument" : true,
                   "customerAccount" : {
                       "id":"abc"
                    }
              },
              "paymentType": "CARD",
              "amount": 3000,
              "currencyCode": "GBP",
              "customerIp": "73.82.192.17",
              "billingDetails": {
                "nickName": "Home",
                "street": "100 Queen",
                "street2": "Unit 201",
                "city": "Toronto",
                "zip": "M5H 2N2",
                "country": "CA"
              }
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "372b5ee7-6360-4403-b444-164f8f1d2709",
              "amount": 3000,
              "merchantRefNum": "merchantRefNum-190",
              "action": "NONE",
              "currencyCode": "GBP",
              "usage": "SINGLE_USE",
              "status": "PAYABLE",
              "paymentType": "CARD",
              "executionMode": "SYNCHRONOUS",
              "customerIp": "73.82.192.17",
              "paymentHandleToken": "SCyGZDlUuZ9zxjyd",
              "billingDetails": {
                "nickName": "Home",
                "street": "100 Queen",
                "street2": "Unit 201",
                "city": "Toronto",
                "country": "CA",
                "zip": "M5H 2N2"
              },
              "wallet":{
                   "customerId" : "GGG",
                   "fee" : 400,
                   "slipId" : "100753",
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218"
                   },
                   "verifiedInstrument" : true,
                   "customerAccount" : {
                       "id":"abc"
                   }
              },
              "card": {
                "cardExpiry": {
                  "month": "10",
                  "year": "2020"
                },
                "holderName": "poorna",
                "cardType": "VI",
                "cardBin": "453826",
                "lastDigits": "0003"
              },
              "timeToLiveSeconds": 899,
              "transactionType": "STANDALONE_CREDIT"
            }

+ Request Create Payment Handle for Bank Wire Transfer for Standalone Credit (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

    + Body

            {
                "merchantRefNum": "merchantRefNum-124",
                "transactionType": "STANDALONE_CREDIT",
                "sepa": {
                    "nickName": "Sally's Barclays Account",
                    "accountHolderName": "John Doe",
                    "bic": "ABNANL2APIP",
                    "iban": "DE89370400440532013000"
                    },
                "paymentType": "BANK_TRANSFER",
                "amount": 3000,
                "currencyCode": "EUR",
                "customerIp": "73.82.192.17",
                "billingDetails": {
                    "nickName": "Home",
                    "street": "100 Queen",
                    "street2": "Unit 201",
                    "city": "Toronto",
                    "zip": "M5H 2N2",
                    "country": "CA"
                },
                "wallet":{
                   "customerId" : "GGG",
                   "fee" : 400,
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
                      "threatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF"
                   },
                   "verifiedInstrument" : false,
                   "customerAccount" : {
                       "id":"abc"
                   }
                }
            }

+ Response 200 (application/json)

    + Body

            {
                "id": "372b5ee7-6360-4403-b444-164f8f1d2709",
                "amount": 3000,
                "merchantRefNum": "merchantRefNum-124",
                "action": "NONE",
                "currencyCode": "EUR",
                "usage": "SINGLE_USE",
                "status": "PAYABLE",
                "paymentType": "BANK_TRANSFER",
                "executionMode": "SYNCHRONOUS",
                "customerIp": "73.82.192.17",
                "paymentHandleToken": "SCyGZDlUuZ9zxjyd",
                "billingDetails": {
                    "nickName": "Home",
                    "street": "100 Queen",
                    "street2": "Unit 201",
                    "city": "Toronto",
                    "country": "CA",
                    "zip": "M5H 2N2"
                },
                "sepa": {
                    "nickName": "Sally's Barclays Account",
                    "accountHolderName": "John Doe",
                    "bic": "ABNANL2APIP",
                    "lastDigits": "00"
                },
                "wallet":{
                   "customerId" : "GGG",
                   "slipId" : "100753",
                   "fee" : 400,
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218"
                   },
                   "verifiedInstrument" : false,
                   "customerAccount" : {
                       "id":"abc"
                   }
                },
                "timeToLiveSeconds": 899,
                "transactionType": "STANDALONE_CREDIT"
            }

+ Request Create Payment Handle for Faster Payments for Standalone Credit (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

    + Body

            {
                "merchantRefNum": "merchantRefNum-124",
                "transactionType": "STANDALONE_CREDIT",
                "fasterPayments": {
                    "accountHolderName": "John Doe",
                    "sortCode": "321654",
                    "accountNumber": "98877219"
                    },
                "paymentType": "BANK_TRANSFER",
                "amount": 3000,
                "currencyCode": "GBP",
                "customerIp": "73.82.192.17",
                "billingDetails": {
                    "nickName": "Home",
                    "street": "100 Queen",
                    "street2": "Unit 201",
                    "city": "Toronto",
                    "zip": "M5H 2N2",
                    "country": "CA"
                },
                "wallet":{
                   "customerId" : "GGG",
                   "fee" : 400,
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
                      "threatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF"
                   },
                   "verifiedInstrument" : true,
                   "customerAccount" : {
                       "id":"abc"
                   }
                }
            }

+ Response 200 (application/json)

    + Body

            {
                "id": "372b5ee7-6360-4403-b444-164f8f1d2709",
                "amount": 3000,
                "merchantRefNum": "merchantRefNum-124",
                "action": "NONE",
                "currencyCode": "GBP",
                "usage": "SINGLE_USE",
                "status": "PAYABLE",
                "paymentType": "BANK_TRANSFER",
                "executionMode": "SYNCHRONOUS",
                "customerIp": "73.82.192.17",
                "paymentHandleToken": "SCyGZDlUuZ9zxjyd",
                "billingDetails": {
                    "nickName": "Home",
                    "street": "100 Queen",
                    "street2": "Unit 201",
                    "city": "Toronto",
                    "country": "CA",
                    "zip": "M5H 2N2"
                },
                "fasterPayments": {
                    "accountHolderName": "John Doe",
                    "sortCode": "321654",
                    "lastDigits": "19"
                    },
                "wallet":{
                   "customerId" : "GGG",
                   "slipId" : "100753",
                   "fee" : 400,
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218"
                   },
                   "verifiedInstrument" : true,
                   "customerAccount" : {
                       "id":"abc"
                   }
                },
                "timeToLiveSeconds": 899,
                "transactionType": "STANDALONE_CREDIT"
            }



### Get Payment Handle [GET /paymenthub/v1/paymenthandles/{paymenthandle_id}]
<a name="getpaymenthandle" title="Look Up a Payment Handle"></a>

    Click **Get Payment Handle** above to look up a Payment Handle using the ID returned in the response of the original request.

+ Parameters

    + paymenthandle_id : `26359efd-7cfb-4014-a13d-1724e3ff17fa` - This is the Payment Handle ID returned in the response to the [Payment Handle creation request](#paymenthandlerequest).

+ Request Look Up Payment Handle (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

+ Response 200 (application/json)

    + Body

            {
              "id": "26359efd-7cfb-4014-a13d-1724e3ff17fa",
              "amount": 1900,
              "merchantRefNum": "merchantRefNum-115",
              "action": "NONE",
              "currencyCode": "GBP",
              "usage": "SINGLE_USE",
              "status": "EXPIRED",
              "timeToLiveSeconds": 0,
              "transactionType": "PAYMENT",
              "paymentType": "CARD",
              "executionMode": "SYNCHRONOUS",
              "customerIp": "73.82.192.17",
              "paymentHandleToken": "SC0YsGIIgFksiOsQ",
              "billingDetails": {
                "street": "100 Queen",
                "street2": "Unit 201",
                "city": "Toronto",
                "country": "CA",
                "zip": "M5H 2N2"
              },
              "wallet":{
                   "customerId" : "GGG",
                   "fee" : 400,
                   "deviceInfo" : {
                      "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218"
                   },
                   "slipId" : "100753",
                   "customerAccount" : {
                       "id":"abc"
                    }
              },
              "card": {
                "cardExpiry": {
                  "month": "12",
                  "year": "2034"
                },
                "holderName": "poorna",
                "cardType": "MC",
                "cardBin": "519133",
                "lastDigits": "4415"
              },
              "returnLinks": [{
                        "rel": "on_completed",
                        "href": "https://US_commerce_site/payment/return/success"
                        "method": "GET"
                    },
                    {
                        "rel": "on_failed",
                        "href": "https://US_commerce_site/payment/return/failed"
                        "method": "GET"
                    }
                ]
            }

### Get Payment Handle Using Merchant Reference Number [GET /paymenthub/v1/paymenthandles?merchantRefNum={merchant_ref_num}]
<a name="getpaymenthandlemerchantrefnum" title="Look Up a Payment Handle Using a Merchant Reference Number"></a>

Click **Get Payment Handle Using Merchant Reference Number** above to look up a Payment Handle using the ID returned in the response of the original request.

+ Parameter

    + merchant_ref_num : `13995817730005389` (required) - This is the *merchantRefNum* used in the original Payment Handle creation request.

    + limit : `32` (number) - This is the total number of records to return. Default = 10.
        _Optional_ _Max=50_
    + offset: `0` (number) - This is the starting position, where 0 is the first record. Default = 0.
        _Optional_
    + startDate : `2019-01-26` (UTC Date) - This is the start date in UTC. Default = 30 days before the *endDate*.
        _Optional_
    + endDate : `2019-03-26` (UTC Date) - This is the end date in UTC. Default = current date and time.
        _Optional_

+ Request Look Up Payment Handle Using Merchant Reference Number (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

+ Response 200 (application/json)

     + Attributes
        + Include paymenthandles

    + Body

            {
                "meta": {
                    "numberOfRecords": 1,
                    "limit": 10,
                    "page": 1
                },
                "paymentHandles": [{
                    "id": "cc719995-59ed-4146-a936-b54db72bcaa8",
                    "amount": 1900,
                    "merchantRefNum": "merchantRefNum-130",
                    "action": "NONE",
                    "currencyCode": "GBP",
                    "usage": "SINGLE_USE",
                    "status": "EXPIRED",
                    "timeToLiveSeconds": 0,
                    "transactionType": "PAYMENT",
                    "paymentType": "CARD",
                    "executionMode": "SYNCHRONOUS",
                    "customerIp": "73.82.192.17",
                    "paymentHandleToken": "SC0YsGIIgFksiOsQ",
                    "billingDetails": {
                        "street": "100 Queen",
                        "street2": "Unit 201",
                        "city": "Toronto",
                        "country": "CA",
                        "zip": "M5H 2N2"
                    },
                    "wallet":{
                       "customerId" : "GGG",
                       "fee" : 400,
                       "slipId" : "100753",
                       "deviceInfo" : {
                          "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218"
                       },
                        "customerAccount" : {
                          "id":"abc"
                        }
                    },
                    "card": {
                        "cardExpiry": {
                            "month": "12",
                            "year": "2034"
                        },
                        "holderName": "poorna",
                        "cardType": "MC",
                        "cardBin": "519133",
                        "lastDigits": "4415"
                    },
                    "returnLinks": [{
                            "rel": "on_completed",
                            "href": "https://US_commerce_site/payment/return/success",
                            "method": "GET"
                        },
                        {
                            "rel": "on_failed",
                            "href": "https://US_commerce_site/payment/return/failed",
                            "method": "GET"
                        }
                    ]
                }]
            }


# Group Payments

## Payments [/paymenthub/v1/payments]

Payment requests allow you to process a payment using the *paymentHandleToken*.  The examples below include a *paymentHandleToken* created for a credit card.

### Process Payment [POST]
<a name="paymentrequest" title="Post Payment Using Payment Handle Token"></a>

Click **Process Payment** above to create a Payment request using a Payment Handle token for:

* A Payment request that authorizes and settles the Payment in a single request by setting the *settleWithAuth* parameter to *true*

+ Attributes
    + Include PaymentsRequest

+ Request Process a Card Payment Including Settlement (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

    + Body

            {
              "merchantRefNum": "merchantRefNum-108",
              "amount": 1000,
              "currencyCode": "GBP",
              "settleWithAuth": true,
              "paymentHandleToken": "SCZJg09GWSv36NLB",
              "customerIp": "73.82.192.17",
              "description": "Magazine subscription"
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "3aeb9c63-6386-46a3-9f8e-f452e722228a",
              "amount": 1000,
              "merchantRefNum": "merchantRefNum-108",
              "settleWithAuth": true,
              "paymentHandleToken": "SCZJg09GWSv36NLB",
              "txnTime": "2018-12-14T15:12:18Z",
              "customerIp": "73.82.192.17",
              "dupCheck": true,
              "description": "Magazine subscription",
              "currencyCode": "GBP",
              "paymentType": "CARD",
              "status": "COMPLETED",
              "availableToSettle": 0,
              "card": {
                "cardExpiry": {
                    "month": "10",
                    "year": "2020"
                },
                "holderName": "poorna",
                "cardType": "VI",
                "cardBin": "453826",
                "lastDigits": "0003"
              },
              "gatewayResponse": {
                "authCode": "135880",
                "avsResponse": "MATCH",
                "cvvVerification": "MATCH"
              },
              "wallet":{
                 "customerId" : "abc",
                 "slipId" : "100753",
                 "fee": "400",
                 "customerAccount" : {
                    "id":"xyz",
                    "transactions": [{
                    "id": "12321",
                    "type": "DEPOSIT",
                    "amount": 1000,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "CREDIT",
                    "fee": 400,
                    "paymentType": "CARD",
                    "status": "COMPLETED",
                    "merchantRefNum": "string"
                }, {
                    "id": "12322",
                    "type": "MERCHANT_FEE",
                    "amount": 400,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "fee": 0,
                    "paymentType": "CARD",
                    "status": "COMPLETED",
                    "merchantRefNum": "testTran"
                }
            ]
                   },
                  "merchantAccount" : {
                     "id": "def",
                     "transactions": [{
                    "id": "12323",
                    "type": "MERCHANT_FEE",
                    "amount": 400,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "CREDIT",
                    "fee": 40,
                    "paymentType": "CARD",
                    "status": "COMPLETED",
                    "merchantRefNum": "testTran"
                }, {
                    "id": "12324",
                    "type": "FEE",
                    "amount": 40,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "fee": 0,
                    "paymentType": "CARD",
                    "status": "COMPLETED",
                    "merchantRefNum": "testTran"
                }
            ]
                  }
              }
            }


+ Request Process a Rapid Transfer Payment Including Settlement (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

    + Body

            {
              "merchantRefNum": "merchantRefNum-108",
              "amount": 1000,
              "currencyCode": "GBP",
              "settleWithAuth": true,
              "paymentHandleToken": "SCZJg09GWSv36NLB",
              "customerIp": "73.82.192.17",
              "description": "Magazine subscription"
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "3aeb9c63-6386-46a3-9f8e-f452e722228a",
              "gatewayReconciliationId" : "3aeb9c63-6386-46a3-9f8e-f452e722228b",
              "amount": 1000,
              "merchantRefNum": "merchantRefNum-108",
              "settleWithAuth": true,
              "paymentHandleToken": "SCZJg09GWSv36NLB",
              "txnTime": "2018-12-14T15:12:18Z",
              "customerIp": "73.82.192.17",
              "dupCheck": true,
              "description": "Magazine subscription",
              "currencyCode": "GBP",
              "paymentType": "RAPID_TRANSFER",
              "status": "COMPLETED",
              "availableToSettle": 0,
              "gatewayResponse": {
                "id": "135880",
              },
              "rapidTransfer" : {
                "sepa": {
                    "nickName": "Sally's Barclays Account",
                    "accountHolderName": "John Doe",
                    "bic": "ABNANL2APIP",
                    "lastDigits": "00"
                }
              },
              "wallet":{
                 "customerId" : "abc",
                 "slipId" : "100753",
                 "fee": "400",
                 "customerAccount" : {
                    "id":"xyz",
                    "transactions": [{
                      "id": "12321",
                      "type": "DEPOSIT",
                      "amount": 1000,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "CREDIT",
                      "fee": 400,
                      "paymentType": "RAPID_TRANSFER",
                      "status": "COMPLETED",
                      "merchantRefNum": "string"
                     },
                     {
                      "id": "12322",
                      "type": "MERCHANT_FEE",
                      "amount": 400,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 0,
                      "paymentType": "RAPID_TRANSFER",
                      "status": "COMPLETED",
                      "merchantRefNum": "testTran"
                     }
                   ]
                 },
                  "merchantAccount" : {
                     "id": "def",
                     "transactions": [
                      {
                       "id": "12323",
                       "type": "MERCHANT_FEE",
                       "amount": 400,
                       "currencyCode": "GBP",
                       "creationTime": "2021-07-15T17:54:12Z",
                       "direction": "CREDIT",
                       "fee": 40,
                       "paymentType": "RAPID_TRANSFER",
                       "status": "COMPLETED",
                       "merchantRefNum": "testTran"
                      },
                      {
                       "id": "12324",
                       "type": "FEE",
                       "amount": 40,
                       "currencyCode": "GBP",
                       "creationTime": "2021-07-15T17:54:12Z",
                       "direction": "DEBIT",
                       "fee": 0,
                       "paymentType": "RAPID_TRANSFER",
                       "status": "COMPLETED",
                       "merchantRefNum": "testTran"
                      }
                    ]
                  }
               }
            }




### Get Payments [GET /paymenthub/v1/payments/{payment_id}]
<a name="getpayment" title="Look Up a Payment"></a>

Click **Get Payments** above to look up a Payment using the ID returned in the response of the original request.

+ Parameter

   + payment_id : `3aeb9c63-6386-46a3-9f8e-f452e722228a` - This is the ID returned in the response of the Payments request.

+ Request Look Up Payment (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

+ Response 200 (application/json)

    + Body

            {
              "id": "3aeb9c63-6386-46a3-9f8e-f452e722228a",
              "amount": 1000,
              "merchantRefNum": "merchantRefNum-108",
              "settleWithAuth": false,
              "paymentHandleToken": "SCZJg09GWSv36NLB",
              "txnTime": "2018-12-14T15:12:18Z",
              "customerIp": "73.82.192.17",
              "dupCheck": true,
              "description": "Magazine subscription",
              "currencyCode": "GBP",
              "paymentType": "CARD",
              "status": "COMPLETED",
              "availableToSettle": 1900,
              "gatewayResponse": {
                "authCode": "135880",
                "avsResponse": "MATCH",
                "cvvVerification": "MATCH"
              },
                            "wallet":{
                 "customerId" : "abc",
                 "slipId" : "100753",
                 "fee": "400",
                 "customerAccount" : {
                    "id":"xyz",
                    "transactions": [{
                    "id": "12321",
                    "type": "DEPOSIT",
                    "amount": 1000,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "CREDIT",
                    "fee": 400,
                    "paymentType": "CARD",
                    "status": "COMPLETED",
                    "merchantRefNum": "string"
                }, {
                    "id": "12322",
                    "type": "MERCHANT_FEE",
                    "amount": 400,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "fee": 0,
                    "paymentType": "CARD",
                    "status": "COMPLETED",
                    "merchantRefNum": "testTran"
                }
            ]
                   },
                  "merchantAccount" : {
                     "id": "def",
                     "transactions": [{
                    "id": "12323",
                    "type": "MERCHANT_FEE",
                    "amount": 400,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "CREDIT",
                    "fee": 0,
                    "paymentType": "CARD",
                    "status": "COMPLETED",
                    "merchantRefNum": "testTran"
                }, {
                    "id": "12324",
                    "type": "FEE",
                    "amount": 40,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "fee": 0,
                    "paymentType": "CARD",
                    "status": "COMPLETED",
                    "merchantRefNum": "testTran"
                }
            ]
                  }
              }
            }

### Get Payments Using Merchant Reference number [GET /paymenthub/v1/payments?merchantRefNum={merchant_ref_num}]
<a name="getpaymentmerchantrefnum" title="Look Up a Payment Using a Merchant Reference Number"></a>

Click **Get Payment Using Merchant Reference Number** above to look up a Payment using the merchant reference number used in the original request.

+ Parameter


   + merchant_ref_num : `merchantRefNum-145`(required) - This is the merchant reference number created by the merchant and submitted as part of the Payments request.

    + limit : `32` (number) - This is the total number of records to return. Default = 10.
        _Optional_ _Max=50_
    + offset: `0` (number) - This is the starting position, where 0 is the first record. Default = 0.
        _Optional_
    + startDate : `2019-01-26` (UTC Date) - This is the start date in UTC. Default = 30 days before the *endDate*.
        _Optional_
    + endDate : `2019-03-26` (UTC Date) - This is the end date in UTC. Default = current date and time.
        _Optional_

+ Request Look Up Payment Using Merchant Reference Number (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

+ Response 200 (application/json)

     + Attributes
        + Include payments

    + Body

            {
              "meta": {
                    "numberOfRecords": 1,
                    "limit": 10,
                    "page": 1
                },
              "payments": [
                {
                  "id": "8190c675-6d68-4cd7-a29c-55b406addaeb",
                  "amount": 1000,
                  "merchantRefNum": "merchantRefNum-145",
                  "settleWithAuth": false,
                  "paymentHandleToken": "SChfCGCURe5NiLIv",
                  "authCode": "107212",
                  "txnTime": "2018-12-14T15:12:18Z",
                  "customerIp": "73.82.192.17",
                  "description": "Magazine subscription",
                  "currencyCode": "GBP",
                  "paymentType": "CARD",
                  "status": "COMPLETED",
                  "avsResponse": "MATCH",
                  "cvvVerification": "MATCH",
                  "availableToSettle": 40
                }
              ]
            }
emove

# Group Standalone Credits

## Standalone Credits [/paymenthub/v1/standalonecredits]

Standalone Credits allow merchants to issue credits to cardholders without requiring a previous Payment/Settlement.

**Note:** If your merchant category code (MCC) is listed to [process Original Credits](#originalcreditrequest), you must not use Standalone Credits.


### Process Standalone Credit [POST]
<a name="standalonecreditrequest" title="Process Standalone Credit"></a>

Click **Process Standalone Credit** above to see how to process a Standalone Credit request.

+ Attributes (OriginalCreditResponse)

+ Request Process a Standalone Credit Using a Payment Handle Token (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

    + Body

            {
              "amount": 40,
              "merchantRefNum": "merchantRefNum-151",
              "currencyCode": "GBP",
              "paymentHandleToken": "SC9mbfZSITB5OwDJ",
              "customerIp": "73.82.192.17",
              "description": "Pay surplus"
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "e075f2ae-dfc4-4f6d-8d89-61158367b6a6",
              "amount": 40,
              "merchantRefNum": "merchantRefNum-151",
              "paymentHandleToken": "SC9mbfZSITB5OwDJ",
              "customerIp": "73.82.192.17",
              "currencyCode": "GBP",
              "paymentType": "CARD",
              "status": "COMPLETED",
              "description": "Pay surplus",
              "wallet":{
                 "customerId" : "abc",
                 "slipId" : "100753",
                 "fee": "10",
                 "verifiedInstrument" : true,
                 "customerAccount" : {
                    "id":"xyz",
                    "transactions": [{
                      "id": "12321",
                      "type": "WITHDRAWAL",
                      "amount": 40,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 10,
                      "paymentType": "CARD",
                      "status": "COMPLETED",
                      "merchantRefNum": "string"
                     },
                     {
                      "id": "12322",
                      "type": "MERCHANT_FEE",
                      "amount": 10,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 0,
                      "paymentType": "CARD",
                      "status": "COMPLETED",
                      "merchantRefNum": "testTran"
                     }
                   ]

                   },
                  "merchantAccount" : {
                     "id": "def",
                    "transactions": [{
                      "id": "12323",
                      "type": "MERCHANT_FEE",
                      "amount": 10,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "CREDIT",
                      "fee": 5,
                      "paymentType": "CARD",
                      "status": "COMPLETED",
                      "merchantRefNum": "string"
                     },
                     {
                      "id": "12324",
                      "type": "FEE",
                      "amount": 5,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 0,
                      "paymentType": "CARD",
                      "status": "COMPLETED",
                      "merchantRefNum": "testTran"
                     }
                   ]
                  }
              }

            }

+ Request Process a Standalone Credit Using a Bank wire Transfer Payment Handle Token (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

    + Body

            {
              "amount": 40,
              "merchantRefNum": "merchantRefNum-151",
              "currencyCode": "EUR",
              "paymentHandleToken": "SC9mbfZSITB5OwDJ",
              "customerIp": "73.82.192.17",
              "description": "Pay surplus"
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "e075f2ae-dfc4-4f6d-8d89-61158367b6a6",
              "amount": 40,
              "merchantRefNum": "merchantRefNum-151",
              "paymentHandleToken": "SC9mbfZSITB5OwDJ",
              "customerIp": "73.82.192.17",
              "currencyCode": "EUR",
              "paymentType": "BANK_TRANSFER",
              "status": "COMPLETED",
              "description": "Pay surplus",
              "sepa": {
                       "nickName": "Sally's Barclays Account",
                       "accountHolderName": "John Doe",
                       "bic": "ABNANL2APIP",
                       "lastDigits": "00"
              },
              "wallet":{
                 "customerId" : "abc",
                 "slipId" : "100753",
                 "fee": "10",
                 "verifiedInstrument" : true,
                 "customerAccount" : {
                    "id":"xyz",
                    "transactions": [{
                      "id": "12321",
                      "type": "WITHDRAWAL",
                      "amount": 40,
                      "currencyCode": "EUR",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 10,
                      "paymentType": "BANK_TRANSFER",
                      "status": "COMPLETED",
                      "merchantRefNum": "string"
                     },
                     {
                      "id": "12322",
                      "type": "MERCHANT_FEE",
                      "amount": 10,
                      "currencyCode": "EUR",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 0,
                      "paymentType": "BANK_TRANSFER",
                      "status": "COMPLETED",
                      "merchantRefNum": "testTran"
                     }
                   ]

                   },
                  "merchantAccount" : {
                     "id": "def",
                    "transactions": [{
                      "id": "12323",
                      "type": "MERCHANT_FEE",
                      "amount": 10,
                      "currencyCode": "EUR",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "CREDIT",
                      "fee": 5,
                      "paymentType": "BANK_TRANSFER",
                      "status": "COMPLETED",
                      "merchantRefNum": "string"
                     },
                     {
                      "id": "12324",
                      "type": "FEE",
                      "amount": 5,
                      "currencyCode": "EUR",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 0,
                      "paymentType": "BANK_TRANSFER",
                      "status": "COMPLETED",
                      "merchantRefNum": "testTran"
                     }
                   ]
                  }
              }

            }


+ Request Process a Standalone Credit Using a Faster Payments Payment Handle Token (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

    + Body

            {
              "amount": 40,
              "merchantRefNum": "merchantRefNum-151",
              "currencyCode": "GBP",
              "paymentHandleToken": "SC9mbfZSITB5OwDJ",
              "customerIp": "73.82.192.17",
              "description": "Pay surplus"
            }

+ Response 200 (application/json)

    + Body

            {
              "id": "e075f2ae-dfc4-4f6d-8d89-61158367b6a6",
              "amount": 40,
              "merchantRefNum": "merchantRefNum-151",
              "paymentHandleToken": "SC9mbfZSITB5OwDJ",
              "customerIp": "73.82.192.17",
              "currencyCode": "GBP",
              "paymentType": "BANK_TRANSFER",
              "status": "COMPLETED",
              "description": "Pay surplus",
              "fasterPayments": {
                "accountHolderName": "John Doe",
                "sortCode": "321654",
                "lastDigits": "19"
              },
              "wallet":{
                 "customerId" : "abc",
                 "slipId" : "100753",
                 "fee": "10",
                 "verifiedInstrument" : true,
                 "customerAccount" : {
                    "id":"xyz",
                    "transactions": [{
                      "id": "12321",
                      "type": "WITHDRAWAL",
                      "amount": 40,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 10,
                      "paymentType": "BANK_TRANSFER",
                      "status": "COMPLETED",
                      "merchantRefNum": "string"
                     },
                     {
                      "id": "12322",
                      "type": "MERCHANT_FEE",
                      "amount": 10,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 0,
                      "paymentType": "BANK_TRANSFER",
                      "status": "COMPLETED",
                      "merchantRefNum": "testTran"
                     }
                   ]

                   },
                  "merchantAccount" : {
                     "id": "def",
                    "transactions": [{
                      "id": "12323",
                      "type": "MERCHANT_FEE",
                      "amount": 10,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "CREDIT",
                      "fee": 5,
                      "paymentType": "BANK_TRANSFER",
                      "status": "COMPLETED",
                      "merchantRefNum": "string"
                     },
                     {
                      "id": "12324",
                      "type": "FEE",
                      "amount": 5,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 0,
                      "paymentType": "BANK_TRANSFER",
                      "status": "COMPLETED",
                      "merchantRefNum": "testTran"
                     }
                   ]
                  }
              }

            }


### Get Standalone Credit [GET /paymenthub/v1/standalonecredits/{standalone_credit_id}]
<a name="getstandalonecredit" title="Look Up a Standalone Credit"></a>

Click **Get Standalone Credit** above to look up a Standalone Credit using the ID returned in the response of the original request.

+ Parameter

    + standalone_credit_id : `e075f2ae-dfc4-4f6d-8d89-61158367b6a6`

+ Request Look Up Standalone Credit (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

+ Response 200 (application/json)

    + Body

            {
              "id": "e075f2ae-dfc4-4f6d-8d89-61158367b6a6",
              "amount": 40,
              "merchantRefNum": "merchantRefNum-151",
              "paymentHandleToken": "SC9mbfZSITB5OwDJ",
              "customerIp": "73.82.192.17",
              "currencyCode": "GBP",
              "paymentType": "CARD",
              "status": "COMPLETED",
              "description": "Pay surplus",
              "wallet":{
                 "customerId" : "abc",
                 "slipId" : "100753",
                 "fee": "10",
                 "verifiedInstrument" : true,
                 "customerAccount" : {
                    "id":"xyz",
                    "transactions": [{
                      "id": "12321",
                      "type": "WITHDRAWAL",
                      "amount": 40,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 10,
                      "paymentType": "CARD",
                      "status": "COMPLETED",
                      "merchantRefNum": "string"
                     },
                     {
                      "id": "12322",
                      "type": "MERCHANT_FEE",
                      "amount": 10,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 0,
                      "paymentType": "CARD",
                      "status": "COMPLETED",
                      "merchantRefNum": "testTran"
                     }
                   ]

                   },
                  "merchantAccount" : {
                     "id": "def",
                    "transactions": [{
                      "id": "12323",
                      "type": "MERCHANT_FEE",
                      "amount": 10,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "CREDIT",
                      "fee": 5,
                      "paymentType": "CARD",
                      "status": "COMPLETED",
                      "merchantRefNum": "string"
                     },
                     {
                      "id": "12324",
                      "type": "FEE",
                      "amount": 5,
                      "currencyCode": "GBP",
                      "creationTime": "2021-07-15T17:54:12Z",
                      "direction": "DEBIT",
                      "fee": 0,
                      "paymentType": "CARD",
                      "status": "COMPLETED",
                      "merchantRefNum": "testTran"
                     }
                   ]
                  }
              }
            }

### Get Standalone Credit Using Merchant Reference Number  [GET /paymenthub/v1/standalonecredits?merchantRefNum={merchant_ref_num}]
<a name="getstandalonecreditmerchantrefnum" title="Look Up a Standalone Credit Using a Merchant Reference Number"></a>

Click **Get Standalone Credit Using Merchant Reference Number** above to look up a Standalone Credit using the merchant reference number used in the original request.

+ Parameter

   + merchantRefNum : `merchantRefNum-101` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request.

    + limit : `32` (number) - This is the total number of records to return. Default = 10.
        _Optional_ _Max=50_
    + offset: `0` (number) - This is the starting position, where 0 is the first record. Default = 0.
        _Optional_
    + startDate : `2019-01-26` (UTC Date) - This is the start date in UTC. Default = 30 days before the *endDate*.
        _Optional_
    + endDate : `2019-03-26` (UTC Date) - This is the end date in UTC. Default = current date and time.
        _Optional_

+ Request Look Up Standalone Credit Using Merchant Reference Number (application/json)

    + Headers

            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            Simulator: "EXTERNAL"

+ Response 200 (application/json)

    + Attributes
        + Include standalonecredits

    + Body

            {
                "meta": {
                    "numberOfRecords": 1,
                    "limit": 10,
                    "page": 1
                },
                "standaloneCredits": [{
                    "id": "e075f2ae-dfc4-4f6d-8d89-61158367b6a6",
                    "amount": 40,
                    "merchantRefNum": "merchantRefNum-151",
                    "paymentHandleToken": "SC9mbfZSITB5OwDJ",
                    "customerIp": "73.82.192.17",
                    "currencyCode": "GBP",
                    "paymentType": "CARD",
                    "status": "PENDING",
                    "description": "Pay surplus"
                }]
            }



# Group Customers

## Onboard a customer [/digitalwallets/v1/wallets]

This endpoint is idempotent on the `externalId` field. On creation, the API returns HTTP 201. If multiple requests are submitted with the same `externalId` and the same information, Paysafe will ignore the subsequent calls and will return a successful response HTTP 200 and the values stored in Paysafe's system.

If initial balance must be granted to the customer, the operation will be treated as a transfer transaction, and a webhook should be awaited to confirm that the initial balance is transferred to the customer.

> NOTE: **One of `email` or `mobile` is required when creating a customer wallet, and these must be unique across customers!**

### Create customer's wallet [POST]

+ Request onboard a customer (application/json)
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"
            X-Signature: <<Add Header Value>>


    + Attributes (WalletCreateRequest)


    + Body

        {
          "customer": {
            "firstName": "John",
            "lastName": "Doe",
            "title": "Mr",
            "email": "john.doe@example.com",
            "mobile": "+4434525551511",
            "address1": "23 Four Str",
            "city": "London",
            "zip": "E17 033",
            "countryCode": "GB",
            "birthDate": "1999-08-24",
            "customerIp": "73.82.192.17",
            "registrationIp": "123.123.123.123",
            "registrationDate": "2019-08-24T14:15:22Z",
            "nationality": "GB",
            "externalId": "d6f475fe-57c9-4865-9316-0c3b8e8128d4",
            "kyc": {
              "status": "COMPLETED",
              "idVerification": {
                "status": "COMPLETED",
                "date": "2021-07-19T13:23:41Z"
              },
              "addressVerificationDocumentsReceived": [
                "BANK_STATEMENT"
              ],
              "pep": {
                  "status": "NO_MATCH",
                  "lastScreenDate": "2019-08-24T15:15:22Z"
              },
              "sanctions": {
                  "status": "RESOLVED",
                  "lastScreenDate": "2019-08-24T15:16:22Z",
                  "reason": "Description of the resolution reason, free text"
              },
            },
            "type": "PERSON"
          },
          "accounts": [
            {
              "currencyCode": "GBP",
              "hasIban": true
            }
          ],
          "termsAndConditionsAccepted": true,
          "customerIp": "73.82.192.17",
          "deviceInfo": {
            "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
            "trheatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF&..."
          }
        }


+ Response 201 (application/json)

        Created.

    + Body

        {
          "customer": {
            "id": "7453266",
            "firstName": "John",
            "lastName": "Doe",
            "title": "Mr",
            "email": "john.doe@example.com",
            "mobile": "+4434525551511",
            "address1": "23 Four Str",
            "city": "London",
            "zip": "E17 033",
            "countryCode": "GB",
            "birthDate": "1999-08-24",
            "registrationIp": "123.123.123.123",
            "registrationDate": "2019-08-24T14:15:22Z",
            "nationality": "GB",
            "externalId": "d6f475fe-57c9-4865-9316-0c3b8e8128d4",
            "kyc": {
              "status": "COMPLETED",
              "idVerification": {
                "status": "COMPLETED",
                "date": "2021-07-19T13:23:41Z"
              },
              "addressVerificationDocumentsReceived": [
                "BANK_STATEMENT"
              ]
            },
            "type": "PERSON"
          },
          "accounts": [
            {
              "id": "4326523",
              "customerId": "7453266",
              "currencyCode": "GBP",
              "totalBalance": 0,
              "availableBalance": 0,
              "hasIban": true,
              "iban": "NL74ABNA1231242344",
              "creationTime": "2021-07-19T14:23:41Z"
            }
          ],
          "termsAndConditionsAccepted": true
        }

+ Response 400 (application/json)

        Validation failed.

    + Attributes (Error Details)



+ Response 409 (application/json)

        Conflict. Check body for details.

    + Attributes (Error Details)



## Customers [/digitalwallets/v1/customers/{customerId}]

+ Headers
        Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"

+ Parameters
    + customerId (string, required)

        Customer id


### Get customer [GET]
Get a customer by ID.

+ Request
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"

+ Response 200 (application/json)

        OK

    + Attributes (Customer)

    + Body

        {
            "id": "7453266",
            "firstName": "John",
            "lastName": "Doe",
            "title": "Mr",
            "email": "john.doe@example.com",
            "mobile": "+4434525551511",
            "address1": "23 Four Str",
            "city": "London",
            "zip": "E17 033",
            "countryCode": "GB",
            "birthDate": "1999-08-24",
            "registrationIp": "123.123.123.123",
            "registrationDate": "2019-08-24T14:15:22Z",
            "nationality": "GB",
            "externalId": "d6f475fe-57c9-4865-9316-0c3b8e8128d4",
            "kyc": {
              "status": "COMPLETED",
              "idVerification": {
                "status": "COMPLETED",
                "date": "2021-07-19T13:23:41Z"
              },
              "addressVerificationDocumentsReceived": [
                "BANK_STATEMENT"
              ],
            },
            "type": "PERSON",
            "restrictions": [
                {
                    "name": "ALL_TRANSACTIONS",
                    "reason": "CONFIRMED_FRAUD",
                    "requiredActions": null,
                    "lastChangeDate": "2021-09-17T15:23:11Z"
                }
            ]
        }

+ Response 404

        Customer with the requested ID was not found.


### Deactivate customer [DELETE]
Deactivates a customer.

+ Request
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"



+ Response 200 (application/json)

        OK

    + Attributes (Customer)



+ Response 404

        Customer with the requested ID was not found.




+ Response 409

        The customer with the requested ID has already been deactivated.


### Update customer information [PATCH]
Update customer information.

+ Request (application/json)

    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"

    + Body

        {
            "id": "5435323362",
            "address1": "23 New Str",
            "city": "London",
            "zip": "E17 033",
            "countryCode": "GB",
            "kyc": {
                "pep": {
                    "status": "MATCH",
                    "lastScreenDate": "2019-10-24T14:15:22Z"
                }
            }
        }

+ Response 202 (application/json)

        Accepted

    + Attributes (Customer)

    + Body

        {
            "id": "7453266",
            "firstName": "John",
            "lastName": "Doe",
            "title": "Mr",
            "email": "john.doe@example.com",
            "mobile": "+4434525551511",
            "address1": "23 New Str",
            "city": "London",
            "zip": "E17 033",
            "countryCode": "GB",
            "birthDate": "1999-08-24",
            "registrationIp": "123.123.123.123",
            "registrationDate": "2019-08-24T14:15:22Z",
            "nationality": "GB",
            "externalId": "d6f475fe-57c9-4865-9316-0c3b8e8128d4",
            "kyc": {
              "status": "COMPLETED",
              "idVerification": {
                "status": "COMPLETED",
                "date": "2021-07-19T13:23:41Z"
              },
              "addressVerificationDocumentsReceived": [
                "BANK_STATEMENT"
              ]
            },
            "type": "PERSON",
            "restrictions": []
        }



+ Response 400 (application/json)

        Bad Request

    + Attributes (Error Details)



+ Response 404

        Not Found


### Get customer instruments [GET /digitalwallets/v1/instruments?{customerId}]

+ Request
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"

    + Parameters
        + customerId (string, required)

+ Response (application/json)

    + Attributes (array[WalletPaymentInstrument])


# Group Accounts

Every wallet has one or more accounts associated with it - one for every currency that the customer has funds in.

## Account information [/digitalwallets/v1/accounts]

### Get accounts for a customer [GET /digitalwallets/v1/accounts{?customerId}]

Get all accounts for a customer.

+ Parameters
    + customerId (string, required)

        Filter by customer

+ Request
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"


+ Response 200 (application/json)

        OK

    + Attributes (AccountList)

    + Body

        [
            {
                "id": "509876034",
                "customerId": "404972684",
                "currencyCode": "EUR",
                "totalBalance": 55000,
                "availableBalance": 50000,
                "iban": "NL74ABNA1231242344",
                "creationTime": "2019-08-24T14:15:22Z",
                "hasIban": true
            }
        ]

+ Response 404

        Wallet with the requested ID is not found.


### Get account [GET /digitalwallets/v1/accounts/{accountId}]

Retrieve the account with the provided id.

+ Parameters
    + accountId (string, required)

        Account id.

+ Request
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"


+ Response 200 (application/json)

        OK

    + Attributes (Account)

    + Body

        {
            "id": "509876034",
            "customerId": "404972684",
            "currencyCode": "EUR",
            "totalBalance": 55000,
            "availableBalance": 50000,
            "iban": "NL74ABNA1231242344",
            "creationTime": "2019-08-24T14:15:22Z",
            "hasIban": true
        }

+ Response 404

        Account with the requested ID was not found.


## Transactions [/digitalwallets/v1/transactions{?accountId,limit,offset,startDate,endDate}]

### Get transactions list [GET]

Retrieve transactions for an account, ordered by creationTime descending

+ Parameters
    + accountId (string, required)

        Filter by account ID
    + limit (number, optional)

        Limit number of results

    + offset (number, optional)

        Offset results by the specified number

    + startDate (string, optional)

        Filter by creation time

        + Sample: 2021-10-05T14:43:33Z
    + endDate (string, optional)

        Filter by creationType after

        + Sample: 2021-10-05T14:43:33Z


+ Request
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"


+ Response 200 (application/json)

        OK

    + Attributes (TransactionList)

    + Body
        {
            "transactions": [
                {
                    "id": "5040057610",
                    "slipId": "5009964049",
                    "customerId": "500014306996",
                    "accountId": "5014567344",
                    "type": "TRANSFER_OUT",
                    "amount": 900,
                    "currencyCode": "GBP",
                    "fee": 100,
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                },
                {
                    "id": "5040057611",
                    "slipId": "5009964049",
                    "customerId": "500014306996",
                    "accountId": "5014567344",
                    "type": "MERCHANT_FEE",
                    "amount": 100,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "fee": 0,
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "FAILED",
                    "statusReason": "INSUFFICIENT_FUNDS",
                    "merchantRefNum": "abcd1234"
                }
            ],
            "meta": {
                "numberOfRecords": 1,
                "limit": 1,
                "page": 1
            }
        }


### Get transaction details [GET /digitalwallets/v1/transactions/{transactionId}]

Retrieve details on a transaction with the specified id. List of transactions can be fetched by calling `/accounts/{account-id}/transactions`.

+ Parameters
    + transactionId (string, required)

        Transaction id

+ Request
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"


+ Response 200 (application/json)

        OK

    + Attributes (Transaction)

    + Body

        {
            "id": "5040057611",
            "slipId": "5009964049",
            "customerId": "500014306996",
            "accountId": "5014567344",
            "type": "MERCHANT_FEE",
            "amount": 100,
            "currencyCode": "GBP",
            "creationTime": "2021-07-15T17:54:12Z",
            "direction": "DEBIT",
            "fee": 0,
            "paymentType": "TRANSFER",
            "description": "Transfer description.",
            "status": "COMPLETED",
            "merchantRefNum": "abcd1234"
        }



+ Response 404

        Transaction with the requested ID was not found.


# Group Authorization holds

## Manage [/digitalwallets/v1/authorization-holds]

### Create new authorization hold [POST /digitalwallets/v1/authorization-holds]

Create a new authorization hold.

+ Request (application/json)
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"

    + Attributes (AuthorizationHold)


    + Body

        {
            "customerId": "500014306996",
            "accountId": "5014567344",
            "amount": 1000,
            "currencyCode": "EUR",
            "deviceInfo": {
                "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
                "trheatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF&..."
            },
            "customerIp": "73.82.192.17"
        }

+ Response 200 (application/json)

        OK

    + Body

        {
            "id": "5983745394",
            "customerId": "500014306996",
            "accountId": "5014567344",
            "amount": 10000,
            "currencyCode": "EUR",
            "createdOn": "2021-07-15T17:54:12Z",
            "status": "ACTIVE"
        }

+ Response 400 (application/json)

        Unable to process request due to validation or other errors.

    + Attributes (Error Details)

### Release authorization hold [DELETE /digitalwallets/v1/authorization-holds/{id}]

+ Parameters
    + id (string, required)

        Authorization hold id.


+ Response 200 (application/json)

        OK

    + Body

        {
            "id": "5983745394",
            "customerId": "500014306996",
            "accountId": "5014567344",
            "amount": 10000,
            "currencyCode": "EUR",
            "createdOn": "2021-07-15T17:54:12Z",
            "status": "RELEASED"
        }

+ Response 404

        Not Found

## Details [/digitalwallets/v1/authorization-holds/]

### Get active holds for account [GET /digitalwallets/v1/authorization-holds{?accountId,limit,offset}]

Retrieve list of active authorization holds only.

+ Parameters
    + accountId (string, required)

        Filter by Account ID

    + limit (number, optional)

        Limit number of results

    + offset (number, optional)

        Offset results by the specified number

+ Request
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"


+ Response 200 (application/json)

        OK

    + Attributes (AuthorizationHoldList)

    + Body

        {
            "authorizationHolds": [
                {
                    "id": "3423566434",
                    "customerId": "500014306996",
                    "accountId": "5014567344",
                    "amount": 50,
                    "currencyCode": "EUR",
                    "createdOn": "2021-07-15T17:54:12Z",
                    "status": "ACTIVE"
                },
                {
                    "id": "3423566465",
                    "customerId": "500014306996",
                    "accountId": "5014567344",
                    "amount": 20,
                    "currencyCode": "EUR",
                    "createdOn": "2021-06-15T17:54:12Z",
                    "status": "USED"
                }
            ],
            "meta": {
                "numberOfRecords": 2,
                "limit": 10,
                "page": 1
            }
        }


### Get details for Authorization Hold [GET /authorization-holds/{id}]

Retrieve details on an authorization hold by ID.

+ Parameters
    + id (string, required)

        Authorization hold id.

+ Request
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"


+ Response 200 (application/json)

        OK

    + Attributes (AuthorizationHold)

    + Body

        {
            "id": "3423566434",
            "customerId": "500014306996",
            "accountId": "5014567344",
            "amount": 50,
            "currencyCode": "EUR",
            "createdOn": "2021-07-15T17:54:12Z",
            "status": "ACTIVE"
        }


+ Response 404

        Not Found



# Group Transfers

## Transfer funds [/transfers]

**Customer to Merchant transfer** (e.g. buy crypto)

Customer to merchant transfers allow for the reserevation of funds using the **AuthorizationHold** API.

1. (optional) Create **AuthorizationHold** to reserve funds for the purchase
2. Omit **recipient** field in the request
3. Set **sender** field in the request
4. Set the **authorizationHoldId** property with previously allocated amount

&nbsp;

**Merchant to Customer transfer** (e.g. sell crypto)

1. Omit **sender** field in the request
2. Set **recipient** field in the request
3. Passing **authorizationHoldId** property is not required.

&nbsp;

**Customer to Customer transfer** (e.g. trading pairs)

Customer to customer transfer requires both **sender** and **recipient** properties.

1. Set **sender** field in the request
2. Set **recipient** field in the request
3. Passing **authorizationHoldId** property is not required.

&nbsp;

**Async behaviour**

The transfers can be queued on Paysafe's side if the rate of transfer requests increases significantly.

If this is the case:

* the response will contain a transaction status `PENDING`
* the response will only contain the `merchantRefNum` field from the list of identifiers
* the Merchant must wait for the webhook for this transaction to confirm the final status of the operation - successful or not.

Until the webhook is received, the submitted transaction will not be available for fetching via the GET Transactions endpoint.


### Perform transfer [POST]

+ Request Transfer from customer to merchant (application/json)
    + Headers
            Authorization: "Basic YOUR-BASE64-ENCODED-API-KEY"

    + Attributes (Transfer)

    + Body

        {
            "amount": 1000,
            "fee": 100,
            "currencyCode": "GBP",
            "authorizationHoldId": "50ecdb78-f2ab-4c2f-8696-ca7aedd7f8fe",
            "sender": {
                "customerId": "500014306996",
                "accountId": "5014567344"
            },
            "description": "Transfer description.",
            "merchantRefNum": "abcd1234",
            "deviceInfo": {
                "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
                "trheatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF&..."
            },
            "customerIp": "73.82.192.17"

        }

+ Response 201 (application/json)

        Created

    + Body

        {
            "slipId": "5009964049",
            "amount": 1000,
            "fee": 100,
            "currencyCode": "GBP",
            "authorizationHoldId": "50ecdb78-f2ab-4c2f-8696-ca7aedd7f8fe",
            "sender": {
                "customerId": "500014306996",
                "accountId": "5014567344",
                "transactions": [
                {
                    "id": "5040057610",
                    "slipId": "5009964049",
                    "customerId": "500014306996",
                    "accountId": "5014567344",
                    "type": "TRANSFER_OUT",
                    "amount": 900,
                    "currencyCode": "GBP",
                    "fee": 100,
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                },
                {
                    "id": "5040057611",
                    "slipId": "5009964049",
                    "customerId": "500014306996",
                    "accountId": "5014567344",
                    "type": "MERCHANT_FEE",
                    "amount": 100,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "fee": 0,
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                }
                ]
            },
            "merchant": {
                "customerId": "99999",
                "accountId": "999991",
                "transactions": [
                {
                    "id": "5040057608",
                    "slipId": "5009964049",
                    "customerId": "99999",
                    "accountId": "999991",
                    "type": "TRANSFER_IN",
                    "amount": 900,
                    "currencyCode": "GBP",
                    "fee": 100,
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "CREDIT",
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                },
                {
                    "id": "5040057611",
                    "slipId": "5009964049",
                    "customerId": "99999",
                    "accountId": "999991",
                    "type": "MERCHANT_FEE",
                    "amount": 100,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "CREDIT",
                    "fee": 10,
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                },
                {
                    "id": "5040057609",
                    "slipId": "5009964049",
                    "customerId": "99999",
                    "accountId": "999991",
                    "type": "TRANSACTION_FEE",
                    "amount": 10,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "fee": 0,
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                }
                ]
            },
            "description": "Transfer description.",
            "merchantRefNum": "abcd1234",
            "status": "COMPLETED"
        }


+ Request Transfer merchant to customer (application/json)

    + Body

        {
            "amount": 1000,
            "fee": 100,
            "currencyCode": "GBP",
            "recipient": {
                "customerId": "500014306996",
                "accountId": "5014567344"
            },
            "description": "Transfer description.",
            "merchantRefNum": "abcd1234",
            "deviceInfo": {
                "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
                "trheatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF&..."
            }
        }

+ Response 201 (application/json)

    + Body

        {
            "slipId": "5009964049",
            "amount": 1000,
            "fee": 100,
            "currencyCode": "GBP",
            "merchant": {
                "customerId": "99999",
                "accountId": "999991",
                "transactions": [
                {
                    "id": "5040057608",
                    "slipId": "5009964049",
                    "customerId": "99999",
                    "accountId": "999991",
                    "type": "TRANSFER_OUT",
                    "amount": 1000,
                    "currencyCode": "GBP",
                    "fee": 100,
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                },
                {
                    "id": "5040057609",
                    "slipId": "5009964049",
                    "customerId": "99999",
                    "accountId": "999991",
                    "type": "MERCHANT_FEE",
                    "amount": 100,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "CREDIT",
                    "fee": 10,
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                },
                {
                    "id": "5040057609",
                    "slipId": "5009964049",
                    "customerId": "99999",
                    "accountId": "999991",
                    "type": "TRANSACTION_FEE",
                    "amount": 10,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "fee": 0,
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                }
                ]
            },
            "recipient": {
                "customerId": "500014306996",
                "accountId": "5014567344",
                "transactions": [
                {
                    "id": "5040057610",
                    "slipId": "5009964049",
                    "customerId": "5014567344",
                    "accountId": "5014567344",
                    "type": "TRANSFER_IN",
                    "amount": 1000,
                    "currencyCode": "GBP",
                    "fee": 40,
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "CREDIT",
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                },
                {
                    "id": "5040057611",
                    "slipId": "5009964049",
                    "customerId": "5014567344",
                    "accountId": "5014567344",
                    "type": "MERCHANT_FEE",
                    "amount": 100,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "fee": 0,
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                }
                ]
            },
            "description": "Transfer description.",
            "merchantRefNum": "abcd1234",
            "status": "COMPLETED"
        }

+ Request Transfer customer to customer (application/json)

    + Body

        {
            "amount": 1000,
            "fee": 100,
            "currencyCode": "GBP",
            "sender": {
                "customerId": "500014306996",
                "accountId": "5014567344"
            },
            "recipient": {
                "customerId": "500014306997",
                "accountId": "5014567345"
            },
            "description": "Transfer description.",
            "merchantRefNum": "abcd1234",
            "deviceInfo": {
                "threatMetrixSessionId": "a71a475b-1956-4814-9c92-7faa8226b218",
                "trheatMetrixData" : "true_ip=87%2e120%2e141%2e75&true_ip_assert_history=NEGATIVE_HISTORY&true_ip_attributes=_CHALLENGED&true_ip_attributes=_CHALLENGE_PASSED&true_ip_attributes=_TRUSTED&true_ip_attributes=_TRUSTED_CONF&..."
            }
        }

+ Response 201 (application/json)

    + Body

        {
            "slipId": "5009964049",
            "amount": 1000,
            "fee": 100,
            "currencyCode": "GBP",
            "sender": {
                "customerId": "500014306996",
                "accountId": "5014567344",
                "transactions": [
                {
                    "id": "5040057610",
                    "slipId": "5009964049",
                    "customerId": "500014306996",
                    "accountId": "5014567344",
                    "type": "TRANSFER_OUT",
                    "amount": 900,
                    "currencyCode": "GBP",
                    "fee": 100,
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                },
                {
                    "id": "5040057611",
                    "slipId": "5009964049",
                    "customerId": "500014306996",
                    "accountId": "5014567344",
                    "type": "MERCHANT_FEE",
                    "amount": 100,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "fee": 0,
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                }
                ]
            },
            "merchant": {
                "customerId": "99999",
                "accountId": "999991",
                "transactions": [
                {
                    "id": "5040057608",
                    "slipId": "5009964049",
                    "customerId": "99999",
                    "accountId": "999991",
                    "type": "MERCHANT_FEE",
                    "amount": 100,
                    "currencyCode": "GBP",
                    "fee": 10,
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "CREDIT",
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                },
                {
                    "id": "5040057609",
                    "slipId": "5009964049",
                    "customerId": "99999",
                    "accountId": "999991",
                    "type": "TRANSACTION_FEE",
                    "amount": 10,
                    "currencyCode": "GBP",
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "DEBIT",
                    "fee": 0,
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                }
                ]
            },
            "recipient": {
                "customerId": "500014306997",
                "accountId": "5014567345",
                "transactions": [
                {
                    "id": "5040057610",
                    "slipId": "5009964049",
                    "customerId": "500014306997",
                    "accountId": "5014567345",
                    "type": "TRANSFER_IN",
                    "amount": 900,
                    "currencyCode": "GBP",
                    "fee": 100,
                    "creationTime": "2021-07-15T17:54:12Z",
                    "direction": "CREDIT",
                    "paymentType": "TRANSFER",
                    "description": "Transfer description.",
                    "status": "COMPLETED",
                    "merchantRefNum": "abcd1234"
                }
                ]
            },
            "description": "Transfer description.",
            "merchantRefNum": "abcd1234",
            "status": "COMPLETED"
        }

# Group Webhooks

Webhooks allow for the Merchant to track certain events in the wallet. It's the responsibility of the Merchant to:

* configure the webhook root URL with Paysafe
* ensure the availability of the endpoints to receive the webhooks

## Available webhooks [/webhook/path/at/merchant/system/customers/restrictions]

### Customer restrictions update [POST]

+ Attributes (CustomerRestrictionWebhook)

+ Request Customer Restrictions Applied (application/jbson)


    + Body

        {
            "id": "00000003630052156492",
            "timestamp": "2021-07-15T17:54:12Z",
            "customer": {
                "id": "2342352",
                "externalId": "d4b70695-3ffb-4f58-97ad-b61e8631a3e2",
                "restrictions": [
                    {
                        "name": "ALL_TRANSACTIONS",
                        "reason": "CONFIRMED_FRAUD",
                        "requiredActions": null,
                        "lastChangeDate": "2021-09-17T15:23:11Z"
                    }
                ]
            }
        }

+ Request Customer Restrictions Lifted (application/json)

    + Body

        {
            "id": "00000003630052156492",
            "timestamp": "2021-07-15T17:54:12Z",
            "customer": {
                "id": "2342352",
                "externalId": "d4b70695-3ffb-4f58-97ad-b61e8631a3e2",
                "restrictions": []
            }
        }



### Transaction update [POST /webhook/path/at/merchant/system/transactions/events]

+ Attributes (TransactionUpdateWebhook)

+ Request Transaction state change (application/json)

    + Body

        {
            "id": "00000003630052156492",
            "timestamp": "2021-07-15T17:54:12Z",
            "transaction": {
                "id": "5040057608",
                "slipId": "5009964049",
                "customerId": "500014306996",
                "accountId": "5014567344",
                "type": "DEPOSIT",
                "amount": 1000,
                "currencyCode": "EUR",
                "creationTime": "2021-07-15T17:54:12Z",
                "direction": "CREDIT",
                "paymentType": "CARD",
                "instrumentId": "43235252",
                "description": "Transaction description.",
                "status": "COMPLETED",
                "statusReason": null,
                "merchantRefNum": "abcd1234"
            }
        }


### Account update [POST /webhook/path/at/merchant/system/accounts/events]

The webhook is sent when there's an update on the customer account. The `operationType` signifies the change that occurred.

> NOTE: For events with  `operationType ==  IBAN_ASSIGNED`, Paysafe is not able to send the `iban` field in a webhook due to information security restrictions. To obtain the IBAN, the Merchant must call the Account Information endpoint.


+ Attributes (AccountUpdateWebhook)

+ Request Account change (application/json)

    + Body

        {
            "id": "00000003630052156492",
            "timestamp": "2021-07-15T17:54:12Z",
            "operationType": "IBAN_ASSIGNED"
            "account": {
                "id": "5040057608",
                "customerId": "500014306996"
            }
        }


# Data Structures

## accordD
+ accordD (object)
    + Properties
        + `financingType`:`DEFERRED_PAYMENT` (enum) - This is the type of financing offered.
            + Members
                + DEFERRED_PAYMENT - Deferred payment financing
                + EQUAL_PAYMENT - Equal payment financing
        + `plan`:`124` (string) - This is the plan number for the financing transaction.
            _length<=3_
        + `gracePeriod`:`12` (number) - This is the grace period, in months, associated with deferred payment transactions.
            _max=99_
        + `term`:`12` (number) - This is the number of payments, in months, for equal payment transactions.
            _max=99_

## Address
+ `id`:`5d4db3bc-34c9-417f-a051-0d992ad9284e` (string) - This is the ID of request, returned in the response.
    _Read Only, length<=36_
+ nickName:`Home` (string) - This is an alias defined by the customer for this address (for example, "home address").
    _Optional, length<=50_
+ street:`100 Queen` (string, required) - This is the first line of the customer's street address. **Note:** This is required only when the address is to be used in association with a bank account.
    length<=50_
+ street2:`Unit 201` (string) - This is the second line of the customer's street address, if required.
    __Optional, length<=50_
+ city:`Toronto` (string, required) - This is the city where the address is located. **Note:** This is required only when the address is to be used in association with a bank account.
    length<=40_
+ zip:`M5H 2N2` (string, required) - This is the zip, postal, or post code of the customer's address.
     length<=10_
+ country:`CA` (string, required) - This is the country where the address is located. See [Country Codes](#countrycodes).
    length=2_

+ state:`ON` (string) - This is the state/province/region in which the customer lives.
    _Optional, length<=2_
+ phone:`647-788-3901` (string) - This is the customer's phone number.
    _Optional, length<=40_
+ defaultShippingAddressIndicator:`true` (boolean) - Flag to mark this address as the default shipping address.
    _Conditional_
+ status: `ACTIVE`(enum) - This is the status of the address.
    _Read Only_
    + Members
        + ACTIVE
        + INITIAL

## Addresses
+ addresses (array)
    + (object)
        + Properties
            + `id`:`5d4db3bc-34c9-417f-a051-0d992ad9284e` (string) - This is the ID of request, returned in the response.
                _Read Only, length<=36_
            + nickName:`Home` (string) - This is an alias defined by the customer for this address (for example, "home address").
                _Optional, length<=50_
            + street:`100 Queen` (string, required) - This is the first line of the customer's street address. **Note:** This is required only when the address is to be used in association with a bank account.


                 length<=50_
            + street2:`Unit 201` (string) - This is the second line of the customer's street address, if required.
                _Optional, length<=50_
            + city:`Toronto` (string, required) - This is the city where the address is located. **Note:** This is required only when the address is to be used in association with a bank account.
                 length<=40_
            + zip:`M5H 2N2` (string, required) - This is the zip, postal, or post code of the customer's address.
                length<=10_
            + country:`CA` (string, required) - This is the country where the address is located. See [Country Codes](#countrycodes).
                length=2_

            + state:`ON` (string) - This is the state/province/region in which the customer lives.
                _Optional, length<=40_
            + phone:`647-788-3901` (string) - This is the customer's phone number.
                _Optional, length<=40_
            + defaultShippingAddressIndicator:`true` (boolean) - Flag to mark this address as the default shipping address.
                _Conditional_

## Authentications Object
+ authentication (object) - These are the 3D Secure authentication details.
    + `id`:`5d4db3bc-34c9-417f-a051-0d992ad9284e` (string) - This is the ID of authentication, returned in the response.
        _Read Only, length<=36_
    + `eci`:`5` (number) - This is the [E-Commerce Indicator](#authenticationobject).
    + `cavv`:`AAABBhkXYgAAAAACBxdiENhf7A+=` (string) - This is the Cardholder Authentication Verification Value, indicating that the transaction has been authenticated.
        _Read Only, length<=80_
    + `xid`:`aWg4N1ZZOE53TkFrazJuMmkyRDA=` (string) - This is the transaction identifier returned by the card issuer.
        _Read Only, length<=40_
    + `status`: (enum) - This is the status of authentication request.
        _Read Only_
        + Members
            + COMPLETED
            + FAILED
    + `merchantRefNum`:`merchantABC-123-authentications` (string) - This is the merchant reference number for the authentication request.
        _Read Only, length<=255_
    + `threeDEnrollment`:`Y` (enum) - This indicates whether or not the cardholder is enrolled in 3D Secure.
        _Read Only_
        + Members
            + Y - Cardholder authentication available
            + N - Cardholder not enrolled in authentication
            + U - Cardholder authentication unavailable
    + `threeDResult`:`Y` (enum) - This indicates the outcome of the Authentication.
        _Read Only_
        + Members
            + Y - The cardholder successfully authenticated with their card issuer.
            + A - The cardholder authentication was attempted.
            + N - The cardholder failed to successfully authenticate with their card issuer.
            + U - Authentication with the card issuer was unavailable.
            + E - An error occurred during authentication.
    + `signatureStatus`:`Y` (enum) - This is the 3D Secure signature verification result value.
        _Read Only_
        + Members
            + Y - All transaction and signature checks satisfied.
            + N - At least one transaction or signature check failed.
    + Include Authentication Errors

## Authentication Errors
+ error (object) - This is the error details of authentication.
    _Read Only_
    + `code`:`5016` (string) - This is the error code.
    + `message`:`Account not found.` (string) - This is the description of the error.
    + `fieldErrors` (array) - This is a list of fields that have issues.
        + `field`:`amount` (string) - Field name.
        + `error`:`Contain invalid characters` (string)  - Error associated with the field name.


## `Bacs`

+ bacs (object) - These are the details of the [bacs](#bacsobject) used for the request.

    + Properties

        + nickName: `Sally's Barclays Account` (string) - This is an alias for this bank account.
            _Optional, length<=50_
        + accountHolderName: `XYZ Company` (string, required) - This is the name of the customer or company that owns the bank account.

             _length<=18_
        + accountNumber: `98877219` (string, required) - This is the bank account number.
             _length=8_

        + sortCode:`Jane's Card` (string, required) - This is the 6-digit sort code that identifies the financial institution and branch of the customer’s bank.
            _length=6_
        + Include Mandate
        + lastDigits: `11` (string) - These are the last two digits of the account number.
            _Read Only, length=2_

## Billing Details
+ billingDetails (object) - These are the customer's billing details. **Note:** For single-use Payment Handles, this address information will be ignored if the *paymentHandleTokenFrom* parameter is included in the Payment Handle creation request and there is already address information associated with that customer.
    + street:`100 Queen` (string, required)  - This is the first line of the street address in the billing address.

         _length<=50_
    + street2:`Unit 201` (string) - This is the second line of the street address in the billing address, if required (for example, apartment number).
        _Optional, length<=50_
    + city:`Toronto` (string, required) - This is the city in the billing address.
         _length<=40_
    + zip:`MSH 2N2` (string, required) - This is the postal/zip code in the billing address.
         _length<=10_
    + country:`CA` (string, required) - This is the country where the address is located. See [Country Codes](#countrycodes).
         _length=2_

    + state:`ON` (string) - This is the state or province of the billing address. For Canada see [Province Codes](#provincecodes). For the United States see [State Codes](#statecodes). Other countries have no restrictions.
        _Optional, length<=40_
    + phone:`444-9999` (string) - This is the customer's telephone number.
        _Optional, length<=40_
    + `nickName`:`Home` (string) - This is the nickname the merchant has for the billing address.
        _Optiona, length<=50_

## Billing Details Response
+ billingDetails (object) - These are the customer's billing details.
     _Read Only_

     + Properties

        + street:`100 Queen` (string)  - This is the first line of the street address in the billing address.
            _length<=50_
        + street2:`Unit 201` (string) - This is the second line of the street address in the billing address, if required (for example, apartment number).
            _length<=50_
        + city:`Toronto` (string) - This is the city in the billing address.
            _length<=40_
        + zip:`MSH 2N2` (string) - This is the postal/zip code in the billing address.
            _length<=10_
        + country:`CA` (string) - This is the country where the address is located. See [Country Codes](#countrycodes).
            _length=2_
        + state:`ON` (string) - This is the state or province of the billing address. For Canada see [Province Codes](#provincecodes). For the United States see [State Codes](#statecodes). Other countries have no restrictions.
            _length<=40_
        + phone:`444-9999` (string) - This is the customer's telephone number.
            _length<=40_
        + `nickName`:`Home` (string) - This is the nickname the merchant has for the billing address.
            _length<=50_

## `Card`

+ card (object) - These are the details of the [card](#cardobject) used for the request.

    + Properties

        + cardNum:`4111111111111111` (string, required) - This is the card number used for the request.
             _length=8-20_

        + cardExpiry (object, required) - This is the card's [expiry date](#cardexpiryobject).

            + month:12 (number) - This is the card expiry month.
                _length=2_
            + year:2020 (number) - This is the card expiry year.
                _length=4_
        + cvv:`123` (string) - This is the 3- or 4-digit security code that appears on the card following the card number.
            _Conditional, length=3-4_
        + lastDigits:`1111` (string) - These are the last four digits of the card used for the request.
            _Read Only, length=4_
        + holdername:`Jane Smith` (string) - This is the name of the card holder.
            _Read Only_
        + nickName:`Jane's Card` (string) - This is the nickname the merchant has for the card holder.
            _Optional, length<=50_
        + cardBin:`411111` (string) - This is the card BIN (typically the first 6 digits).
            _Read Only, length=6_
        + cardType: `AM` (enum) - This is the type of card used for the request, returned in the response.
            _Read Only_
            + Members
                + AM – American Express
                + DI – Discover
                + JC – JCB
                + MC – Mastercard
                + MD – Maestro
                + SO – Solo
                + VI – Visa
                + VD – Visa Debit
                + VE – Visa Electron

## `Card Customer`

+ card (object, required) - These are the details of the [card](#cardobject) used for the request.

    + Properties

        + cardNum:`4111111111111111` (string, required) - This is the card number used for the request.
             _length=8-20_
        + cardExpiry (object, required) - This is the card's [expiry date](#cardexpiryobject).
            + month:12 (number) - This is the card expiry month.
                _length=2_
            + year:2020 (number) - This is the card expiry year.
                _length=4_
        + cvv:`123` (string) - This is the 3- or 4-digit security code that appears on the card following the card number.
            _Conditional, length=3-4_
        + lastDigits:`1111` (string) - These are the last four digits of the card used for the request.
            _Read Only, length=4_

## `Card Response`

+ card (object) - These are the details of the [card](#cardobject) used for the request.
    _Read Only_

    + Properties

        + cardExpiry (object, required) - This is the card's [expiry date](#cardexpiryobject).

            + month:12 (number) - This is the card expiry month.
                _length=2_
            + year:2020 (number) - This is the card expiry year.
                _length=4_
        + lastDigits:`1111` (string) - These are the last four digits of the card used for the request.
            _Read Only, length=4_
        + cardBin:`411111` (string) - This is the card BIN (typically the first 6 digits).
            _Read Only, length=6_

## Customer Base
+ `id`:`5d4db3bc-34c9-417f-a051-0d992ad9284e` (string) - This is the ID of the request, returned in the response.
    _Read Only, length<=36_
+ merchantCustomerId:`mycustomer10` (string, required) - This is a customer ID that the merchant provides with the request for their own internal customer identification. This value must be unique for each customer belonging to a merchant.
   _length<=100_
+ locale: `en_US` (enum, required) - This indicates the language of the customer.
    - en_US
    - fr_CA
    - en_GB
+ firstName:`John` (string) - This is the customer's first name.
    _Optional, length<=80_
+ middleName:`James` (string) - This is the customer's middle name.
    _Optional, length<=80_
+ lastName:`Smith` (string) - This is the customer's last name.
    _Optional, length<=80_
+ Include Date of Birth
+ email:`john.smith@email.com` (string) - This is the customer's email address.
    _Optional, length<=255_
+ phone:`777-444-8888` (string) - This is the customer's phone number.
    _Optional, length<=40_
+ ip:`192.0.126.111` (string) - This is the customer’s IP address.
    _Optional, length<=46_
+ gender: `F` (enum) - This is the customer’s gender.
    _Optional_
    - F
    - M
+ nationality:`Canadian` (string) - This is the customer’s nationality.
    _Optional, length<=30_
+ cellPhone:`777-555-8888` (string) - This is the customer’s cell phone number.
    _Optional, length<=40_
+ status: `ACTIVE` (enum) - This is the status of the customer. By default the system automatically sets the customer status to an ACTIVE state. If you want to prevent the customer from being used for payments, you can set the status to an INITIAL state (for example, in cases where you first want to validate the customer).
    _Read Only_
    + Members
        + INITIAL
        + ACTIVE
+ Include Metadata Object

## Date of Birth
+ `dateOfBirth` (object) - This is the customer's date of birth.
    _Mandatory_
    + Properties
        + `day`:`29` (number) - This is the day of birth.
            _Mandatory, length=2_
        + `month`:`12` (number) - This is the month of birth.
            _Mandatory, length=2_
        + `year`:`2020` (number) - This is the year of birth. Minimum value for this property is 1900.
            _Mandatory, length=4_

## Error Attributes
+ `error` (object)
    _Read Only_
    + Properties
        + `code`:`1001` (string) - This is the error code.
            _Read Only_
        + `message`:`An internal error occurred.` (string) - This is the description of the error.
            _Read Only_
        + `riskReasonCode`:`text` (string) - If applicable, this is the corresponding system reason code.
            _Read Only_
        + `details` (array) - If applicable, this is a collection of detailed descriptions.
            _Read Only_
        + `fieldErrors` (array) - If applicable, this is a list of fields that have issues.
            _Read Only_
            + `field`:`street` (string) - This is the field name.
            + `error`:`Unexpected characters` (string) This is the error associated with the field name.
        + `links` (array) - If applicable, this is a list of links to the related resource.
            _Read Only_
            + `rel` (string) - This is the description or relation of the link, for example, default, self, first, prev, next, last.
            + `href` (string) - This is the actual URL of the link.

## Gateway Response
+ `gatewayResponse` (object) - This is the raw response returned by an acquirer. It is returned only if your account is configured accordingly.
    _Read Only_

    + Properties
        + code (string) - This is acquirer identification code, such as DJN, CRX, etc.
            _Read Only_
        + id (string) - This is transaction id at PSP side, in case of APMs.
            _Read Only_
        + responseCode (string) - This is the raw response returned by the acquirer.
            _Read Only_
        + avsCode (string) - This is the raw AVS code returned by the acquirer.
            _Read Only_
        + avsResponse (string) - This is the AVS response returned from the card issuer.
            _Read Only_
        + balanceResponse (string) - This is the balance remaining on a gift card, if a gift card was used for the original transaction.
            _Read Only_
        + mid (string) - This is the acquirer MID that was sent to the clearing house.
            _Read Only_
        + terminalId (string) - This is the merchant's terminal ID.
            _Read Only_
        + batchNumber (string) - This is the batch number.
            _Read Only_
        + seqNumber (string) - This is the merchant's sequence number.
            _Read Only_
        + effectiveDate (string) - This is the date of the bank deposit associated with the transaction.
            _Read Only_
        + financingType (string) - This is the type of financing offered.
            _Read Only_
        + plan (string) - This is the plan number for the financing transaction.
            _Read Only_
        + gracePeriod (string) - This is the grace period, in months, associated with deferred payment transactions.
            _Read Only_
        + term (string) - This is the number of payments, in months, for equal payment transactions.
            _Read Only_
        + responseId (string) - This is the response ID assigned by Credorax.
            _Read Only_
        + requestId (string) - This is the request ID assigned by Paysafe.
            _Read Only_
        + description (string) - This is a description of the response.
            _Read Only_
        + authCode (string) - This is the authorization code.
            _Read Only_
        + txnDateTime (string) - This is the transaction date and time.
            _Read Only_
        + referenceNbr (string) - This is the bank net transaction Id/Merch Tran Ref
            _Read Only_
        + responseReasonCode (string) - This is the raw response reason code returned by Credorax.
            _Read Only_
        + cvvVerification (string) - This is the response to the cvv submitted with the transaction request.
            _Read Only_
        + cvv2Result (string) - This is the raw cvv2 result code.
            _Read Only_

## Level2Level3

+ `level2Level3` (object) - This allows merchants who are enabled to provide additional [L2/L3 transaction data](#level2level3object). Not all processing gateways support this parameter. Contact your account manager for more information.
    + exemptLocalTax:true (boolean) - This indicates whether or not local tax is exempted for the request.
    + localTaxAmount:1500 (number) - This is the local sales tax applied to the purchase.
        _length<=99999999999_
    + nationalTaxAmount:0 (number) - This is the national tax included in the transaction amount.
        _length<=99999999999_
    + freightAmount:0 (number) - This is the freight or shipping portion of the total transaction amount.
        _length<=99999999999_
    + dutyAmount:0 (number) - This is the duty associated with the import of the purchased goods.
        _length<=99999999999_
    + destinationZip:90210 (string) - This is the postal/zip code of the address to which the purchased goods will be delivered.
        _length<=10_
    + destinationCountry:US (string) - This is the country to which the goods are being shipped.
        _length=2_
    + shipFromZip:90211 (string) - This is the postal/zip code of the address from which the purchased goods are being shipped.
        _length<=10_
    + Include Line Items

## Line Items

+ `lineItems` (object) - This is more [detailed information](#lineitemsobject) about the items that are being purchased.
    + description:Disney Cruise Line (string, optional) - This is a description of the item(s) being purchased.
        _length<=50_
    + productCode:DCL (string) - This is a merchant-defined description code of the item being purchased.
        _length<=12_
    + quantity:4 (number) - This is the quantity of the item.
        _length<=99999999999_, _max 4 decimals_
    + unitAmount:120000 (number) - This is the unit price of the item being purchased, in minor units. The currency will be based on the account setting.
        _length<=99999999999_
    + taxRate:5 (number) - This is the tax rate used to calculate the tax amount.
        _length<=100_, _max 2 decimals_
    + taxAmount:24000 (number) - This is the amount of any value-added taxes that can be associated with the purchased item, in minor units.
        _length<=99999999999_
    + totalAmount:504000 (number) - This is the total amount of the line item, typically calculated as price multiplied by quantity, in minor units.
        _length<=99999999999_

## Mandate
+ `mandate` (object, required) - This object contains mandate information like id, reference and status of mandate.

    + Properties
        + `id`: `abcdc28d-486e-4b0a-bbf9-314033863542` (string) - This is the id of the mandate that got created.
             _Read Only_
        + `reference`: `ABCDEF0796` (string, required) - This is the identifier of the mandate in the banking system.

        + `status`: `PENDING` (string) - This is the status of the mandate.
             _Read Only_


## Merchant Descriptor
+ merchantDescriptor (object)
    _Optional_
    + Properties
        + `dynamicDescriptor`:`OnlineStore` (string) - This is a merchant descriptor that will be displayed on a customer’s statement.
            _length<=20_
        + `phone`:`999-8888` (string) - This is the merchant’s phone number, which will be appended to the merchant descriptor on a customer’s statement.
            _length<=13_

## Merchant Descriptor Response
+ merchantDescriptor (object)
    _Read Only_

    + Properties
        + `dynamicDescriptor`:`OnlineStore` (string) - This is a merchant descriptor that will be displayed on a customer’s statement.
            _length<=20_
        + `phone`:`999-8888` (string) - This is the merchant’s phone number, which will be appended to the merchant descriptor on a customer’s statement.
            _length<=13_

## Metadata Object
+ `meta` (object)
    _Read Only_

    + Properties
        + `numberOfRecords`:`1` (number) - This is the number of records returned in the lookup.
        + `limit`:`10` (number) - This is the number of records returned per page.
        + `page`:`1` (number) - This is the page of records on which the lookup starts.

## originalCredits
+ Include Metadata Object
+ `originalCredits`: `` (array) - An array of Original Credits.

## OriginalCreditResponse (object)
+ `id`:`25f6dadf-176a-415f-95c9-6ff39ff697ba` (string) - This is the ID returned in the response. This ID can be used for future associated requests, e,g., lookups.
    _Read Only, length<=36_
+ `merchantRefNum`:`merchantRefNum-101` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
    _length<=255_

+ `paymentHandleToken`:`842778a0-03a2-11e9-8eb2-f2801f1b9fd1` (string, required) - This is the payment token generated by Paysafe that will be used for the request.
    _length<=36_
+ `amount`:`1000` (string, required) - This is the amount of the request, in minor units. **Note:** The *amount* specified in the Credit request must match the *amount* specified in the Payment Handle request from which the *paymentHandleToken* is taken.
    _Max =99999999999_
+ `currencyCode`:`CAD` (string, required) - This is the [currency of the merchant account](#currencycodes), for example, USD or CAD. **Note:** The *currencyCode* specified in the Credit request must match the *currencyCode* specified in the Payment Handle request from which the *paymentHandleToken* is taken.
    _max=3_
+ `txnTime`:`2018-12-11T16:33:49Z` (string) - This is the date and time the transaction was processed.
    _Read Only_
+ `paymentType`: `CARD` (enum) - This is the payment type associated with the Payment Handle used for this request.
    _Read Only_
    + Members
        + CARD
        + BANK_TRANSFER
+ Include wallet (object)
+ One of

    + card (object) - These are the details of the [card](#cardobject) used for the request. Only one payment instrument object (for example, *card* or *paysafecash* or *sightline*) can be included in the request.

        + Properties

            + cardExpiry (object) - This is the card's [expiry date](#cardexpiryobject).
                _Read Only_
                + month:12 (number) - This is the card expiry month.
                    _length=2_
                + year:2020 (number) - This is the card expiry year.
                    _length=4_
            + holdername:`Jane Smith` (string) - This is the name of the card holder.
                _Read Only_
            + cardType (enum) - This is type of card used for the request.
                _Read Only_
                - AM – American Express
                - DI – Discover
                - JC – JCB
                - MC – Mastercard
                - MD – Maestro
                - SO – Solo
                - VI – Visa
                - VD – Visa Debit
                - VE – Visa Electron
            + lastDigits:`1111` (string) - These are the last four digits of the card used for the request.
                _Read Only, length=4_
            + nickName:`Jane's Card` (string) - This is the nickname the merchant has for the card holder.
                _Read Only, length<=50_
            + cardBin:`411111` (string) - This is the card BIN (typically the first 6 digits).
                _Read Only, length=6_

    + sepa (object) - These are the details of the [sepa](#sepaobject) used for the request.

        + Properties

            + nickName: `Sally's Barclays Account` (string) - This is an alias for this bank account.
            _Optional, length<=50_
            + accountHolderName: `XYZ Company` (string, required) - This is the name of the customer or company that owns the bank account.
            _length<=32_
            + bic: `ABNANL2APIP` (string, required) - This is the Bank Identifier Code for the consumer's bank account.
            _Optional, length=8-11_
            + iban: `DE89370400440532013000` (string, required) - This is the International Bank Account Number for the costumer's bank account.
            _length=8-34_

            + lastDigits:`11` (string) - These are the last two digits of the iban.
            _Read Only, length=2_

    + fasterPayments (object) - These are the details of the [fasterPayments](#fasterpaymentsobject) used for the request.

        + Properties

            + accountHolderName: `XYZ Company` (string, required) - This is the name of the customer or company that owns the bank account.
            _length<=140_
            + sortCode: `321654` (string, required) - This is the sortcode for the consumer's bank account.
            _Optional, length=6_
            + accountNumber: `98877219` (string, required) - This is the Bank Account Number for the costumer's bank account.
            _length=8-10_
            + lastDigits:`11` (string) - These are the last two digits of the account number.
            _Read Only, length=2_


+ `status`: `PENDING` (enum) - This is the status of the transaction request.
    _Read Only_
    + Members
        + INITIATED - The transaction was initiated with the downstream provider.
        + PENDING - The transaction awaiting payment service provider's response.
        + FAILED - The transaction failed, due to either an error or being declined.
        + CANCELLED - The authorization request has been fully reversed.
        + EXPIRED - The request expired.
        + COMPLETED - The request was completed.
        + RECEIVED - Our system has received the request and is waiting for the downstream processor’s response.
+ `description`:`Purchase Credit` (string) - This is a description of the transaction, provided by the merchant.
    _Optional, length<=255_
+ `customerIp`:`73.82.192.17` (string) - This is the customer's IP address.
    _length<=39_

## Partial Auth
+ partialAuth (object)
    + `requested`:`true` (boolean) - This specifies whether or not a partial authorization was requested.
        + Default: false
    + `amountDue`:`1000` (number) - This is the amount of the full authorization that is not covered by the Payment request.
        _max=99999999999_
    + `originalAmount`:`2000` (number) - This is the actual amount of the full authorization.
        _max=99999999999_

## Payment Methods Get
+ paymentMethods (object)
    + `paymentMethod`: (enum) - This is the payment type associated with this payment method.
        _Read Only_
        + Membersred tag
            + CARD
            + PAYSAFECASH
            + PAYSAFECARD
            + SIGHTLINE
            + SKRILL
            + INSTANTACH
            + VIPPREFERRED
            + ACH
            + EFT
            + INTERAC
    + currencyCode:`USD` (string) - This is the [currency of the merchant account](#currencycodes), for example, USD or CAD.
        _Read Only, max=3_
    + `accountId`: `1009355920` (string) - If you are a merchant, then this field is required only if you have more than one account configured for the same payment method and currency. If you are a partner using a shared API key, then this field is mandatory.
        _Read Only, length<=10_


## PaymentHandleRequest (object)

+ `id`:`26359efd-7cfb-4014-a13d-1724e3ff17fa` (string) - This is the ID returned in the response. This ID can be used for future associated requests, for example, to look up the Payment Handle.
    _Read Only, length<=36_
+ `merchantRefNum`:`merchantRefNum-101` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
    _length<=255_
+ `transactionType`: `PAYMENT` (enum, required) - This specifies the transaction type for which the Payment Handle is created.

    + Members
        + PAYMENT - Payment Handle is created to continue the Payment.
        + STANDALONE_CREDIT - Payment Handle is created to continue the Standalone Credit.
+ `accountId`:`9876543210` (string) - If you are a merchant, then this field is required only if you have more than one account configured for the same payment method and currency. If you are a partner using a shared API key, then this field is mandatory.
    _Conditional, length<=10_
+ `status`:`PAYABLE` (enum) - This is the status of the payment handle.
    _Read Only_
    + Members
        + INITIATED - The transaction was initiated with the downstream provider.
        + PAYABLE - The merchant can use the Payment Handle for a Payment request.
        + PROCESSING - The Payment Handle was authorized by customer, awaiting PSP response.
        + FAILED - The transaction failed due to either an error or being declined.
        + EXPIRED - The Payment Handle expired because the merchant did not proceed with the Payment request.
        + COMPLETED - The Payment request was initiated successfully using the Payment Handle.
+ `usage`:`SINGLE_USE` (enum) - This specifies how the Payment Handle will be used for Payments.
    _Read Only_
    + Members
        + SINGLE_USE - The Payment Handle can be used for one transaction only and expires if not used.
+ `paymentType`: `CARD` (enum, required) - This is the payment type associated with this Payment Handle. If applicable, you need to pass the corresponding payment type object as listed after this parameter.

    + Members
         + CARD
         + RAPID_TRANSFER
         + BANK_TRANSFER
+ Include Payment Instrument
+ `action`:`NONE` (enum) - This specifies the next step of the user journey once they proceed to the Payment.
    _Read Only_
    + Members
        + NONE - No action is required, for example, for a standard credit card Payment.
        + REDIRECT -The user must be redirected in order to complete a Payment, for example, when an alternate payment method like Paysafecard is used.
+ `executionMode`:`SYNCHRONOUS` (enum) - This specifies the action of the merchant server in order to complete the Payment.
    _Read Only_
    + Members
        + ASYNCHRONOUS - The Payment request is not completed immediately and the merchant [must rely on webhooks](#paymentswebhooks) to retrieve the status of the Payment request.
        + SYNCHRONOUS - The status of the Payment request will be returned synchronously to the merchant, for example, a credit card request.
+ `amount`:`1000` (string, required) - This is the amount of the request, in minor units. **Note:** This field is mandatory if *transactionType* is included. The *amount* specified in the Payment Handle request must match the *amount* specified in the Payments API request the *paymentHandleToken* is used for.
    _Max =99999999999_
+ `currencyCode`:`CAD` (string, required) - This is the [currency of the merchant account](#currencycodes), for example, USD or CAD. **Note:** This field is mandatory if *transactionType* is included. The *currencyCode* specified in the Payment Handle request must match the *currencyCode* specified in the Payments API request the *paymentHandleToken* is used for.
    _max=3_
+ `paymentHandleTokenFrom`:`SCyGZDlUuZ9zxjyd` (string) - This is an [existing Customer Payment Handle](#createcustomerpaymenthandlerequest), from which the payment instrument and profile details are retrieved. If this parameter is included you can omit the *billingDetails* object.
    _Optional, length<=36_
+ `paymentHandleToken`:`SCO3wKcIyLoQbQvw` (string) - This is the payment token generated by Paysafe that will be used by merchants for Payment API requests.
    _Read Only, length<=36_
+ Include Profile
+ Include Billing Details
+ `wallet` : (walletRequest)
+ Include Merchant Descriptor
+ `returnLinks` (object) - The URL endpoints to redirect the customer to after a redirection to an alternative payment or 3D Secure site. You can customize the return URL based on the transaction status.
    _Conditional_
    + `rel`(enum) - This is the link type, allowing different endpoints to be targeted depending on the end state of the transaction. The link relation describes how this link relates to the previous call.
        + default (string, required) - The default return URL that will be used if specific status return URL is not defined.
        + on_completed (string) - Will be returned to this URL if the payment is completed.
        + on_failed (string) - Will be returned to this URL if the payment fails.
    + `href` - The actual URL
    + `method` - The HTTP method
+ links (object) - This is an array of links related to the resource.
    _Read Only_
    + `rel`: `redirect_payment` (enum)
    + `href`:`http://api.paysafe.com/card/redirect/372b5ee7-6360-4403-b444-164f8f1d2709`
    + `method`:`GET`
+ `customerIp`:`73.82.192.17` (string) - This is the customer's IP address.
    _length<=39_
+ `timeToLiveSeconds`:`899` (number) - This is the period of time, in seconds, the *paymentHandleToken* is valid before expiration.
    _Read Only, length<=899_
+ `txnTime`: `2015-12-11T16:33:49Z` (string) - This is the date and time the transaction was processed.
    _Read Only_
+ Include Metadata Object
+ Include Gateway Response
+ `updatedTime`: `2016-01-01T04:5:55Z` (string) - Indicates the last updated time for the resource.
    _Read Only_
+`statusTime`: `2016-01-01T04:55:55Z` (string) - Indicates when the status was last updated.
    _Read Only_


## PaymentHandleRequest Customer

+ `id`:`26359efd-7cfb-4014-a13d-1724e3ff17fa` (string) - This is the ID returned in the response. This ID can be used for future associated requests, for example, to look up the Payment Handle.
    _Read Only, length<=36_
+ `merchantRefNum`:`merchantRefNum-101` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
    _length<=255_
+ `status`:`PAYABLE` (enum) - This is the status of the transaction request.
    _Read Only_
    + Members
        + INITIATED - The transaction was initiated with the downstream provider.
        + PAYABLE - The merchant can use the Payment Handle for a Payment request.
        + PROCESSING - The Payment Handle was authorized by customer, awaiting PSP response.
        + FAILED - The transaction failed due to either an error or being declined.
        + EXPIRED - The Payment Handle expired because the merchant did not proceed with the Payment request.
        + COMPLETED - The Payment request was initiated successfully using the Payment Handle.
+ `usage`:`MULTI_USE` (enum) - This specifies how the Payment Handle will be used for Payments.
    _Read Only_
    + Members
        + MULTI_USE - The Payment Handle can be used multiple times.
+ `paymentType`: `CARD`(enum, required) - This is the payment type associated with this Payment Handle.

    + Members
        + CARD
        + ACH
        + EFT
        + BACS
        + SEPA
+ `executionMode`: `SYNCHRONOUS`(enum) - This specifies the action of the merchant server in order to complete the Payment.
    _Read Only_
    + Members
        + ASYNCHRONOUS - The Payment request is not completed immediately and the merchant [must rely on webhooks](#paymentswebhooks) to retrieve the status of the Payment request.
        + SYNCHRONOUS - The status of the Payment request will be returned synchronously to the merchant, for example, a credit card request.
+ `amount`:`1000` (string) - This is the amount of the request, in minor units. **Note:** This field is mandatory if *transactionType* is included.
    _Conditional, Max =99999999999_
+ `currencyCode`:`CAD` (string) - This is the [currency of the merchant account](#currencycodes), for example, USD or CAD.
    _Read Only, max=3_
+ `paymentHandleToken`:`842778a0-03a2-11e9-8eb2-f2801f1b9fd1` (string) - This is the payment token generated by Paysafe that will be used by merchants for Payment API requests, provided its *status* is PAYABLE.
    _Read Only, length<=36_
+ Include Payment Instrument Customer
+ `billingDetailsId`:`5d4db3bc-34c9-417f-a051-0d992ad9284e` (string) - This is the ID returned in the response to the [address creation request](#createaddressrequest).
    _Optional, length<=36_
+ `returnLinks` (object) - The URL endpoints to redirect the customer to after a redirection to an alternative payment or 3D Secure site. You can customize the return URL based on the transaction status.
    _Conditional_
    + `rel`(enum) - This is the link type, allowing different endpoints to be targeted depending on the end state of the transaction. The link relation describes how this link relates to the previous call.
        + default (string, required) - The default return URL that will be used if specific status return URL is not defined.
        + on_completed (string) - Will be returned to this URL if the payment is completed.
        + on_failed (string) - Will be returned to this URL if the payment fails.
    + `href` - The actual URL
    + `method` - The HTTP method
+ links (object) - This is an array of links related to the resource.
    _Read Only_
    + `rel`: `redirect_payment` (enum)
    + `href`:`http://api.paysafe.com/card/redirect/372b5ee7-6360-4403-b444-164f8f1d2709`
    + `method`:`GET`
+ `customerIp`:`73.82.192.17` (string) - This is the customer's IP address.
    _length<=39_

## PaymentHandleRequest SUT

+ `id`:`26359efd-7cfb-4014-a13d-1724e3ff17fa` (string) - This is the ID returned in the response. This ID can be used for future associated requests, for example, to look up the Payment Handle.
    _Read Only, length<=36_
+ `profileId`:`59cce04e-e429-4016-9d3f-1e579f3aa2ad` (string) - This is the ID of the customer profile used for this request.
    _Read Only, length<=36_
+ `timeToLiveSeconds`:`899` (number) - This is the period of time, in seconds, the *singleUseCustomerToken* is valid before expiration.
    _Read Only, length<=899_
+ `merchantRefNum`:`merchantRefNum-101` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
    _length<=255_
+ `status`: (enum) - This is the status of the single-use customer token.
    _Read Only_
    + Members
        + INITIAL
        + ACTIVE
+ `singleUseCustomerToken`:`SPFAB1cA5iwdu48H` (string) - This token can be [used in the Payments Checkout](#paymentscheckout) to populate the checkout with customer information.
    _Read Only, length<=16_
+ `locale`:`ca_en` (enum) - This indicates the customer's locale.
    _Read Only_
    + Members
        + en_US
        + fr_CA
        + en_GB

+ `firstName`:`Jane` (string) - This is the customer’s first name.
    _Read Only, length<=80_
+ `middleName`:`Joan` (string) - This is the customer’s middle name.
    _Read Only, length<=80_
+ `lastname`:`Smyth` (string) - This is the customer's last name.
    _Read Only, length<=80_
+ Include Date of Birth
+ `email`:`jane.smyth@email.com` (string) - This is the customer's email address.
    _Read Only, length<=255_
+ `phone`:`12345678` (string) - This is the customer's phone number.
    _Read Only, length<=40_
+ `ip`:`192.0.126.111` (string) - This is the customer’s IP address.
    _Read Only, length<=46_
+ `nationality`:`American` (string) - This is the customer’s nationality.
    _Read Only, length<=30_
+ `addresses`:`addresses` (array) - This is an array of addresses associated with the customer.
    _Read Only_
+ `paymentHandles`:`paymentHandles` (array) - This is an array of payment handles associated with the customer.
    _Read Only_

## PaymentHandleRequest Customer SUT Response
+ `id`:`26359efd-7cfb-4014-a13d-1724e3ff17fa` (string) - This is the ID returned in the response. This ID can be used for future associated requests, for example, to look up the Payment Handle.
    _Read Only, length<=36_
+ `merchantRefNum`:`merchantRefNum-101` (string) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
    _Read Only, length<=255_
+ `status`:`INITIATED` (enum) - This is the status of the transaction request.
    _Read Only_

    + Members
        + INITIATED - The transaction was initiated with the downstream provider.
        + PAYABLE - The merchant can use the Payment Handle for a Payment request.
        + PROCESSING - The Payment Handle was authorized by customer, awaiting PSP response.
        + FAILED - The transaction failed due to either an error or being declined.
        + EXPIRED - The Payment Handle expired because the merchant did not proceed with the Payment request.
        + COMPLETED - The Payment request was initiated successfully using the Payment Handle.
+ `usage`:`MULTI_USE` (enum) - This specifies how the Payment Handle will be used for Payments.
    _Read Only_

    + Members
        + MULTI_USE - The Payment Handle can be used multiple times.
+ `paymentType`: (enum, required) - This is the payment type associated with this Payment Handle.
    _Read Only_

    + Members
        + CARD
+ `action`: (enum) - This specifies the next step of the user journey once they proceed to the Payment.
    _Read Only_

    + Members
        + NONE
        + REDIRECT
+ `paymentHandleTokenFrom`:`7576835c-0396-11e9-8eb2-f2801f1b9fd1` (string) - This is an existing [Payment Handle token created for a customer](#createcustomerpaymenthandlerequest).
    _Read Only_
+ `paymentHandleToken`:`842778a0-03a2-11e9-8eb2-f2801f1b9fd1` (string) - This is the payment token generated by Paysafe that will be used by merchants for Payment API requests, provided its *status* is PAYABLE.
    _Read Only, length<=36_
+ Include Card Response
+ Include Merchant Descriptor Response
+ Include Billing Details Response


## PaymentHandleRequest Object
+ paymentHandleRequest (object)
    + `id`:`26359efd-7cfb-4014-a13d-1724e3ff17fa` (string) - This is the ID returned in the response. This ID can be used for future associated requests, for example, to look up the Payment Handle.
        _Read Only, length<=36_
    + `paymentHandleTokenFrom`:`7576835c-0396-11e9-8eb2-f2801f1b9fd1` (string) - This is an existing [Payment Handle token created for a customer](#createcustomerpaymenthandlerequest), from which payment instrument and profile details can be retrieved.
        _length<=36_
    + `merchantRefNum`:`merchantRefNum-101` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
        _length<=255_
    + `transactionType`: (enum, required) - This specifies the transaction type for which the Payment Handle is created.
        + Members
            + PAYMENT - Payment Handle is created to continue the Payment.
            + STANDALONE_CREDIT - Payment Handle is created to continue the Standalone Credit.
            + ORIGINAL_CREDIT - Payment Handle is created to continue the Original Credit.
            + VERIFICATION - Payment Handle is created to continue the Verification request.
    + `status`: (enum) - This is the status of the transaction request.
        _Read Only_
        + Members
            + RECEIVED - Paysafe has received the request and is waiting for the downstream processor’s response.
            + INITIATED - The transaction was initiated with the downstream provider.
            + PAYABLE - The merchant can use the Payment Handle for a Payment request.
            + PROCESSING - The Payment Handle was authorized by customer, awaiting PSP response.
            + FAILED - The transaction failed due to either an error or being declined.
            + CANCELLED - The authorization request has been fully reversed.
            + EXPIRED - The Payment Handle expired because the merchant did not proceed with the Payment request.
            + COMPLETED - The Payment request was initiated successfully using the Payment Handle.
    + `usage`:`SINGLE_USE` (enum) - This specifies how the Payment Handle will be used for Payments.
        _Read Only_
        + Members
            + SINGLE_USE - The Payment Handle can be used for one transaction only and expires if not used.
    + `paymentType`: (enum, required) - This is the payment type associated with this Payment Handle. If applicable, you need to pass the corresponding payment type object as listed after this parameter.
        + Members
            + CARD
            + PAYSAFECASH
            + PAYSAFECARD
            + SIGHTLINE
            + SKRILL
            + INSTANTACH
            + PAYPAL
            + ACH
            + EFT
            + VIPPREFERRED
            + INTERAC
    + Include Payment Instrument
    + `action`: (enum) - This specifies the next step of the user journey once they proceed to the Payment.
        + Members
            + NONE
            + REDIRECT
    + `executionMode`: (enum) - This specifies the action of the merchant server in order to complete the Payment.
        + Members
            + ASYNCHRONOUS - The Payment request is not completed immediately and the merchant [must rely on webhooks](#paymentswebhooks) to retrieve the status of the Payment request.
            + SYNCHRONOUS - The status of the Payment request will be returned synchronously to the merchant, for example, a credit card request.
    + `amount`:`1000` (string) - This is the amount of the request, in minor units. **Note:** This field is mandatory if *transactionType* is included. The *amount* specified in the Payment Handle request must match the *amount* specified in the Payments API request the *paymentHandleToken* is used for.
        _Max =99999999999_
    + `currencyCode`:`CAD` (string) - This is the [currency of the merchant account](#currencycodes), for example, USD or CAD. **Note:** This field is mandatory if *transactionType* is included. The *currencyCode* specified in the Payment Handle request must match the *currencyCode* specified in the Payments API request the *paymentHandleToken* is used for.
        _max=3_
    + `paymentHandleToken`:`842778a0-03a2-11e9-8eb2-f2801f1b9fd1` (string) - This is the payment token generated by Paysafe that will be used by merchants for Payment API requests.
        _Read Only, length<=36_
    + Include Profile
    + Include Billing Details
    + Include Splitpay
    + `returnLinks` (object) - The URL endpoints to redirect the customer to after a redirection to an alternative payment or 3D Secure site. You can customize the return URL based on the transaction status.
        + `rel` (enum) - This is the link type, allowing different endpoints to be targeted depending on the end state of the transaction. The link relation describes how this link relates to the previous call.
            + default (string, required) - The default return URL that will be used if specific status return URL is not defined.
            + on_completed (string) - Will be returned to this URL if the payment is completed.
            + on_failed (string) - Will be returned to this URL if the payment fails.
        + `href` - The actual URL
        + `method` - The HTTP method
    + `links` (object) - This is an array of links related to the resource.
        + `rel`:`redirect_payment` (enum)
        + `href`:`http://api.paysafe.com/card/redirect/372b5ee7-6360-4403-b444-164f8f1d2709`
        + `method`:`GET`
    + `customerIp`:`73.82.192.17` (string) - This is the customer's IP address.
        _length<=39_
    + `timeToLiveSeconds`:`899` (number) - This is the period of time, in seconds, the *paymentHandleToken* is valid before expiration.
        _Read Only, length<=899_


## `deviceInfoRequest`

+ threatMetrixSessionId: `a71a475b-1956-4814-9c92-7faa8226b218` (string) - The Threat Metrix Session Id.
            _length<=100_
+ threatMetrixData: (string) - The URL-encoded response as received from Threat Metrix

## `deviceInfoResponse`

+ threatMetrixSessionId: `a71a475b-1956-4814-9c92-7faa8226b218` (string) - The Threat Metrix Session Id.
            _length<=100_


## `walletRequest`

+ customerId: `423797719` (string) - The wallet id.
            _length<=50_
+ fee: `400` (number) - The fee to be applied on this transactions.
            _length<=50_
+ slipId: `123456` (string) - Wallet transaction id.
            _Read Only _length<=50_
+ verifiedInstrument: `false` (boolean) - It specifies if the instrument (card, sepa, fasterPayments etc) has been previously verfied.
The default value for this is false. If this is specified as false, Paysafe will verify the instrument and rejects the transaction, if the verification fails.
This is applicable only for STANDALONE_CREDIT.
+ deviceInfo: (deviceInfoRequest) - Device Info.
+ customerAccount: (phcustomerAccountRequest) - Customer Wallet Account.

## `phcustomerAccountRequest`
+ id: `def` (string) - The customer wallet account id. If this is not provided, a wallet account id is automatically created in the processing currency. If provided, and processing currency specified is different than the wallet account currency, then an error is returned.
                       In the case of Standalone Credits, this field is mandatory. If there is insufficient funds in the specified account, then an error is returned for Standalone Credit.
            _length<=50_

## `Sepa`

+ sepa (object) - These are the details of the [sepa](#sepaobject) used for the request.

    + Properties

        + nickName: `Sally's Barclays Account` (string) - This is an alias for this bank account.
            _Optional, length<=50_
        + accountHolderName: `XYZ Company` (string, required) - This is the name of the customer or company that owns the bank account.
            _length<=32_
        + bic: `ABNANL2APIP` (string) - This is the Bank Identifier Code for the consumer's bank account.
            _Optional, length=8-11_
        + iban: `DE89370400440532013000` (string, required) - This is the International Bank Account Number for the costumer's bank account.
            _length=8-34_

        + lastDigits:`11` (string) - These are the last two digits of the iban.
            _Read Only, length=2_



## `Payment Instrument`

+ One of

    + card (object) - These are the details of the [card](#cardobject) used for the request. Only one payment instrument object (for example, *card* or *paysafecash* or *sightline*) can be included in the request.

        + Properties

            + cardNum:`4111111111111111` (string, required) - This is the card number used for the request.
                _length=8-20_
            + cardExpiry (object) - This is the card's [expiry date](#cardexpiryobject).

                + month:12 (number) - This is the card expiry month.
                    _length=2_
                + year:2020 (number) - This is the card expiry year.
                    _length=4_
            + cvv:`123` (string) - This is the 3- or 4-digit security code that appears on the card following the card number.
                _Conditional, length=3-4_
            + holdername:`Jane Smith` (string) - This is the name of the card holder.
                _Read Only_
            + cardType (enum) - This is type of card used for the request.
                _Read Only_
                - AM – American Express
                - DI – Discover
                - JC – JCB
                - MC – Mastercard
                - MD – Maestro
                - SO – Solo
                - VI – Visa
                - VD – Visa Debit
                - VE – Visa Electron
            + lastDigits:`1111` (string) - These are the last four digits of the card used for the request.
                _Read Only, length=4_
            + nickName:`Jane's Card` (string) - This is the nickname the merchant has for the card holder.
                _Optional, length<=50_
            + cardBin:`411111` (string) - This is the card BIN (typically the first 6 digits).
                _Read Only, length=6_

    + rapidTranfer (object) - These are the details of the Rapid Transfer.

        + sepa (object) - These are the details of the [sepa](#sepaobject) used for the request.

            + Properties

                + nickName: `Sally's Barclays Account` (string) - This is an alias for this bank account.
            _Optional, length<=50_
                + accountHolderName: `XYZ Company` (string, required) - This is the name of the customer or company that owns the bank account.
            _length<=32_
                + bic: `ABNANL2APIP` (string) - This is the Bank Identifier Code for the consumer's bank account.
            _Optional, length=8-11_
                + iban: `DE89370400440532013000` (string, required) - This is the International Bank Account Number for the costumer's bank account.
            _length=8-34_

                + lastDigits:`11` (string) - These are the last two digits of the iban.
            _Read Only, length=2_

    + sepa (object) - These are the details of the [sepa](#sepaobject) used for the request.

        + Properties

            + nickName: `Sally's Barclays Account` (string) - This is an alias for this bank account.
            _Optional, length<=50_
            + accountHolderName: `XYZ Company` (string, required) - This is the name of the customer or company that owns the bank account.
            _length<=32_
            + bic: `ABNANL2APIP` (string) - This is the Bank Identifier Code for the consumer's bank account.
            _Optional, length=8-11_
            + iban: `DE89370400440532013000` (string, required) - This is the International Bank Account Number for the costumer's bank account.
            _length=8-34_
            + lastDigits:`11` (string) - These are the last two digits of the iban.
            _Read Only, length=2_

    + fasterPayments (object) - These are the details of the [fasterPayments](#fasterpaymentsobject) used for the request.

        + Properties

            + accountHolderName: `XYZ Company` (string, required) - This is the name of the customer or company that owns the bank account.
            _length<=140_
            + sortCode: `321654` (string, required) - This is the sortcode for the consumer's bank account.
            _Optional, length=6_
            + accountNumber: `98877219` (string, required) - This is the Bank Account Number for the costumer's bank account.
            _length=8-10_
            + lastDigits:`11` (string) - These are the last two digits of the account number.
            _Read Only, length=2_




## `Payment Instrument Customer`

+ One of

    + card (object, required) - These are the details of the [card](#cardobject) used for the request.

        + Properties

            + cardNum:`4111111111111111` (string, required) - This is the card number used for the request.
                _length=8-20_
            + cardExpiry (object) - This is the card's [expiry date](#cardexpiryobject).

                + month:12 (number) - This is the card expiry month.
                    _length=2_
                + year:2020 (number) - This is the card expiry year.
                    _length=4_
            + cvv:`123` (string) - This is the 3- or 4-digit security code that appears on the card following the card number.
                _Conditional, length=3-4_
            + lastDigits:`1111` (string) - These are the last four digits of the card used for the request.
                _Read Only, length=4_


## PaymentsRequest (object)

+ `id`:`3aeb9c63-6386-46a3-9f8e-f452e722228a` (string) - This is the ID returned in the response. This ID can be used for future associated requests, for example, looking up the Payment.
    _Read Only, length<=36_
+ `merchantRefNum`:`merchantRefNum-101` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
    _length<=255_
+ `amount`:`1000` (number, required) - This is the amount of the request, in minor units. **Note:** The *amount* specified in the Payment request must match the *amount* specified in the Payment Handle request from which the *paymentHandleToken* is taken.
    _max=99999999999_
+ `settleWithAuth`:`true` (boolean) - This indicates whether the request is an Authorization only (no Settlement) or a Purchase (Authorization and Settlement). Default: true
    _Optional_
+ `paymentHandleToken`:`842778a0-03a2-11e9-8eb2-f2801f1b9fd1` (string, required) - This is the payment token generated by Paysafe that will be used for the Payment request.
    _length<=36_
+ `availableToSettle`:`0` (number) - This is the amount of the Authorization remaining to settle, in minor units.
    _Read Only_
+ `customerIp`:`73.82.192.17` (string) - This is the customer's IP address.
    _length<=39_
+ `description`:`Consumer Purchase` (string) - This is a description of the transaction, provided by the merchant.
    _Optional, length<=255_
+ `txnTime`:`2018-12-11T16:33:49Z` (string) - This is the date and time the transaction was processed.
    _Read Only_
+ `paymentType`: `CARD`(enum) - This is the payment type associated with the Payment Handle used for this request.
    _Read Only_
    + Members
        + CARD
        + RAPID_TRANSFER
+ `status`: `HELD`(enum) - This is the status of the transaction request.
    _Read Only_
    + Members
        + RECEIVED - Our system has received the request and is waiting for the downstream processor’s response.
        + COMPLETED - The request was completed.
        + HELD - The request has been placed on hold due to risk considerations.
        + FAILED - The transaction failed, due to either an error or being declined.
        + CANCELLED - The request has been reversed.
        + PENDING - The transaction awaiting payment service provider's response.
+ `currencyCode`:`CAD` (string, required) - This is the [currency of the merchant account](#currencycodes), for example, USD or CAD. **Note:** The *currencyCode* specified in the Payment request must match the *currencyCode* specified in the Payment Handle request from which the *paymentHandleToken* is taken.
    _max=3_
+ Include walletPaymentRes
+ One of

    + card (object) - These are the details of the [card](#cardobject) used for the request. Only one payment instrument object (for example, *card* or *paysafecash* or *sightline*) can be included in the request.

        + Properties

            + cardExpiry (object) - This is the card's [expiry date](#cardexpiryobject).
                _Read Only_
                + month:12 (number) - This is the card expiry month.
                    _length=2_
                + year:2020 (number) - This is the card expiry year.
                    _length=4_
            + holdername:`Jane Smith` (string) - This is the name of the card holder.
                _Read Only_
            + cardType (enum) - This is type of card used for the request.
                _Read Only_
                - AM – American Express
                - DI – Discover
                - JC – JCB
                - MC – Mastercard
                - MD – Maestro
                - SO – Solo
                - VI – Visa
                - VD – Visa Debit
                - VE – Visa Electron
            + lastDigits:`1111` (string) - These are the last four digits of the card used for the request.
                _Read Only, length=4_
            + nickName:`Jane's Card` (string) - This is the nickname the merchant has for the card holder.
                _Read Only, length<=50_
            + cardBin:`411111` (string) - This is the card BIN (typically the first 6 digits).
                _Read Only, length=6_

    + rapidTranfer (object) - These are the details of the Rapid Transfer.

        + sepa (object) - These are the details of the [sepa](#sepaobject) used for the request.

            + Properties

                + nickName: `Sally's Barclays Account` (string) - This is an alias for this bank account.
            _Read Only, length<=50_
                + accountHolderName: `XYZ Company` (string) - This is the name of the customer or company that owns the bank account.
            _Read Only, length<=32_
                + bic: `ABNANL2APIP` (string) - This is the Bank Identifier Code for the consumer's bank account.
            _Read Only, length=8-11_
                + lastDigits:`11` (string) - These are the last two digits of the iban.
            _Read Only, length=2_
+ Include Gateway Response
+ `riskReasonCode`:`1001` (array) - An array of integers is returned, displaying the detailed risk reason codes when your transaction was declined. It is returned only when your account is configured accordingly.
+ Include Stored Credential
+ settlements (array) - This is the list of all Settlements. This will be returned only if *settleWithAuth* = *true* in the request.
+ Include Error Attributes
+ Include Metadata Object
+ `statusReason` - This is reason for the status. This is present in case of ERROR, FAILURE, HELD status.
    _length<=255_
+ Include Authentications Object

## Profile

+ `profile` (object)
    + `firstName`:`Jane` (string) - This is the customer's first name.
        _length<=80_
    + `lastname`:`Smyth` (string) - This is the customer's last name.
        _length<=80_
    + `locale`:`ca_en` (enum) - This indicates the customer's locale.
        + Members
            + en_US
            + fr_CA
            + en_GB
    + Include Date of Birth
    + `email`:`jane.smyth@email.com` (string) - This is the customer's email address.
        _length<=255_
    + `phone`:`12345678` (string) - This is the customer's phone number.
        _length<=40_
    + `mobile`:`4446666` (string) - This is the customer's mobile phone number.
        _length<=40_
    + `gender`: (enum) - This is the customer's gender.
        - F
        - M
    + `nationality`:`Indian` (string) - This is the customer's nationality.
        _length<=30_

## paymenthandles
+ Include Metadata Object
+ `paymenthandles`: (array) - An array of Payment Handles.

## payments
+ Include Metadata Object
+ `payments`: (array) - An array of Payments.


## Recipient (object)
+ `recipient` (object) - The recipient is the person or party who has a contractual relationship with the merchant/financial institution
    + `dateOfBirth` (object) - This is the date of birth of the recipient.
        + `day`:`24` (number) - This is the day of birth.
        + `month`:`12` (number) - This is the month of birth.
        + `year`:`1990` (number) - This is the year of birth.
    + `zip`:`EC4Y 0HQ` - This is the zip/postal code of the recipient.
        _length<=10_
    + `lastName` - This is the last name of the recipient.
        _length<=255_
    + `accountNumber` - This is the account number of the recipient.
        _length<=25_

## refundsArray
+ Include Metadata Object
+ `refunds`: (array) - An array of Refunds.


## Refunds
+ `id`:`25f6dadf-176a-415f-95c9-6ff39ff697ba` (string) - This is the ID returned in the response. You can use this ID for future associated requests.
    _Read Only, length<=36_
+ `merchantRefNum`:`P1234` (string) - This is the merchant reference number created by the merchant and submitted as part of the request.
    _Mandatory, length<=255_
+ `amount`:`100` (number) - This is the amount of the request, in minor units. If this value is not provided, the full remaining amount on the Settlement will be refunded.
    _Optional, max=99999999999_
+ `dupCheck`:`true` (boolean) - This validates that this request is not a duplicate. A duplicate request is when the *merchantRefNum* has already been used in a previous request within the past 90 days.
    _Optional_
    + Default: true
+ `childAccountNum`:`1234567898` (string) - This is the child merchant account number. It is returned only when the transaction is processed via a master account.
    _Optional, length<=10_
+ `txnTime`:`2018-12-11T16:33:49Z` (string) - This is the date and time the transaction was processed.
    _Read Only_
+ `status`:`PENDING` (enum) - This is the status of the transaction request.
    _Read Only_
    + Members
        + RECEIVED - Our system has received the request and is waiting for the downstream processor’s response.
        + INITIATED - The transaction was initiated with the downstream provider.
        + PENDING - The transaction awaiting payment service provider's response.
        + FAILED - The transaction failed, due to either an error or being declined.
        + CANCELLED - The request has been cancelled.
        + EXPIRED - The request expired.
        + COMPLETED - The request was completed.
+ Include Error Attributes
+ Include Splitpay
+ `riskReasonCode`:`1001` (array) - An array of integers is returned, displaying the detailed risk reason codes when your transaction was declined. It is returned only when your account is configured accordingly.
    _Read Only_
+ Include Gateway Response
+ Include Metadata Object

## `customerAccount`

+ customerAccount (object) - Customer wallet account.

    + Properties

        + id: `gfdd` (string) - The customer wallet account id.
            _Read Only, length<=50_
        + `transactions` : (array) - An array of transactions


## `transactions`

+ type: `GROSS_AMOUNT` (string) - The type of the posting.
            _Read Only, length<=50_
+ direction: `CREDIT` (string) - The direction of the amount. Valid options CREDIT, DEBIT.
            _Read Only, length<=50_
+ amount: `500` (number) - Amount posted to/from wallet account.

## `merchantAccount`

+ merchantAccount (object) - Merchant wallet account.

    + Properties

        + id: `gfdd` (string) - The merchant wallet account id.
            _Read Only, length<=50_
        + `transactions` : (array) - An array of transactions

## `wallet`

+ wallet (object) - wallet.

    + Properties

        + customerId: `abcd` (string) - The customer id.
            _Read Only, length<=50_
        + slipId: `123456` (string) - The transaction id at wallet side.
            _Read Only, length<=50_
        + fee: `400` (number) - The fee need to be applied on the transaction.
            _Read Only, length<=50_
        + verifiedInstrument: `false` (boolean) - It specifies if the instrument (card, sepa, fasterPayments etc) has been previously verfied.
The default value for this is false. If this is specified as false, Paysafe will verify the instrument and rejects the transaction, if the verification fails.
This is applicable only for STANDALONE_CREDIT.
        + deviceInfo: (deviceInfoResponse) - Device Info.
           _Read Only,
        + Include customerAccount
        + Include merchantAccount

## `walletPaymentRes`

+ wallet (object) - wallet.

    + Properties

        + customerId: `abcd` (string) - The customer id.
            _Read Only, length<=50_
        + slipId: `123456` (string) - The transaction id at wallet side.
            _Read Only, length<=50_
        + fee: `400` (number) - The fee need to be applied on the transaction.
            _Read Only, length<=50_
        + deviceInfo: (deviceInfoResponse) - Device Info.
           _Read Only,
        + Include customerAccount
        + Include merchantAccount




## settlementsArray
+ Include Metadata Object
+ `settlements`: (array) - An array of Settlements.

## Settlements
+ `id`: `25f6dadf-176a-415f-95c9-6ff39ff697ba` (string) - This is the ID returned in the response. You can use this ID for future associated requests.
    _Read Only, length<=36_
+ `merchantRefNum`: `P1234` (string) - This is the merchant reference number created by the merchant and submitted as part of the request.
    _Mandatory, length<=255_
+ `amount`: `100` (number) - This is the amount of the request, in minor units. If this value is not provided, the full remaining amount will be settled.
    _Optional, max=99999999999_
+ `dupCheck`: `true` (boolean) - This validates that this request is not a duplicate. A duplicate request is when the *merchantRefNum* has already been used in a previous request within the past 90 days.
    _Optional_
    + Default: true
+ `availableToRefund`:`25` (number) - This is the remaining amount of the refund, in minor units.
    _Read Only, max=99999999999_
+ `childAccountNum` : `1234567898` (string) - This is the child merchant account number. It is returned only when the transaction is processed via a master account.
    _Optional, length<=10_
+ `status`:`PENDING` (enum) - This is the status of the transaction request.
    _Read Only_
    + Members
       + RECEIVED - Our system has received the request and is waiting for the downstream processor's response.
        + INITIATED - The transaction was initiated with the downstream provider.
        + PENDING - The transaction is awaiting the payment service provider's response.
        + FAILED - The transaction failed due to an error or got declined.
        + CANCELLED - The authorization request is reversed.
        + EXPIRED - The request expired.
        + COMPLETED - The request was completed.
+ Include Error Attributes
+ Include Splitpay
+ `riskReasonCode`: `1001` (array) - An array of integers is returned, displaying the detailed risk reason codes when your transaction was declined. It is returned only when your account is configured accordingly.
+ Include Gateway Response
+ Include Metadata Object

## Splitpay
+ splitpay (array, optional) - For Splitpay transactions only, an array containing the linked accounts and the amount shared with each. You must include either *amount* or *percent*. However, you cannot include both values.
    + (object)
        + Properties
            + linkedAccount:`123124124` (string, required) - This is the ID of the linked account. This account must already be linked to the merchant account.
            + One of
                + amount:`505` (number) - This is the amount to transfer to the linked account in minor currency units.
                + percent:`5` (number) - This is the percentage of the total transaction amount to transfer to that account.

## standalonecredits

+ Include Metadata Object
+ `standalonecredits`: (array) - An array of Standalone Credits.

## statusAttributes (enum) - This is the status of the request.
+ RECEIVED - Our system has received the request and is waiting for the downstream processor’s response.
+ INITIATED - The transaction was initiated with the downstream provider.
+ PAYABLE - The merchant can proceed with the Payment request.
+ PROCESSING - The Payment Handle was authorized by the customer, awaiting the PSP response.
+ FAILED - The transaction failed due to an error or got declined.
+ CANCELLED - The authorization request is reversed.
+ EXPIRED - The Payment Handle expired as the merchant did not proceed with the Payment request.
+ COMPLETED - The Payment request was initiated successfully using the Payment Handle.

## `Stored Credential`
+ storedCredential (object) - You can use this object to identify authorization requests that use stored credentials for a consumer's authorization request, to improve authorization rates and reduce fraud. You can use Stored credentials in two cases: using a payment token from the Customer Vault for authorization, and using a card number stored by the merchant for an authorization.

    + Properties
        + type:`ADHOC` (enum) - This specifies the type of request being made.
            + ADHOC – Ad hoc consumer-initiated request.
            + TOPUP – Unscheduled merchant initiated request when a consumer balance is below a set limit.
            + RECURRING –  Scheduled merchant initiated recurring requests.

            + Default: ADHOC
        + occurrence:`RECURRING` (enum) - This specifies whether the stored credential request is initial or recurring.
            + INITIAL – Used when this is the first time the consumer uses this credit card.
            + SUBSEQUENT – Used when the consumer uses this credit card for subsequent requests.

            + Default: INITIAL

## VerificationResponse (object)
+ `id`:`25f6dadf-176a-415f-95c9-6ff39ff697ba` (string) - This is the ID returned in the response. You can use this ID for future associated requests.
    _Read Only, length<=36_
+ `paymentHandleToken`:`842778a0-03a2-11e9-8eb2-f2801f1b9fd1` (string, required) - This is the payment token generated by Paysafe that will be used for the verification request.
    _length<=36_
+ `merchantRefNum`:`P1234` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request.
    _length<=255_
+ `customerIp`:`73.82.192.17` (string) - This is the customer's IP address.
    _length<=39_
+ `dupCheck`:`true` (boolean) - This validates that this request is not a duplicate. A duplicate request is when the *merchantRefNum* has already been used in a previous request within the past 90 days.
    _Optional_
    + Default: true
+ `description`:`Consumer Card Verification` (string) - This is a description of the transaction provided by the merchant.
    _Optional, length<=255_
+ `txnTime`:`2018-12-11T16:33:49Z` (string) - This is the date and time the transaction was processed.
    _Read Only_
+ `paymentType`: `CARD` (enum) - This is the payment type associated with the Payment Handle used for this request.
    _Read Only_
    + Members
        + CARD
+ `status` (enum) - This is the status of the transaction request.
    _Read Only_
    + Members
        + RECEIVED - Our system has received the request and is waiting for the downstream processor's response.
        + INITIATED - The transaction was initiated with the downstream provider.
        + PENDING - The transaction is awaiting the payment service provider's response.
        + FAILED - The transaction failed due to an error or got declined.
        + CANCELLED - The authorization request is reversed.
        + EXPIRED - The request expired.
        + COMPLETED - The request was completed.
+ `currencyCode`:`CAD` (string) - This is the [currency of the merchant account](#currencycodes), for example, USD or CAD, returned in the request-response.
    _Read Only, max=3_
+ Include Gateway Response
+ Include Error Attributes
+ Include Metadata Object
+ `riskReasonCode`:`1001` (array) - An array of integers is returned, displaying the detailed risk reason codes when your transaction was declined. It is returned only when your account is configured accordingly.
    _Optional_

## verifications
+ Include Metadata Object
+ `verifications`: (array) - An array of Verifications.

## voidAuths
+ Include Metadata Object
+ `voidAuths`: (array) - An array of Void Authorizations.

## voidAuthResponse (object)
+ `id`:`25f6dadf-176a-415f-95c9-6ff39ff697ba` (string) This is the ID returned in the response. This ID can be used for future associated requests.
    _Read Only, length<=36_
+ `merchantRefNum`:`P1234` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request.
    _length<=255_
+ `amount`:`100` (number) - This is the amount of the request, in minor units. *Note*: This will be a required field for partial void auth.
    _max=99999999999_
+ `txnTime`:`2018-12-11T16:33:49Z` (string) - This is the date and time the transaction was processed.
    _Read Only_
+ `status` (enum) - This is the status of the transaction request.
    _Read Only_
    + Members
        + RECEIVED - Our system has received the request and is waiting for the downstream processor's response.
        + INITIATED - The transaction was initiated with the downstream provider.
        + PENDING - The transaction is awaiting the payment service provider's response.
        + FAILED - The transaction failed due to an error or got declined.
        + CANCELLED - The request is cancelled.
        + EXPIRED - The request expired.
        + COMPLETED - The request is completed.
+ Include Metadata Object



## WalletCreateRequest (object)
Wallet composite model

### Properties
+ `customer` (Customer, required)
+ `accounts` (array[AccountRequest], required)
+ `termsAndConditionsAccepted` (boolean, required)
+ `deviceInfo` (deviceInfoRequest, required)
+ `customerIp` (string, required)

## Customer (object)


### Properties
+ `id` (string, optional)
+ `firstName` (string, required)
+ `lastName` (string, required)
+ `title` (string, optional) - Personal title, Mr., Dr., etc.
+ `email` (string, optional) - Primary email address; At least one of **`email` or `mobile` is required** when creating a new wallet!
+ `mobile` (string, optional) - Mobile phone number; At least one of **`email` or `mobile` is required** when creating a new wallet!
+ `address1` (string, required)
+ `address2` (string, optional)
+ `city` (string, required)
+ `zip` (string, required)
+ `state` (string, optional)
+ `countryCode`: `GB` (string, required) - ISO-3166 Alpha 2 country code
+ `birthDate` (string, required)
+ `customerIp` (string, required)
+ `registrationIp` (string, optional) - IPv4 address from which the customer has registered.
+ `registrationDate` (string, required) - Date of registration at the Merchant system
+ `nationality`: `GB` (string, required) - ISO-3166 Alpha 2 country code
+ `externalId`: `d6f475fe-57c9-4865-9316-0c3b8e8128d4` (string, required) - Any external id, e.g. UUID or a numeric id
+ `kyc` (KYC, required)
+ `type` (enum[string], required) - Type of Customer
    + `PERSON`
    + `LEGAL_ENTITY`
+ `legalEntityName` (string, optional)
+ `legalEntityIdentifier` (string, optional)
+ `restrictions` (array[Restriction], optional)


## Restriction (object)

### Properties
+ `name` (enum[string], required)
    + LOGIN
    + ALL_TRANSACTIONS
    + OUTGOING_TRANSACTIONS
    + INCOMING_TRANSACTIONS
    + SEND_MONEY
    + CARD_DEPOSITS
    + DEPOSITS
    + OUTGOING_TRANSACTIONS_AND_CARD_DEPOSITS
    + BANK_WITHDRAWALS
+ `reason` (enum[string], required)
    + ACCOUNT_TAKEOVER_RECEIVER
    + ACCOUNT_TAKEOVER_VICTIM
    + AUP_VIOLATION
    + BLACKLIST
    + CHARGEBACK_RECEIVED
    + CLOSE_ACCOUNT
    + COLLECTIONS_CASE
    + COMPLIANCE
    + COMPLIANCE_LIMITS
    + CONFIRMED_FRAUD
    + CUSTOMER_REQUESTED_CLOSURE
    + CUSTOMER_REQUESTED_CLOSURE_GAMBLING_PROBLEM
    + DEBT_COLLECTION_AGENCY
    + DUPLICATE_ACCOUNT_MANUAL
    + DUPLICATE_ACCOUNT_SIGNUP
    + EDD_TRANSACTION_CHECK
    + EXTERNAL_NOTIFICATION
    + FRAUD_ACCOUNT_CLOSURE
    + INACTIVE_ACCOUNT
    + KYC
    + KYC_LIMITS
    + LIMITS_EXCEEDED
    + MERCHANT_REQUEST
    + MLRO_LOCK
    + NO_SERVICE_COUNTRY
    + PAID_TO_DEBT_COLLECTOR
    + PURCHASED_ID
    + REGULATORY_LOCK
    + REPORTED_FRAUD_ISSUER
    + REQUEST_CERTIFIED_DOCS
    + RETRIEVAL_REQUEST_RECEIVED
    + RISK_ENGINE
    + SCA
    + SUSPECTED_FRAUD
    + SUSPECTED_MONEY_LAUNDERING
    + T_C_ABUSE
    + TERMINATED
    + UNDER_18
    + UNDER_INVESTIGATION
    + WALLET_RECOVERY_PROCEDURE
    + OTHER
+ `requiredActions` (enum[string], required)
    + ADDRESS_REVERIFICATION
    + CONTACT_INVESTIGATIONS_TEAM
    + EXPLANATION_OF_ACTIVITY
    + KYC_DOCS_ONLY
    + KYC_VERIFICATION
    + MANUAL_REVIEW
    + PEP_DECLARATION
    + PEP_DECLARATION_OCCUPATION_SPOUSE
    + PEP_SANCTIONS_ALL_QUESTIONS
    + PEP_SANCTIONS_OCCUPATION_SPOUSE
    + SUBMIT_AD
    + SUBMIT_AD_BANK_STATEMENT
    + SUBMIT_AD_COUNCIL_BILL
    + SUBMIT_AD_COURT_DOCUMENT
    + SUBMIT_AD_CREDIT_CARD_STATEMENT
    + SUBMIT_AD_LEASE_TENANT_CONTRACT
    + SUBMIT_AD_OTHER
    + SUBMIT_AD_PENSION_DOCUMENT
    + SUBMIT_AD_SCHOOL_ENROLLMENT_LETTER
    + SUBMIT_AD_TAX_RETURN_FORM
    + SUBMIT_AD_UTILITY_BILL
    + SUBMIT_HOLDING_ID
    + SUBMIT_ID
    + SUBMIT_ID_DRIVER_LICENSE
    + SUBMIT_ID_FACE_VERIFICATION
    + SUBMIT_ID_IDENTITY_CARD
    + SUBMIT_ID_PASSPORT
    + SUBMIT_ID_RESIDENCE_PERMIT
    + WAITING_FOR_DOCUMENTS
    + OTHER
+ `lastChangeDate`: `2021-09-12T17:18:31Z` (string, required)


## Account (object)


### Properties
+ `id` (string, required)
+ `customerId` (string, required)
+ `currencyCode`: `EUR` (string, optional) - Currency alphabetic code as specified by ISO 4217
+ `totalBalance` (number, optional) - Amount in minor units
+ `availableBalance` (number, required) - Amount in minor units
+ `iban` (string, optional) - IBAN associated with this account.
+ `creationTime`: `2019-08-24T14:15:22Z` (string, optional)
+ `hasIban` (boolean, optional)

## AccountRequest (object)

### Properties
+ `currencyCode`: `EUR` (string, optional) - Currency alphabetic code as specified by ISO 4217
+ `hasIban` (boolean, optional)


## AccountList (object)
List of accounts.

### Properties
+ `accounts` (array[Account], optional)
+ `meta` (PagingResultMeta, optional)


## Transaction (object)


### Properties
+ `id`: `544232` (string, optional) - Transaction id
+ `slipId`: `121345` (string, optional) - Transaction Slip Id.
+ `customerId`: `1234` (string, optional) - Wallet customer id.
+ `accountId`: `212345` (string, optional) - Account Id associated with this transaction.
+ `type` (enum[string], optional)
    + `DEPOSIT`
    + `WITHDRAWAL`
    + `CHARGEBACK_REVERSAL`
    + `RETURNED_WITHDRAWAL`
    + `CHARGEBACK`
    + `MERCHANT_FEE`
    + `TRANSACTION_FEE`
    + `CANCELATION`
    + `TRANSFER_IN`
    + `TRANSFER_OUT`
+ `amount`: `1000` (number, optional) - Transaction amount in minor units.
+ `currencyCode`: `EUR` (string, optional) - Currency alphabetic code as specified by ISO 4217
+ `fee`: `100` (number, optional) - Transaction fee in minor units.
+ `creationTime`: `2021-07-15T17:54:12Z` (string, optional)
+ `direction` (enum[string], optional) - Transaction direction.
    + `CREDIT`
    + `DEBIT`
+ `paymentType` (enum[string], optional)

    Type of instrument. Used as discriminator for different Payment Insturment types.

      * CARD
      * BANK_TRANSFER
      * RAPID_TRANSFER

    + `CARD`
    + `BANK_TRANSFER`
    + `RAPID_TRANSFER`
    + `SOFORT`
    + `TRANSFER`
+ `description`: `Transaction description.` (string, optional) - Transaction description.
+ `status` (enum[string], optional)
    + `PENDING`
    + `PROCESSING`
    + `COMPLETED`
    + `FAILED`
    + `CANCELLED`
+ `statusReason` - For non-successful transactions, this field might contain the reason why
    + `INSUFFICIENT_FUNDS`
    + `RISK_ENGINE_DECLINE`
    + `CUSTOMER_RESTRICTED`
+ `merchantRefNum`: `abcd1234` (string, optional) - Merchant reference number associated witht the transaction.


## TransactionList (object)


### Properties
+ `transactions` (array[Transaction], optional)
+ `meta` (PagingResultMeta, optional)


## AuthorizationHold (object)


### Properties
+ `id` (string, optional)
+ `customerId` (string, required)
+ `accountId` (string, required)
+ `amount` (number, required)
+ `currencyCode`: `EUR` (string, required) - Currency alphabetic code as specified by ISO 4217
+ `createdOn`: `2021-07-15T17:54:12Z` (string, optional)
+ `status` (enum[string], optional)
    + `ACTIVE`
    + `EXPIRED`
    + `USED`
    + `RELEASED`
+ `deviceInfoRequest` (deviceInfoRequest, required)
+ `customerIp` (string, required)

## AuthorizationHoldList (object)


### Properties
+ `authorizationHolds` (array[AuthorizationHold], optional)
+ `meta` (PagingResultMeta, optional)


## Link (object)


### Properties
+ `rel`: `urn:x-skrill:payment-redirect` (string, required)
+ `href` (string, required)
+ `method` (enum[string], optional)
    + `GET`
    + `POST`


## Error Details (object)
Additional details about an error

### Properties
+ `code` (string, optional) - The error code.
+ `message` (string, optional) - A description of the error.
+ `details` (array[string], optional) - Details of any parameter value errors.
+ `fieldErrors` (FieldError, optional) - Represents Field validation Error.


## FieldError (object)
Represents Field validation Error.

### Properties
+ `field` (string, optional) - Identifies the JSON request field.
+ `error` (string, optional) - The problem associated with the field.


## PagingResultMeta (object)


### Properties
+ `numberOfRecords` (number, optional)
+ `limit` (number, optional)
+ `page` (number, optional)


## Transfer (object)
Model for facilitation of internal Wallet transfer of funds.

### Properties
+ `slipId` (string, optional) - Transfer slip id.
+ `amount`: `1000` (number, required) - Transaction amount in minor units.
+ `fee`: `100` (number, optional) - Transaction fee in minor units.
+ `currencyCode`: `EUR` (string, required) - Currency alphabetic code as specified by ISO 4217
+ `authorizationHoldId`: `50ecdb78-f2ab-4c2f-8696-ca7aedd7f8fe` (string, optional)
+ `sender` (AccountSlip, optional) - Account specific view of the slip.
+ `recipient` (AccountSlip, optional) - Account specific view of the slip.
+ `merchant` (AccountSlip, optional) - Account specific view of the slip.
+ `description`: `Transfer description.` (string, optional) - Transfer description.
+ `merchantRefNum`: `abcd1234` (string, optional) - Merchant reference number associated witht the transaction.
+ `status` (enum[string], optional)
    + `PENDING`
    + `PROCESSING`
    + `COMPLETED`
    + `FAILED`
    + `CANCELLED`
+ `deviceInfo` (deviceInfoRequest, required) - Provides information about the device that the end-customer uses to access the service.
+ `customerIp` (string, required)


## PaymentInstrument (object)
Represents Payment Instrument, used for Deposit or Withdrawal.
There are two types of instruments:

* BankAccountPaymentInstrument

* CardPaymentInstrument

### Properties
+ `instrumentType` (string, optional)


## Bank Account Payment Instrument (PaymentInstrument)
Bank Account Payment Instrument

### Properties
+ `bankName` (string, optional) - Bank Name (Read Only).
+ `accountHolderName` (string, optional) - This is the name of the customer or company that owns the bank account.
+ `iban` (string, optional) - The International Bank Account Number (IBAN) of the account.
+ `bic` (string, optional) - The Bank Acccount Bank Identifier Code (BIC) code. Also known as SWIFT code.
+ `countryCode`: `GB` (string, optional) - ISO-3166 Alpha 2 country code


## Card Payment Instrument (PaymentInstrument)
Card Payment Instrument.

### Properties
+ `pan` (string, required) - Card Number
+ `brand` (string, optional) - Card Brand (Read Only)
+ `cardHolderName` (string, optional) - Card holder name.
+ `expiryDate` (string, optional) - Expiry Date in "MM/YYYY" format.
+ `cardType` (string, optional) - Card type (Read Only).
+ `issuingCountry`: `GB` (string, optional) - ISO-3166 Alpha 2 country code
+ `bankName` (string, optional) - Bank Name (Read Only).
+ `cardCurrency`: `EUR` (string, optional) - Currency alphabetic code as specified by ISO 4217
+ `cvv` (string, optional) - Card CVV (Do not store)


## Deposit Request Object (object)
Structure for initiating Depost process.

### Properties
+ `customerId` (string, required) - Customer ID
+ `amount` (number, required)
+ `currencyCode`: `EUR` (string, required) - Currency alphabetic code as specified by ISO 4217
+ `fee` (number, optional)
+ `paymentOption` (enum[string], required) - Enumeration of supported Payment Option Types
    + `RAPID_TRANSFER`
    + `SOFORT`
    + `GIROPAY`
    + `BANKWIRE`
    + `CARD`
+ `paymentInstrument` (PaymentInstrument, required)

    Represents Payment Instrument, used for Deposit or Withdrawal.
    There are two types of instruments:

    * BankAccountPaymentInstrument

    * CardPaymentInstrument

+ `merchantRefNum` (string, optional) - External Reference ID, that allows to correlate to external operation.
+ `internalReferenceId` (string, optional) - Internal Paysafe Reference Id required for tracking operation across systems. Must be unique identifier.
+ `successURL` (string, optional)
+ `failURL` (string, optional)
+ `deviceInfo` (deviceInfoRequest, optional) - Provides information about the device that the end-customer uses to access the service.


## Deposit Object (object)
Deposit Response object.

### Properties
+ `id` (string, optional) - The Digital Wallet slip id.
+ `customerId` (string, optional) - Customer id.
+ `accountId` (string, optional) - The account money gets deposited in. It deduced based on the currency.
+ `amount` (number, required) - Amount in minor currency units.
+ `currencyCode`: `EUR` (string, required) - Currency alphabetic code as specified by ISO 4217
+ `fee`: `0` (number, optional) - Merchant fee to apply to deposit in minor currency units.
+ `paymentOption` (enum[string], optional) - Enumeration of supported Payment Option Types
    + `RAPID_TRANSFER`
    + `SOFORT`
    + `GIROPAY`
    + `BANKWIRE`
    + `CARD`
+ `paymentInstrument` (PaymentInstrument, optional)

    Represents Payment Instrument, used for Deposit or Withdrawal.
    There are two types of instruments:

    * BankAccountPaymentInstrument

    * CardPaymentInstrument

+ `merchantRefNum` (string, optional) - Merchant Reference Id. Passed from Single API.
+ `internalReferenceId` (string, required)
+ `externalTransactionId` (string, optional) - External transaction id. Will be set only for Cards and will contain Netbanx transaction id.
+ `gatewayReconId` (string, optional) - Gateway reconciliation id. Will be set only for Cards and will contain Netbanx reconciliation id.
+ `redirection` (Link, optional)
+ `status` (enum[string], required)
    + `PENDING`
    + `PROCESSING`
    + `COMPLETED`
    + `FAILED`
    + `CANCELLED`
+ `customerSlip` (AccountSlip, optional) - Account specific view of the slip.
+ `merchantSlip` (AccountSlip, optional) - Account specific view of the slip.


## WithdrawalRequest (object)
Request for Wallet withdrawal. The only supported options are CARD and BANKWIRE.

### Properties
+ `customerId` (string, required) - Customer ID
+ `accountId` (string, required) - Account Id from where the money are withdrawn.
+ `amount` (number, required)
+ `currencyCode`: `EUR` (string, optional) - Currency alphabetic code as specified by ISO 4217
+ `fee` (number, optional)
+ `paymentOption` (enum[string], required) - Enumeration of supported Payment Option Types
    + `RAPID_TRANSFER`
    + `SOFORT`
    + `GIROPAY`
    + `BANKWIRE`
    + `CARD`
+ `paymentInstrument` (PaymentInstrument, required)

    Represents Payment Instrument, used for Deposit or Withdrawal.
    There are two types of instruments:

    * BankAccountPaymentInstrument

    * CardPaymentInstrument

+ `internalReferenceId` (string, optional) - Internal Paysafe Reference Id required for tracking operation across systems. Must be unique identifier.
+ `merchantRefNum` (string, optional) - External Reference ID, that allows to correlate to external operation.
+ `deviceInfo` (deviceInfoRequest, optional) - Provides information about the device that the end-customer uses to access the service.


## Withdrawal (object)
Withdrawal object.

Will return PENDING for CARD and PROCESSING for bankwire withdrawal.

### Properties
+ `id` (string, optional) - The Digital Wallet slip id.
+ `accountId` (string, optional)
+ `customerId` (string, optional)
+ `merchantRefNum` (string, optional) - Reference Id
+ `internalReferenceId` (string, required)
+ `externalTransactionId` (string, optional)
+ `status` (enum[string], required)
    + `PENDING`
    + `PROCESSING`
    + `COMPLETED`
    + `FAILED`
    + `CANCELLED`
+ `paymentOption` (enum[string], optional) - Enumeration of supported Payment Option Types
    + `RAPID_TRANSFER`
    + `SOFORT`
    + `GIROPAY`
    + `BANKWIRE`
    + `CARD`
+ `paymentInstrument` (PaymentInstrument, optional)

    Represents Payment Instrument, used for Deposit or Withdrawal.
    There are two types of instruments:

    * BankAccountPaymentInstrument

    * CardPaymentInstrument

+ `customerSlip` (AccountSlip, optional) - Account specific view of the slip.
+ `merchantSlip` (AccountSlip, optional) - Account specific view of the slip.


## KYC (object)


### Properties
+ `status` (enum[string], required) - KYC Status enumeration
    + `COMPLETED`
    + `IN_PROGRESS`
    + `NOT_COMPLETED`
+ `idVerification` (KycVerificationItem, optional)
+ `addressVerification` (KycVerificationItem, optional)
+ `faceMatch` (KycVerificationItem, optional)
+ `EDD` (KycVerificationItem, optional)
+ `pep` (KycScreenItem, optional)
+ `sanctions` (KycScreenItem, optional)
+ `addressVerificationDocumentsReceived` (array, optional)
    + (enum[string])
        + Members
            + `BANK_STATEMENT`
            + `CREDIT_CARD_STATEMENT`
            + `UTILITY_BILL`
            + `CREDIT_CARD`
            + `PHONE_BILL`
            + `TAX_RETURN`
            + `COUNCIL_BILL`
            + `SCHOOL_ENROLLMENT_LETTER`
            + `COURT_DOCUMENT`
            + `PENSION_DOCUMENT`
            + `LEASE_TENANT_CONTRACT`
            + `OTHER_AV_DOCUMENT`
            + `CUSTOM_AV_DOCUMENT`


## KycVerificationItem (object)

### Properties
+ `status` (enum[string], optional)
    + `COMPLETED`
    + `NOT_COMPLETED`
+ `date`: `2021-07-19T13:23:41Z` (string, optional)
+ `documentUrls` (array[string], optional)

## KycScreenItem (object)

### Properties

+ `status` (enum[string], required)
    + `NOT_SCREENED`
    + `MATCH`
    + `NO_MATCH`
    + `RESOLVED`
    + `DISMISSED`
+ `lastScreenDate`: `2021-07-19T13:23:41Z` (string, optional)
+ `reason` (string, optional)

## AccountSlip (object)
Account specific view of the slip.

### Properties
+ `accountId`: `5014567344` (string, optional)
+ `customerId`: `500014306996` (string, optional)
+ `transactions` (array[Transaction], optional)


## CustomerRestrictionWebhook (object)

### Properties

+ `id` (string, required) - id of the change event
+ `timestamp`: `2021-07-15T17:54:12Z` - ISO timestamp
+ `customer` (CustomerPartRestrictions)


## CustomerPartRestrictions (object)

### Properties

+ `id` (string, required) - customer id
+ `restrictions` (array[Restriction], optional)


## TransactionUpdateWebhook (object)

### Properties

+ `id` (string, required) - id of the change event
+ `timestamp`: `2021-07-15T17:54:12Z` - ISO timestamp
+ `transaction` (TransactionPartWebhook, required)


## TransactionPartWebhook (object)

### Properties
+ `id`: `544232` (string, optional) - Transaction id
+ `slipId`: `121345` (string, optional) - Transaction Slip Id.
+ `customerId`: `1234` (string, optional) - Wallet customer id.
+ `accountId`: `212345` (string, optional) - Account Id associated with this transaction.
+ `type` (enum[string], optional)
    + `DEPOSIT`
    + `WITHDRAWAL`
    + `CHARGEBACK_REVERSAL`
    + `RETURNED_WITHDRAWAL`
    + `CHARGEBACK`
    + `MERCHANT_FEE`
    + `TRANSACTION_FEE`
    + `CANCELATION`
    + `TRANSFER_IN`
    + `TRANSFER_OUT`
+ `amount`: `1000` (number, optional) - Transaction amount in minor units.
+ `currencyCode`: `EUR` (string, optional) - Currency alphabetic code as specified by ISO 4217
+ `creationTime`: `2021-07-15T17:54:12Z` (string, optional)
+ `direction` (enum[string], optional) - Transaction direction.
    + `CREDIT`
    + `DEBIT`
+ `paymentType` (enum[string], optional)

    Type of instrument. Used as discriminator for different Payment Insturment types.

      * CARD
      * BANK_TRANSFER
      * RAPID_TRANSFER

    + `CARD`
    + `BANK_TRANSFER`
    + `RAPID_TRANSFER`
    + `SOFORT`
    + `TRANSFER`
+ `instrumentId` (string, required)
+ `description`: `Transaction description.` (string, optional) - Transaction description.
+ `status` (enum[string], optional)
    + `PENDING`
    + `PROCESSING`
    + `COMPLETED`
    + `FAILED`
    + `CANCELLED`
+ `statusReason` - For non-successful transactions, this field might contain the reason
    + `INSUFFICIENT_FUNDS`
    + `RISK_ENGINE_DECLINE`
    + `CUSTOMER_RESTRICTED`
+ `merchantRefNum`: `abcd1234` (string, optional) - Merchant reference number associated witht the transaction.


## WalletPaymentInstrument

### Properties

+ `instrumentType`: (enum[string], required)
    + CARD
    + BANK_ACCOUNT
+ Include WalletPaymentInstrumentBankAccount
+ Include WalletPaymentInstrumentCard


## WalletPaymentInstrumentBankAccount

### Properties

+ `bankName`
+ `accountHolderName`
+ `iban`
+ `bic`
+ `sortCode`
+ `accountNumber`
+ `countryCode`


## WalletPaymentInstrumentCard

### Properties

+ `pan` (string)
+ `cardHolderName` (string)
+ `expiryDate`: `2023-08-31` (string)


## AccountUpdateWebhook

### Properties

+ `id` (string, required) - id of the change event
+ `timestamp`: `2021-07-15T17:54:12Z` - ISO timestamp
+ `operationType` (enum[string], required)
    + `IBAN_ASSIGNED`
+ `account` (TransactionPartWebhook, required)


## AccountUpdateWebhookAccountPart

### Properties
+ `id` (string, required)
+ `customerId` (string, required)