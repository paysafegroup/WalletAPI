<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="938.25px" preserveAspectRatio="none" style="width:1227px;height:938px;background:#FFFFFF;" version="1.1" viewBox="0 0 1227 938" width="1227px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="929.7773" rx="3" ry="3" style="stroke:#868E96;stroke-width:0.75;" width="573" x="433.875" y="4.5"/><text fill="#343A40" font-family="Verdana" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="39.75" x="700.5" y="17.2983">Paysafe</text><rect fill="#FFFFFF" height="539.369" style="stroke:#FBC9D6;stroke-width:0.75;" width="7.5" x="509.625" y="250.1609"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="73.5" x2="73.5" y1="60.1835" y2="116.6744"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="73.5" x2="73.5" y1="116.6744" y2="145.1744"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="73.5" x2="73.5" y1="145.1744" y2="178.6699"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="73.5" x2="73.5" y1="178.6699" y2="207.1699"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="73.5" x2="73.5" y1="207.1699" y2="897.7819"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="247.5" x2="247.5" y1="60.1835" y2="116.6744"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="247.5" x2="247.5" y1="116.6744" y2="145.1744"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="247.5" x2="247.5" y1="145.1744" y2="178.6699"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="247.5" x2="247.5" y1="178.6699" y2="207.1699"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="247.5" x2="247.5" y1="207.1699" y2="897.7819"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="513.375" x2="513.375" y1="60.1835" y2="116.6744"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="513.375" x2="513.375" y1="116.6744" y2="145.1744"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="513.375" x2="513.375" y1="145.1744" y2="178.6699"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="513.375" x2="513.375" y1="178.6699" y2="207.1699"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="513.375" x2="513.375" y1="207.1699" y2="897.7819"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="724.875" x2="724.875" y1="60.1835" y2="116.6744"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="724.875" x2="724.875" y1="116.6744" y2="145.1744"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="724.875" x2="724.875" y1="145.1744" y2="178.6699"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="724.875" x2="724.875" y1="178.6699" y2="207.1699"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="724.875" x2="724.875" y1="207.1699" y2="897.7819"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="913.875" x2="913.875" y1="60.1835" y2="116.6744"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="913.875" x2="913.875" y1="116.6744" y2="145.1744"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="913.875" x2="913.875" y1="145.1744" y2="178.6699"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="913.875" x2="913.875" y1="178.6699" y2="207.1699"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="913.875" x2="913.875" y1="207.1699" y2="897.7819"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="1129.875" x2="1129.875" y1="60.1835" y2="116.6744"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="1129.875" x2="1129.875" y1="116.6744" y2="145.1744"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="1129.875" x2="1129.875" y1="145.1744" y2="178.6699"/><line style="stroke:#FBC9D6;stroke-width:0.75;stroke-dasharray:1.0,4.0;" x1="1129.875" x2="1129.875" y1="178.6699" y2="207.1699"/><line style="stroke:#FBC9D6;stroke-width:0.75;" x1="1129.875" x2="1129.875" y1="207.1699" y2="897.7819"/><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="80.25" x="33.75" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="62.25" x="42.75" y="47.7565">Customer</text><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="80.25" x="33.75" y="897.0319"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="62.25" x="42.75" y="918.8503">Customer</text><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="77.25" x="209.25" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="59.25" x="218.25" y="47.7565">Merchant</text><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="77.25" x="209.25" y="897.0319"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="59.25" x="218.25" y="918.8503">Merchant</text><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="93" x="466.875" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="75" x="475.875" y="47.7565">Paysafe API</text><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="93" x="466.875" y="897.0319"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="75" x="475.875" y="918.8503">Paysafe API</text><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="663.375" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="672.375" y="47.7565">Customer wallet</text><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="663.375" y="897.0319"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="672.375" y="918.8503">Customer wallet</text><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="120" x="853.875" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="102" x="862.875" y="47.7565">Merchant wallet</text><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="120" x="853.875" y="897.0319"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="102" x="862.875" y="918.8503">Merchant wallet</text><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="117" x="1071.375" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="99" x="1080.375" y="47.7565">Customer Bank</text><rect fill="#282828" height="33.4955" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="117" x="1071.375" y="897.0319"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="99" x="1080.375" y="918.8503">Customer Bank</text><rect fill="#FFFFFF" height="539.369" style="stroke:#FBC9D6;stroke-width:0.75;" width="7.5" x="509.625" y="250.1609"/><polygon fill="#282828" points="82.125,107.6744,74.625,110.6744,82.125,113.6744,79.125,110.6744" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;" x1="77.625" x2="247.125" y1="110.6744" y2="110.6744"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="90.375" y="94.9997">1</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="123" x="109.875" y="87.252">Present customer's</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="129" x="109.875" y="102.7474">unique Virtual IBAN</text><polygon fill="#282828" points="1120.875,169.6699,1128.375,172.6699,1120.875,175.6699,1123.875,172.6699" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;" x1="73.875" x2="1125.375" y1="172.6699" y2="172.6699"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="82.875" y="164.7429">2</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="237.75" x="102.375" y="164.7429">Bank transfer to unique Virtual IBAN</text><polygon fill="#282828" points="525.375,247.1609,517.875,250.1609,525.375,253.1609,522.375,250.1609" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;" x1="520.875" x2="1129.125" y1="250.1609" y2="250.1609"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="533.625" y="234.4861">3</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="73.5" x="553.125" y="226.7384">Notification</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="94.5" x="553.125" y="242.2339">funds received</text><polygon fill="#FF0000" points="715.875,296.1519,723.375,299.1519,715.875,302.1519,718.875,299.1519" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="517.125" x2="720.375" y1="299.1519" y2="299.1519"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="526.125" y="283.4771">4</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="160.5" x="545.625" y="275.7294">Credit deposited amount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="120" x="545.625" y="291.2249">to customer wallet</text><polygon fill="#FF0000" points="525.375,360.6383,517.875,363.6383,525.375,366.6383,522.375,363.6383" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="520.875" x2="724.125" y1="363.6383" y2="363.6383"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="533.625" y="340.2158">5</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="135" x="553.125" y="324.7203">Debit merchant's fee</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="162.75" x="553.125" y="340.2158">from the customer wallet</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="152.25" x="553.125" y="355.7113">(if fee is specified; flat)</text><polygon fill="#FF0000" points="904.875,409.6293,912.375,412.6293,904.875,415.6293,907.875,412.6293" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="517.125" x2="909.375" y1="412.6293" y2="412.6293"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="526.125" y="396.9545">6</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="139.5" x="545.625" y="389.2068">Credit merchant's fee</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="156.75" x="545.625" y="404.7023">into the Merchant wallet</text><polygon fill="#FF0000" points="525.375,458.6202,517.875,461.6202,525.375,464.6202,522.375,461.6202" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="520.875" x2="913.125" y1="461.6202" y2="461.6202"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="533.625" y="445.9455">7</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="90" x="553.125" y="438.1978">(if applicable)</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="295.5" x="553.125" y="453.6932">Debit Paysafe's fees from the Merchant wallet</text><polygon fill="#282828" points="256.125,786.5299,248.625,789.5299,256.125,792.5299,253.125,789.5299" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;stroke-dasharray:2.0,2.0;" x1="251.625" x2="512.625" y1="789.5299" y2="789.5299"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="264.375" y="634.3958">8</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="168.75" x="283.875" y="487.1887">WebHook: Funds received</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="12" x="319.875" y="502.6842">id</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="127.5" x="319.875" y="518.1797">status: COMPLETED</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="44.25" x="319.875" y="533.6752">wallet:</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="111.75" x="337.875" y="549.1707">customerAccount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="96.75" x="355.875" y="564.6661">transactions[]:</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="12" x="373.875" y="580.1616">id</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="39.75" x="373.875" y="595.6571">status</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="28.5" x="373.875" y="611.1526">type</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="56.25" x="373.875" y="626.6481">direction</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="49.5" x="373.875" y="642.1436">amount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="19.5" x="373.875" y="657.639">fee</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="113.25" x="337.875" y="673.1345">merchantAccount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="96.75" x="355.875" y="688.63">transactions[]:</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="12" x="373.875" y="704.1255">id</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="39.75" x="373.875" y="719.621">status</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="28.5" x="373.875" y="735.1165">type</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="56.25" x="373.875" y="750.6119">direction</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="49.5" x="373.875" y="766.1074">amount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="19.5" x="373.875" y="781.6029">fee</text><rect fill="#FFFFFF" height="2.25" style="stroke:#FFFFFF;stroke-width:0.75;" width="1222.125" x="0" y="814.4989"/><line style="stroke:#868E96;stroke-width:0.75;" x1="0" x2="1222.125" y1="814.4989" y2="814.4989"/><line style="stroke:#868E96;stroke-width:0.75;" x1="0" x2="1222.125" y1="816.7489" y2="816.7489"/><rect fill="#FFFFFF" height="24.438" style="stroke:#868E96;stroke-width:1.5;" width="47.25" x="587.4375" y="803.0299"/><text fill="#343A40" font-family="Verdana" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="26.25" x="595.6875" y="818.8282">T + 1</text><polygon fill="#282828" points="256.125,878.1204,248.625,881.1204,256.125,884.1204,253.125,881.1204" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;" x1="251.625" x2="512.625" y1="881.1204" y2="881.1204"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="264.375" y="865.4456">9</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="132.75" x="283.875" y="857.6979">Reconciliation report</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="220.5" x="283.875" y="873.1934">transport protocol to be discussed</text><path d="M516.75,841.7179 L516.75,882.9679 A3,3 0 0 0 519.75,885.9679 L698.25,885.9679 A3,3 0 0 0 701.25,882.9679 L701.25,846.2179 L693.75,838.7179 L519.75,838.7179 A3,3 0 0 0 516.75,841.7179 " fill="#FFFFFF" style="stroke:#033C73;stroke-width:0.75;"/><path d="M693.75,838.7179 L693.75,844.7179 A1.5,1.5 0 0 0 695.25,846.2179 L701.25,846.2179 L693.75,838.7179 " fill="#FFFFFF" style="stroke:#033C73;stroke-width:0.75;"/><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="119.25" x="525" y="855.2662">Inlcudes transactions from</text><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="117.75" x="525" y="866.2042">Merchant merchant wallet</text><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="161.25" x="525" y="877.1422">and all customer wallet transactions</text><!--MD5=[f478f44fb62437b951a892e287966d5a]
@startuml "2-Deposit-bank-transfer"
    !theme cerulean-outline

    skinparam dpi 72
    skinparam shadowing false
    skinparam backgroundColor #FFFFFF
    skinparam Sequence {
        ParticipantBorderColor #282828
        ParticipantBackgroundColor #282828
        ParticipantFontSize 17
        ParticipantFontColor #FFFFFF
        ArrowColor #282828
        ArrowFontSize 17
        LifeLineBorderColor #FBC9D6
    }

    participant Customer
    participant Merchant
    box "Paysafe"
        participant "Paysafe API" as PaysafeAPI
        participant "Customer wallet" as CW
        participant "Merchant wallet" as MW
    end box
    participant "Customer Bank" as CustomerBank

    autonumber

    Merchant -> Customer: Present customer's \nunique Virtual IBAN
    ...
    Customer -> CustomerBank: Bank transfer to unique Virtual IBAN
    ...
    CustomerBank -> PaysafeAPI: Notification\nfunds received
    activate PaysafeAPI
        PaysafeAPI [#FF0000]-> CW: Credit deposited amount\nto customer wallet
        PaysafeAPI <-[#FF0000] CW: Debit merchant's fee\nfrom the customer wallet\n(if fee is specified; flat)
        PaysafeAPI [#FF0000]-> MW: Credit merchant's fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] MW: (if applicable)\nDebit Paysafe's fees from the Merchant wallet

        Merchant <- - PaysafeAPI: WebHook: Funds received\n        id\n        status: COMPLETED\n        wallet:\n            customerAccount\n                transactions[]:\n                    id\n                    status\n                    type\n                    direction\n                    amount\n                    fee\n            merchantAccount\n                transactions[]:\n                    id\n                    status\n                    type\n                    direction\n                    amount\n                    fee

    deactivate PaysafeAPI

	== T + 1 ==

 	PaysafeAPI -> Merchant: Reconciliation report\ntransport protocol to be discussed
    note right: Inlcudes transactions from\nMerchant merchant wallet \nand all customer wallet transactions
@enduml

@startuml "2-Deposit-bank-transfer"



skinparam backgroundColor transparent
skinparam useBetaStyle false







skinparam defaultFontName       "Verdana"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             false
skinparam roundcorner           8
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               5
skinparam ArrowColor            #868E96
skinparam stereotype {
    CBackgroundColor #EDF0F2
    CBorderColor #BABDBF
    ABackgroundColor #8FB961
    ABorderColor $SUCCESS_DARK
    IBackgroundColor #D2494E
    IBorderColor $DANGER_DARK
    EBackgroundColor #E47833
    EBorderColor $WARNING_DARK
    NBackgroundColor #35638F
    NBorderColor $INFO_DARK
}
skinparam title {
	FontColor	                 #2FA4E7
	BorderColor	                 #BABDBF
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              transparent
}

skinparam legend {
	BackgroundColor transparent
	BorderColor #BABDBF
	FontColor #343A40
}

skinparam swimlane {
	BorderColor #033C73
	BorderThickness 2
	TitleBackgroundColor  #EDF0F2-#E9ECEF
	TitleFontColor #2FA4E7
}


skinparam activity {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BarColor #73A839
	StartColor #033C73
	EndColor #033C73
	DiamondBackgroundColor transparent
  	DiamondBorderColor #BABDBF
	DiamondFontColor #BABDBF
}


skinparam participant {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam arrow {
	Thickness 3
	Color #2FA4E7
	FontColor #343A40
}


skinparam sequence {
	BorderColor #2FA4E7
	TitleFontColor #2FA4E7
	BackgroundColor transparent
	StartColor #2FA4E7
	EndColor #2FA4E7
	BoxBackgroundColor transparent
	BoxBorderColor #868E96
	BoxFontColor #343A40
	DelayFontColor #343A40
	LifeLineBorderColor #BABDBF
	LifeLineBorderThickness 2
	LifeLineBackgroundColor transparent
	GroupBorderColor #868E96
	GroupFontColor #343A40
	GroupHeaderFontColor #033C73
	DividerBackgroundColor transparent
    DividerBorderColor #868E96
    DividerBorderThickness 2
    DividerFontColor #343A40
	ReferenceBackgroundColor transparent
	ReferenceBorderColor #868E96
	ReferenceFontColor #343A40
	ReferenceHeaderFontColor #033C73
	StereotypeFontColor #2FA4E7
}


skinparam partition {
	BorderColor #2FA4E7
	FontColor #2FA4E7
	BackgroundColor transparent
}


skinparam collections {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam control {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam entity {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam boundary {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam agent {
	BackgroundColor transparent
	BorderColor #999999
	FontColor #333333
}


skinparam note {
	BorderThickness 1
	BackgroundColor transparent
	BorderColor #033C73
	FontColor #033C73
}


skinparam artifact {
	BackgroundColor transparent
	BorderColor #868E96
	FontColor #868E96
}


skinparam component {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam interface {
	BackgroundColor  transparent
	BorderColor  #C71C22
	FontColor #343A40
}


skinparam storage {
	BackgroundColor transparent
  	BorderColor #DD5600
	FontColor #DD5600
}


skinparam node {
	BackgroundColor transparent
	BorderColor #343A40
	FontColor #343A40
}


skinparam cloud {
	BackgroundColor #F2FCFE-#eeeeee
	BorderColor #F2FCFE
	FontColor #343A40
}


skinparam database {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam class {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	FontColor #F8F9FA
	HeaderBackgroundColor #2FA4E7-#2683B9
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #343A40
	AttributeFontSize 11
}


skinparam object {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam rectangle {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam package {
	BackgroundColor transparent
  	BorderColor #2FA4E7
	FontColor #2FA4E7
	BorderThickness 2
}


skinparam folder {
	BackgroundColor transparent
  	BorderColor #DD5600
	FontColor #DD5600
	BorderThickness 2
}


skinparam frame {
	BackgroundColor transparent
  	BorderColor #033C73
	FontColor #033C73
	BorderThickness 2
}


skinparam state {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	StartColor #033C73
	EndColor #033C73
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam queue {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam card {
	BackgroundColor transparent
	BorderColor #033C73
	FontColor #033C73
}


skinparam file {
	BackgroundColor transparent
	BorderColor #868E96
	FontColor #868E96
}


skinparam stack {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}




    skinparam dpi 72
    skinparam shadowing false
    skinparam backgroundColor #FFFFFF
    skinparam Sequence {
        ParticipantBorderColor #282828
        ParticipantBackgroundColor #282828
        ParticipantFontSize 17
        ParticipantFontColor #FFFFFF
        ArrowColor #282828
        ArrowFontSize 17
        LifeLineBorderColor #FBC9D6
    }

    participant Customer
    participant Merchant
    box "Paysafe"
        participant "Paysafe API" as PaysafeAPI
        participant "Customer wallet" as CW
        participant "Merchant wallet" as MW
    end box
    participant "Customer Bank" as CustomerBank

    autonumber

    Merchant -> Customer: Present customer's \nunique Virtual IBAN
    ...
    Customer -> CustomerBank: Bank transfer to unique Virtual IBAN
    ...
    CustomerBank -> PaysafeAPI: Notification\nfunds received
    activate PaysafeAPI
        PaysafeAPI [#FF0000]-> CW: Credit deposited amount\nto customer wallet
        PaysafeAPI <-[#FF0000] CW: Debit merchant's fee\nfrom the customer wallet\n(if fee is specified; flat)
        PaysafeAPI [#FF0000]-> MW: Credit merchant's fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] MW: (if applicable)\nDebit Paysafe's fees from the Merchant wallet

        Merchant <- - PaysafeAPI: WebHook: Funds received\n        id\n        status: COMPLETED\n        wallet:\n            customerAccount\n                transactions[]:\n                    id\n                    status\n                    type\n                    direction\n                    amount\n                    fee\n            merchantAccount\n                transactions[]:\n                    id\n                    status\n                    type\n                    direction\n                    amount\n                    fee

    deactivate PaysafeAPI

	== T + 1 ==

 	PaysafeAPI -> Merchant: Reconciliation report\ntransport protocol to be discussed
    note right: Inlcudes transactions from\nMerchant merchant wallet \nand all customer wallet transactions
@enduml

PlantUML version 1.2021.12(Tue Oct 05 19:01:58 EEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: BG
--></g></svg>