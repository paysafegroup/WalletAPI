<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1209px" preserveAspectRatio="none" style="width:1155px;height:1209px;background:#FFFFFF;" version="1.1" viewBox="0 0 1155 1209" width="1155px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="1200.687" rx="3" ry="3" style="stroke:#868E96;stroke-width:0.75;" width="807.75" x="311.625" y="4.5"/><text fill="#343A40" font-family="Verdana" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="39.75" x="695.625" y="17.2983">Paysafe</text><rect fill="#FFFFFF" height="732.8284" style="stroke:#FBC9D6;stroke-width:0.75;" width="7.5" x="387.375" y="312.1157"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="72" x2="72" y1="75.679" y2="1153.196"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="391.125" x2="391.125" y1="75.679" y2="1153.196"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="646.875" x2="646.875" y1="75.679" y2="1153.196"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="837.375" x2="837.375" y1="75.679" y2="1153.196"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="1026.375" x2="1026.375" y1="75.679" y2="1153.196"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="77.25" x="33.75" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="59.25" x="42.75" y="47.7565">Merchant</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="74.625" y="63.252"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="77.25" x="33.75" y="1152.446"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="59.25" x="42.75" y="1174.2645">Merchant</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="74.625" y="1189.76"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="93" x="344.625" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="75" x="353.625" y="47.7565">Paysafe API</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="393.375" y="63.252"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="93" x="344.625" y="1152.446"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="75" x="353.625" y="1174.2645">Paysafe API</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="393.375" y="1189.76"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="585.375" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="37.5" x="628.125" y="47.7565">Buyer</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="594.375" y="63.252">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="585.375" y="1152.446"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="37.5" x="628.125" y="1174.2645">Buyer</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="594.375" y="1189.76">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="775.875" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="36.75" x="819" y="47.7565">Seller</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="784.875" y="63.252">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="775.875" y="1152.446"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="36.75" x="819" y="1174.2645">Seller</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="784.875" y="1189.76">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="120" x="966.375" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="102" x="975.375" y="47.7565">Merchant wallet</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="1028.625" y="63.252"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="120" x="966.375" y="1152.446"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="102" x="975.375" y="1174.2645">Merchant wallet</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="1028.625" y="1189.76"/><rect fill="#FFFFFF" height="732.8284" style="stroke:#FBC9D6;stroke-width:0.75;" width="7.5" x="387.375" y="312.1157"/><polygon fill="#282828" points="378.375,309.1157,385.875,312.1157,378.375,315.1157,381.375,312.1157" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;" x1="72.375" x2="382.875" y1="312.1157" y2="312.1157"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="81.375" y="203.4681">1</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="273.75" x="100.875" y="102.7474">Transfer funds from customer to customer</text><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="247.5" x="100.875" y="118.2429">POST /digitalwallets/v1/transfers</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="105.375" y="133.7384"/><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="113.25" x="100.875" y="149.2339">merchantRefNum</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="49.5" x="100.875" y="164.7294">amount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="87.75" x="100.875" y="180.2249">currencyCode</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="19.5" x="100.875" y="195.7203">fee</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="49.5" x="100.875" y="211.2158">sender:</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="73.5" x="118.875" y="226.7113">customerId</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="111.75" x="118.875" y="242.2068">customerAccount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="62.25" x="100.875" y="257.7023">recipient:</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="73.5" x="118.875" y="273.1978">customerId</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="111.75" x="118.875" y="288.6932">customerAccount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="93.75" x="100.875" y="304.1887">deviceInfo: {}</text><polygon fill="#FF0000" points="403.125,358.1067,395.625,361.1067,403.125,364.1067,400.125,361.1067" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="398.625" x2="646.125" y1="361.1067" y2="361.1067"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="411.375" y="345.4319">2</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="143.25" x="430.875" y="337.6842">Debit transfer amount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="207" x="430.875" y="353.1797">from the Buyer Customer wallet</text><polygon fill="#FF0000" points="828.375,407.0977,835.875,410.0977,828.375,413.0977,831.375,410.0977" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="394.875" x2="832.875" y1="410.0977" y2="410.0977"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="403.875" y="394.4229">3</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="165" x="423.375" y="386.6752">Credit amount to transfer</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="175.5" x="423.375" y="402.1707">into Seller Customer wallet</text><polygon fill="#FF0000" points="403.125,471.5841,395.625,474.5841,403.125,477.5841,400.125,474.5841" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="398.625" x2="646.125" y1="474.5841" y2="474.5841"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="411.375" y="451.1616">4</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="162" x="430.875" y="435.6661">(if buyer fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="135" x="430.875" y="451.1616">Debit merchant's fee</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="207" x="430.875" y="466.6571">from the Buyer Customer wallet</text><polygon fill="#FF0000" points="1017.375,536.0706,1024.875,539.0706,1017.375,542.0706,1020.375,539.0706" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="394.875" x2="1021.875" y1="539.0706" y2="539.0706"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="403.875" y="515.6481">5</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="162" x="423.375" y="500.1526">(if buyer fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="180.75" x="423.375" y="515.6481">Credit merchant's buyer fee</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="156.75" x="423.375" y="531.1436">into the Merchant wallet</text><polygon fill="#FF0000" points="403.125,600.557,395.625,603.557,403.125,606.557,400.125,603.557" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="398.625" x2="836.625" y1="603.557" y2="603.557"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="411.375" y="580.1345">6</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="159.75" x="430.875" y="564.639">(if seller fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="135" x="430.875" y="580.1345">Debit merchant's fee</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="206.25" x="430.875" y="595.63">from the Seller Customer wallet</text><polygon fill="#FF0000" points="1017.375,665.0435,1024.875,668.0435,1017.375,671.0435,1020.375,668.0435" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="394.875" x2="1021.875" y1="668.0435" y2="668.0435"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="403.875" y="644.621">7</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="159.75" x="423.375" y="629.1255">(if seller fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="178.5" x="423.375" y="644.621">Credit merchant's seller fee</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="156.75" x="423.375" y="660.1165">into the Merchant wallet</text><polygon fill="#FF0000" points="403.125,714.0344,395.625,717.0344,403.125,720.0344,400.125,717.0344" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="398.625" x2="1025.625" y1="717.0344" y2="717.0344"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="411.375" y="701.3597">8</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="90" x="430.875" y="693.6119">(if applicable)</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="295.5" x="430.875" y="709.1074">Debit Paysafe's fees from the Merchant wallet</text><polygon fill="#282828" points="80.625,1041.9441,73.125,1044.9441,80.625,1047.9441,77.625,1044.9441" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;stroke-dasharray:2.0,2.0;" x1="76.125" x2="390.375" y1="1044.9441" y2="1044.9441"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="9" x="88.875" y="889.81">9</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="139.5" x="108.375" y="742.6029">Return transfer result</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="12" x="108.375" y="758.0984">id</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="127.5" x="108.375" y="773.5939">status: COMPLETED</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="44.25" x="108.375" y="789.0894">wallet:</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="111.75" x="126.375" y="804.5848">customerAccount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="96.75" x="144.375" y="820.0803">transactions[]:</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="12" x="162.375" y="835.5758">id</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="39.75" x="162.375" y="851.0713">status</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="28.5" x="162.375" y="866.5668">type</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="56.25" x="162.375" y="882.0623">direction</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="49.5" x="162.375" y="897.5577">amount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="19.5" x="162.375" y="913.0532">fee</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="113.25" x="126.375" y="928.5487">merchantAccount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="96.75" x="144.375" y="944.0442">transactions[]:</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="12" x="162.375" y="959.5397">id</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="39.75" x="162.375" y="975.0352">status</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="28.5" x="162.375" y="990.5306">type</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="56.25" x="162.375" y="1006.0261">direction</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="49.5" x="162.375" y="1021.5216">amount</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="19.5" x="162.375" y="1037.0171">fee</text><rect fill="#FFFFFF" height="2.25" style="stroke:#FFFFFF;stroke-width:0.75;" width="1150.125" x="0" y="1069.9131"/><line style="stroke:#868E96;stroke-width:0.75;" x1="0" x2="1150.125" y1="1069.9131" y2="1069.9131"/><line style="stroke:#868E96;stroke-width:0.75;" x1="0" x2="1150.125" y1="1072.1631" y2="1072.1631"/><rect fill="#FFFFFF" height="24.438" style="stroke:#868E96;stroke-width:1.5;" width="47.25" x="551.4375" y="1058.4441"/><text fill="#343A40" font-family="Verdana" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="26.25" x="559.6875" y="1074.2424">T + 1</text><polygon fill="#282828" points="80.625,1133.5345,73.125,1136.5345,80.625,1139.5345,77.625,1136.5345" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;" x1="76.125" x2="390.375" y1="1136.5345" y2="1136.5345"/><text fill="#343A40" font-family="Verdana" font-size="12.75" font-weight="bold" lengthAdjust="spacing" textLength="18" x="88.875" y="1120.8598">10</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="132.75" x="117.375" y="1113.1121">Reconciliation report</text><text fill="#343A40" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="220.5" x="117.375" y="1128.6075">transport protocol to be discussed</text><path d="M394.5,1097.1321 L394.5,1138.3821 A3,3 0 0 0 397.5,1141.3821 L576,1141.3821 A3,3 0 0 0 579,1138.3821 L579,1101.6321 L571.5,1094.1321 L397.5,1094.1321 A3,3 0 0 0 394.5,1097.1321 " fill="#FFFFFF" style="stroke:#033C73;stroke-width:0.75;"/><path d="M571.5,1094.1321 L571.5,1100.1321 A1.5,1.5 0 0 0 573,1101.6321 L579,1101.6321 L571.5,1094.1321 " fill="#FFFFFF" style="stroke:#033C73;stroke-width:0.75;"/><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="119.25" x="402.75" y="1110.6804">Inlcudes transactions from</text><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="117.75" x="402.75" y="1121.6184">Merchant merchant wallet</text><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="161.25" x="402.75" y="1132.5564">and all customer wallet transactions</text><!--MD5=[980f813de429718d4810345a025298c0]
@startuml "6-Transfers-customer-to-customer"
    !theme cerulean-outline

    skinparam dpi 72
    skinparam shadowing false
    skinparam backgroundColor #FFFFFF
    skinparam Sequence {
        ParticipantBorderColor #282828
        ParticipantBackgroundColor #282828
        ParticipantFontSize 17
        ParticipantFontColor #FFFFFF
        ArrowColor #282828
        ArrowFontSize 17
        LifeLineBorderColor #FBC9D6
    }

    participant "Merchant\n" as Merchant
    box "Paysafe"
        participant "Paysafe API\n" as PaysafeAPI
        participant "Buyer\nCustomer wallet" as CW_Buyer
        participant "Seller\nCustomer wallet" as CW_Seller
        participant "Merchant wallet\n" as MW
    end box

    autonumber

    Merchant -> PaysafeAPI: Transfer funds from customer to customer\n**POST /digitalwallets/v1/transfers**\n\nmerchantRefNum\namount\ncurrencyCode\nfee\nsender:\n    customerId\n    customerAccount\nrecipient:\n    customerId\n    customerAccount\ndeviceInfo: {}
        activate PaysafeAPI

        PaysafeAPI <-[#FF0000] CW_Buyer: Debit transfer amount\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> CW_Seller: Credit amount to transfer\ninto Seller Customer wallet
        PaysafeAPI <-[#FF0000] CW_Buyer: (if buyer fee is specified)\nDebit merchant's fee\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if buyer fee is specified)\nCredit merchant's buyer fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] CW_Seller: (if seller fee is specified)\nDebit merchant's fee\nfrom the Seller Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if seller fee is specified)\nCredit merchant's seller fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] MW: (if applicable)\nDebit Paysafe's fees from the Merchant wallet

        Merchant <- - PaysafeAPI: Return transfer result\nid\nstatus: COMPLETED\nwallet:\n    customerAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee            \n    merchantAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee
    deactivate PaysafeAPI

	== T + 1 ==

 	PaysafeAPI -> Merchant: Reconciliation report\ntransport protocol to be discussed
    note right: Inlcudes transactions from\nMerchant merchant wallet \nand all customer wallet transactions
@enduml

@startuml "6-Transfers-customer-to-customer"



skinparam backgroundColor transparent
skinparam useBetaStyle false







skinparam defaultFontName       "Verdana"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             false
skinparam roundcorner           8
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               5
skinparam ArrowColor            #868E96
skinparam stereotype {
    CBackgroundColor #EDF0F2
    CBorderColor #BABDBF
    ABackgroundColor #8FB961
    ABorderColor $SUCCESS_DARK
    IBackgroundColor #D2494E
    IBorderColor $DANGER_DARK
    EBackgroundColor #E47833
    EBorderColor $WARNING_DARK
    NBackgroundColor #35638F
    NBorderColor $INFO_DARK
}
skinparam title {
	FontColor	                 #2FA4E7
	BorderColor	                 #BABDBF
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              transparent
}

skinparam legend {
	BackgroundColor transparent
	BorderColor #BABDBF
	FontColor #343A40
}

skinparam swimlane {
	BorderColor #033C73
	BorderThickness 2
	TitleBackgroundColor  #EDF0F2-#E9ECEF
	TitleFontColor #2FA4E7
}


skinparam activity {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BarColor #73A839
	StartColor #033C73
	EndColor #033C73
	DiamondBackgroundColor transparent
  	DiamondBorderColor #BABDBF
	DiamondFontColor #BABDBF
}


skinparam participant {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam arrow {
	Thickness 3
	Color #2FA4E7
	FontColor #343A40
}


skinparam sequence {
	BorderColor #2FA4E7
	TitleFontColor #2FA4E7
	BackgroundColor transparent
	StartColor #2FA4E7
	EndColor #2FA4E7
	BoxBackgroundColor transparent
	BoxBorderColor #868E96
	BoxFontColor #343A40
	DelayFontColor #343A40
	LifeLineBorderColor #BABDBF
	LifeLineBorderThickness 2
	LifeLineBackgroundColor transparent
	GroupBorderColor #868E96
	GroupFontColor #343A40
	GroupHeaderFontColor #033C73
	DividerBackgroundColor transparent
    DividerBorderColor #868E96
    DividerBorderThickness 2
    DividerFontColor #343A40
	ReferenceBackgroundColor transparent
	ReferenceBorderColor #868E96
	ReferenceFontColor #343A40
	ReferenceHeaderFontColor #033C73
	StereotypeFontColor #2FA4E7
}


skinparam partition {
	BorderColor #2FA4E7
	FontColor #2FA4E7
	BackgroundColor transparent
}


skinparam collections {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam control {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam entity {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam boundary {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam agent {
	BackgroundColor transparent
	BorderColor #999999
	FontColor #333333
}


skinparam note {
	BorderThickness 1
	BackgroundColor transparent
	BorderColor #033C73
	FontColor #033C73
}


skinparam artifact {
	BackgroundColor transparent
	BorderColor #868E96
	FontColor #868E96
}


skinparam component {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam interface {
	BackgroundColor  transparent
	BorderColor  #C71C22
	FontColor #343A40
}


skinparam storage {
	BackgroundColor transparent
  	BorderColor #DD5600
	FontColor #DD5600
}


skinparam node {
	BackgroundColor transparent
	BorderColor #343A40
	FontColor #343A40
}


skinparam cloud {
	BackgroundColor #F2FCFE-#eeeeee
	BorderColor #F2FCFE
	FontColor #343A40
}


skinparam database {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam class {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	FontColor #F8F9FA
	HeaderBackgroundColor #2FA4E7-#2683B9
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #343A40
	AttributeFontSize 11
}


skinparam object {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam rectangle {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam package {
	BackgroundColor transparent
  	BorderColor #2FA4E7
	FontColor #2FA4E7
	BorderThickness 2
}


skinparam folder {
	BackgroundColor transparent
  	BorderColor #DD5600
	FontColor #DD5600
	BorderThickness 2
}


skinparam frame {
	BackgroundColor transparent
  	BorderColor #033C73
	FontColor #033C73
	BorderThickness 2
}


skinparam state {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	StartColor #033C73
	EndColor #033C73
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam queue {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam card {
	BackgroundColor transparent
	BorderColor #033C73
	FontColor #033C73
}


skinparam file {
	BackgroundColor transparent
	BorderColor #868E96
	FontColor #868E96
}


skinparam stack {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}




    skinparam dpi 72
    skinparam shadowing false
    skinparam backgroundColor #FFFFFF
    skinparam Sequence {
        ParticipantBorderColor #282828
        ParticipantBackgroundColor #282828
        ParticipantFontSize 17
        ParticipantFontColor #FFFFFF
        ArrowColor #282828
        ArrowFontSize 17
        LifeLineBorderColor #FBC9D6
    }

    participant "Merchant\n" as Merchant
    box "Paysafe"
        participant "Paysafe API\n" as PaysafeAPI
        participant "Buyer\nCustomer wallet" as CW_Buyer
        participant "Seller\nCustomer wallet" as CW_Seller
        participant "Merchant wallet\n" as MW
    end box

    autonumber

    Merchant -> PaysafeAPI: Transfer funds from customer to customer\n**POST /digitalwallets/v1/transfers**\n\nmerchantRefNum\namount\ncurrencyCode\nfee\nsender:\n    customerId\n    customerAccount\nrecipient:\n    customerId\n    customerAccount\ndeviceInfo: {}
        activate PaysafeAPI

        PaysafeAPI <-[#FF0000] CW_Buyer: Debit transfer amount\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> CW_Seller: Credit amount to transfer\ninto Seller Customer wallet
        PaysafeAPI <-[#FF0000] CW_Buyer: (if buyer fee is specified)\nDebit merchant's fee\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if buyer fee is specified)\nCredit merchant's buyer fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] CW_Seller: (if seller fee is specified)\nDebit merchant's fee\nfrom the Seller Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if seller fee is specified)\nCredit merchant's seller fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] MW: (if applicable)\nDebit Paysafe's fees from the Merchant wallet

        Merchant <- - PaysafeAPI: Return transfer result\nid\nstatus: COMPLETED\nwallet:\n    customerAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee            \n    merchantAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee
    deactivate PaysafeAPI

	== T + 1 ==

 	PaysafeAPI -> Merchant: Reconciliation report\ntransport protocol to be discussed
    note right: Inlcudes transactions from\nMerchant merchant wallet \nand all customer wallet transactions
@enduml

PlantUML version 1.2021.12(Tue Oct 05 19:01:58 EEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: BG
--></g></svg>