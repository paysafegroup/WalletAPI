<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="972px" preserveAspectRatio="none" style="width:972px;height:972px;background:#FFFFFF;" version="1.1" viewBox="0 0 972 972" width="972px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="963.6973" rx="3" ry="3" style="stroke:#868E96;stroke-width:0.75;" width="727.5" x="208.875" y="4.5"/><text fill="#343A40" font-family="Verdana" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="39.75" x="552.75" y="17.2983">Paysafe</text><rect fill="#FFFFFF" height="559.6436" style="stroke:#FBC9D6;stroke-width:0.75;" width="7.5" x="284.625" y="248.3108"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="72" x2="72" y1="75.679" y2="916.2063"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="288.375" x2="288.375" y1="75.679" y2="916.2063"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="463.875" x2="463.875" y1="75.679" y2="916.2063"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="654.375" x2="654.375" y1="75.679" y2="916.2063"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="843.375" x2="843.375" y1="75.679" y2="916.2063"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="77.25" x="33.75" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="59.25" x="42.75" y="47.7565">Merchant</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="74.625" y="63.252"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="77.25" x="33.75" y="915.4563"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="59.25" x="42.75" y="937.2748">Merchant</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="74.625" y="952.7703"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="93" x="241.875" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="75" x="250.875" y="47.7565">Paysafe API</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="290.625" y="63.252"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="93" x="241.875" y="915.4563"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="75" x="250.875" y="937.2748">Paysafe API</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="290.625" y="952.7703"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="402.375" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="37.5" x="445.125" y="47.7565">Buyer</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="411.375" y="63.252">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="402.375" y="915.4563"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="37.5" x="445.125" y="937.2748">Buyer</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="411.375" y="952.7703">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="592.875" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="36.75" x="636" y="47.7565">Seller</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="601.875" y="63.252">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="592.875" y="915.4563"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="36.75" x="636" y="937.2748">Seller</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="601.875" y="952.7703">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="120" x="783.375" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="102" x="792.375" y="47.7565">Merchant wallet</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="845.625" y="63.252"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="120" x="783.375" y="915.4563"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="102" x="792.375" y="937.2748">Merchant wallet</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="845.625" y="952.7703"/><rect fill="#FFFFFF" height="559.6436" style="stroke:#FBC9D6;stroke-width:0.75;" width="7.5" x="284.625" y="248.3108"/><polygon fill="#282828" points="275.625,245.3108,283.125,248.3108,275.625,251.3108,278.625,248.3108" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;" x1="72.375" x2="280.125" y1="248.3108" y2="248.3108"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="190.5" x="81.375" y="98.9773">Transfer funds from customer to customer</text><text fill="#343A40" font-family="Verdana" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="173.25" x="81.375" y="109.9153">POST /digitalwallets/v1/transfers</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="0" x="84.375" y="120.8533"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="79.5" x="81.375" y="131.7913">merchantRefNum</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="35.25" x="81.375" y="142.7292">amount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="60.75" x="81.375" y="153.6672">currencyCode</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="13.5" x="81.375" y="164.6052">fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="33.75" x="81.375" y="175.5432">sender:</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="51" x="93.375" y="186.4812">customerId</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="78" x="93.375" y="197.4192">customerAccount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="42" x="81.375" y="208.3572">recipient:</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="51" x="93.375" y="219.2952">customerId</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="78" x="93.375" y="230.2332">customerAccount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="64.5" x="81.375" y="241.1711">deviceInfo: {}</text><polygon fill="#FF0000" points="300.375,285.1868,292.875,288.1868,300.375,291.1868,297.375,288.1868" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="295.875" x2="463.125" y1="288.1868" y2="288.1868"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="99.75" x="308.625" y="270.1091">Debit transfer amount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="144" x="308.625" y="281.0471">from the Buyer Customer wallet</text><polygon fill="#FF0000" points="645.375,325.0627,652.875,328.0627,645.375,331.0627,648.375,328.0627" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="292.125" x2="649.875" y1="328.0627" y2="328.0627"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="114.75" x="301.125" y="309.9851">Credit amount to transfer</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="120.75" x="301.125" y="320.9231">into Seller Customer wallet</text><polygon fill="#FF0000" points="300.375,375.8767,292.875,378.8767,300.375,381.8767,297.375,378.8767" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="295.875" x2="463.125" y1="378.8767" y2="378.8767"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="108" x="308.625" y="349.8611">(if buyer fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="93" x="308.625" y="360.7991">Debit merchant's fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="144" x="308.625" y="371.7371">from the Buyer Customer wallet</text><polygon fill="#FF0000" points="834.375,426.6907,841.875,429.6907,834.375,432.6907,837.375,429.6907" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="292.125" x2="838.875" y1="429.6907" y2="429.6907"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="108" x="301.125" y="400.675">(if buyer fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="124.5" x="301.125" y="411.613">Credit merchant's buyer fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="109.5" x="301.125" y="422.551">into the Merchant wallet</text><polygon fill="#FF0000" points="300.375,477.5046,292.875,480.5046,300.375,483.5046,297.375,480.5046" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="295.875" x2="653.625" y1="480.5046" y2="480.5046"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="105.75" x="308.625" y="451.489">(if seller fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="93" x="308.625" y="462.427">Debit merchant's fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="142.5" x="308.625" y="473.365">from the Seller Customer wallet</text><polygon fill="#FF0000" points="834.375,528.3186,841.875,531.3186,834.375,534.3186,837.375,531.3186" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="292.125" x2="838.875" y1="531.3186" y2="531.3186"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="105.75" x="301.125" y="502.303">(if seller fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="122.25" x="301.125" y="513.241">Credit merchant's seller fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="109.5" x="301.125" y="524.179">into the Merchant wallet</text><polygon fill="#FF0000" points="300.375,568.1946,292.875,571.1946,300.375,574.1946,297.375,571.1946" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="295.875" x2="842.625" y1="571.1946" y2="571.1946"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="58.5" x="308.625" y="553.1169">(if applicable)</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="204" x="308.625" y="564.0549">Debit Paysafe's fees from the Merchant wallet</text><polygon fill="#282828" points="80.625,804.9543,73.125,807.9543,80.625,810.9543,77.625,807.9543" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;stroke-dasharray:2.0,2.0;" x1="76.125" x2="287.625" y1="807.9543" y2="807.9543"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="97.5" x="88.875" y="592.9929">Return transfer result</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="7.5" x="88.875" y="603.9309">id</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="89.25" x="88.875" y="614.8689">status: COMPLETED</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="30" x="88.875" y="625.8069">wallet:</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="78" x="100.875" y="636.7449">customerAccount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="66" x="112.875" y="647.6829">transactions[]:</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="7.5" x="124.875" y="658.6208">id</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="27.75" x="124.875" y="669.5588">status</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="19.5" x="124.875" y="680.4968">type</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="38.25" x="124.875" y="691.4348">direction</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="35.25" x="124.875" y="702.3728">amount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="13.5" x="124.875" y="713.3108">fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="79.5" x="100.875" y="724.2488">merchantAccount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="66" x="112.875" y="735.1868">transactions[]:</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="7.5" x="124.875" y="746.1248">id</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="27.75" x="124.875" y="757.0627">status</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="19.5" x="124.875" y="768.0007">type</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="38.25" x="124.875" y="778.9387">direction</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="35.25" x="124.875" y="789.8767">amount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="13.5" x="124.875" y="800.8147">fee</text><rect fill="#FFFFFF" height="2.25" style="stroke:#FFFFFF;stroke-width:0.75;" width="967.125" x="0" y="832.9233"/><line style="stroke:#868E96;stroke-width:0.75;" x1="0" x2="967.125" y1="832.9233" y2="832.9233"/><line style="stroke:#868E96;stroke-width:0.75;" x1="0" x2="967.125" y1="835.1733" y2="835.1733"/><rect fill="#FFFFFF" height="24.438" style="stroke:#868E96;stroke-width:1.5;" width="47.25" x="459.9375" y="821.4543"/><text fill="#343A40" font-family="Verdana" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="26.25" x="468.1875" y="837.2527">T + 1</text><polygon fill="#282828" points="80.625,891.9873,73.125,894.9873,80.625,897.9873,77.625,894.9873" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;" x1="76.125" x2="287.625" y1="894.9873" y2="894.9873"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="90.75" x="88.875" y="876.9097">Reconciliation report</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="150" x="88.875" y="887.8477">transport protocol to be discussed</text><path d="M291.75,860.1423 L291.75,901.3923 A3,3 0 0 0 294.75,904.3923 L473.25,904.3923 A3,3 0 0 0 476.25,901.3923 L476.25,864.6423 L468.75,857.1423 L294.75,857.1423 A3,3 0 0 0 291.75,860.1423 " fill="#FFFFFF" style="stroke:#033C73;stroke-width:0.75;"/><path d="M468.75,857.1423 L468.75,863.1423 A1.5,1.5 0 0 0 470.25,864.6423 L476.25,864.6423 L468.75,857.1423 " fill="#FFFFFF" style="stroke:#033C73;stroke-width:0.75;"/><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="119.25" x="300" y="873.6907">Inlcudes transactions from</text><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="117.75" x="300" y="884.6287">Merchant merchant wallet</text><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="161.25" x="300" y="895.5667">and all customer wallet transactions</text><!--MD5=[aba37a7313e29484231b3405343d305d]
@startuml "6-Transfers-customer-to-customer"
    !theme cerulean-outline

    skinparam dpi 72
    skinparam shadowing false
    skinparam backgroundColor #FFFFFF
    skinparam Sequence {
        ParticipantBorderColor #282828
        ParticipantBackgroundColor #282828
        ParticipantFontSize 17
        ParticipantFontColor #FFFFFF
        ArrowColor #282828
        LifeLineBorderColor #FBC9D6
    }

    participant "Merchant\n" as Merchant
    box "Paysafe"
        participant "Paysafe API\n" as PaysafeAPI
        participant "Buyer\nCustomer wallet" as CW_Buyer
        participant "Seller\nCustomer wallet" as CW_Seller
        participant "Merchant wallet\n" as MW
    end box

    Merchant -> PaysafeAPI: Transfer funds from customer to customer\n**POST /digitalwallets/v1/transfers**\n\nmerchantRefNum\namount\ncurrencyCode\nfee\nsender:\n    customerId\n    customerAccount\nrecipient:\n    customerId\n    customerAccount\ndeviceInfo: {}
        activate PaysafeAPI

        PaysafeAPI <-[#FF0000] CW_Buyer: Debit transfer amount\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> CW_Seller: Credit amount to transfer\ninto Seller Customer wallet
        PaysafeAPI <-[#FF0000] CW_Buyer: (if buyer fee is specified)\nDebit merchant's fee\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if buyer fee is specified)\nCredit merchant's buyer fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] CW_Seller: (if seller fee is specified)\nDebit merchant's fee\nfrom the Seller Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if seller fee is specified)\nCredit merchant's seller fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] MW: (if applicable)\nDebit Paysafe's fees from the Merchant wallet

        Merchant <- - PaysafeAPI: Return transfer result\nid\nstatus: COMPLETED\nwallet:\n    customerAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee            \n    merchantAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee
    deactivate PaysafeAPI

	== T + 1 ==

 	PaysafeAPI -> Merchant: Reconciliation report\ntransport protocol to be discussed
    note right: Inlcudes transactions from\nMerchant merchant wallet \nand all customer wallet transactions
@enduml

@startuml "6-Transfers-customer-to-customer"



skinparam backgroundColor transparent
skinparam useBetaStyle false







skinparam defaultFontName       "Verdana"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             false
skinparam roundcorner           8
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               5
skinparam ArrowColor            #868E96
skinparam stereotype {
    CBackgroundColor #EDF0F2
    CBorderColor #BABDBF
    ABackgroundColor #8FB961
    ABorderColor $SUCCESS_DARK
    IBackgroundColor #D2494E
    IBorderColor $DANGER_DARK
    EBackgroundColor #E47833
    EBorderColor $WARNING_DARK
    NBackgroundColor #35638F
    NBorderColor $INFO_DARK
}
skinparam title {
	FontColor	                 #2FA4E7
	BorderColor	                 #BABDBF
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              transparent
}

skinparam legend {
	BackgroundColor transparent
	BorderColor #BABDBF
	FontColor #343A40
}

skinparam swimlane {
	BorderColor #033C73
	BorderThickness 2
	TitleBackgroundColor  #EDF0F2-#E9ECEF
	TitleFontColor #2FA4E7
}


skinparam activity {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BarColor #73A839
	StartColor #033C73
	EndColor #033C73
	DiamondBackgroundColor transparent
  	DiamondBorderColor #BABDBF
	DiamondFontColor #BABDBF
}


skinparam participant {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam arrow {
	Thickness 3
	Color #2FA4E7
	FontColor #343A40
}


skinparam sequence {
	BorderColor #2FA4E7
	TitleFontColor #2FA4E7
	BackgroundColor transparent
	StartColor #2FA4E7
	EndColor #2FA4E7
	BoxBackgroundColor transparent
	BoxBorderColor #868E96
	BoxFontColor #343A40
	DelayFontColor #343A40
	LifeLineBorderColor #BABDBF
	LifeLineBorderThickness 2
	LifeLineBackgroundColor transparent
	GroupBorderColor #868E96
	GroupFontColor #343A40
	GroupHeaderFontColor #033C73
	DividerBackgroundColor transparent
    DividerBorderColor #868E96
    DividerBorderThickness 2
    DividerFontColor #343A40
	ReferenceBackgroundColor transparent
	ReferenceBorderColor #868E96
	ReferenceFontColor #343A40
	ReferenceHeaderFontColor #033C73
	StereotypeFontColor #2FA4E7
}


skinparam partition {
	BorderColor #2FA4E7
	FontColor #2FA4E7
	BackgroundColor transparent
}


skinparam collections {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam control {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam entity {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam boundary {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam agent {
	BackgroundColor transparent
	BorderColor #999999
	FontColor #333333
}


skinparam note {
	BorderThickness 1
	BackgroundColor transparent
	BorderColor #033C73
	FontColor #033C73
}


skinparam artifact {
	BackgroundColor transparent
	BorderColor #868E96
	FontColor #868E96
}


skinparam component {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam interface {
	BackgroundColor  transparent
	BorderColor  #C71C22
	FontColor #343A40
}


skinparam storage {
	BackgroundColor transparent
  	BorderColor #DD5600
	FontColor #DD5600
}


skinparam node {
	BackgroundColor transparent
	BorderColor #343A40
	FontColor #343A40
}


skinparam cloud {
	BackgroundColor #F2FCFE-#eeeeee
	BorderColor #F2FCFE
	FontColor #343A40
}


skinparam database {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam class {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	FontColor #F8F9FA
	HeaderBackgroundColor #2FA4E7-#2683B9
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #343A40
	AttributeFontSize 11
}


skinparam object {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam rectangle {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam package {
	BackgroundColor transparent
  	BorderColor #2FA4E7
	FontColor #2FA4E7
	BorderThickness 2
}


skinparam folder {
	BackgroundColor transparent
  	BorderColor #DD5600
	FontColor #DD5600
	BorderThickness 2
}


skinparam frame {
	BackgroundColor transparent
  	BorderColor #033C73
	FontColor #033C73
	BorderThickness 2
}


skinparam state {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	StartColor #033C73
	EndColor #033C73
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam queue {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam card {
	BackgroundColor transparent
	BorderColor #033C73
	FontColor #033C73
}


skinparam file {
	BackgroundColor transparent
	BorderColor #868E96
	FontColor #868E96
}


skinparam stack {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}




    skinparam dpi 72
    skinparam shadowing false
    skinparam backgroundColor #FFFFFF
    skinparam Sequence {
        ParticipantBorderColor #282828
        ParticipantBackgroundColor #282828
        ParticipantFontSize 17
        ParticipantFontColor #FFFFFF
        ArrowColor #282828
        LifeLineBorderColor #FBC9D6
    }

    participant "Merchant\n" as Merchant
    box "Paysafe"
        participant "Paysafe API\n" as PaysafeAPI
        participant "Buyer\nCustomer wallet" as CW_Buyer
        participant "Seller\nCustomer wallet" as CW_Seller
        participant "Merchant wallet\n" as MW
    end box

    Merchant -> PaysafeAPI: Transfer funds from customer to customer\n**POST /digitalwallets/v1/transfers**\n\nmerchantRefNum\namount\ncurrencyCode\nfee\nsender:\n    customerId\n    customerAccount\nrecipient:\n    customerId\n    customerAccount\ndeviceInfo: {}
        activate PaysafeAPI

        PaysafeAPI <-[#FF0000] CW_Buyer: Debit transfer amount\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> CW_Seller: Credit amount to transfer\ninto Seller Customer wallet
        PaysafeAPI <-[#FF0000] CW_Buyer: (if buyer fee is specified)\nDebit merchant's fee\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if buyer fee is specified)\nCredit merchant's buyer fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] CW_Seller: (if seller fee is specified)\nDebit merchant's fee\nfrom the Seller Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if seller fee is specified)\nCredit merchant's seller fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] MW: (if applicable)\nDebit Paysafe's fees from the Merchant wallet

        Merchant <- - PaysafeAPI: Return transfer result\nid\nstatus: COMPLETED\nwallet:\n    customerAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee            \n    merchantAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee
    deactivate PaysafeAPI

	== T + 1 ==

 	PaysafeAPI -> Merchant: Reconciliation report\ntransport protocol to be discussed
    note right: Inlcudes transactions from\nMerchant merchant wallet \nand all customer wallet transactions
@enduml

PlantUML version 1.2021.12(Tue Oct 05 19:01:58 EEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: BG
--></g></svg>