<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1005.75px" preserveAspectRatio="none" style="width:1091px;height:1005px;background:#FFFFFF;" version="1.1" viewBox="0 0 1091 1005" width="1091.25px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="997.1353" rx="3" ry="3" style="stroke:#868E96;stroke-width:0.75;" width="727.5" x="328.125" y="4.5"/><text fill="#343A40" font-family="Verdana" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="39.75" x="672" y="17.2983">Paysafe</text><rect fill="#FFFFFF" height="559.6436" style="stroke:#FBC9D6;stroke-width:0.75;" width="7.5" x="403.875" y="281.7488"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="191.25" x2="191.25" y1="75.679" y2="949.6443"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="407.625" x2="407.625" y1="75.679" y2="949.6443"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="583.125" x2="583.125" y1="75.679" y2="949.6443"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="773.625" x2="773.625" y1="75.679" y2="949.6443"/><line style="stroke:#FBC9D6;stroke-width:1.5;stroke-dasharray:5.0,5.0;" x1="962.625" x2="962.625" y1="75.679" y2="949.6443"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="77.25" x="153" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="59.25" x="162" y="47.7565">Merchant</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="193.875" y="63.252"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="77.25" x="153" y="948.8943"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="59.25" x="162" y="970.7128">Merchant</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="193.875" y="986.2083"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="93" x="361.125" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="75" x="370.125" y="47.7565">Paysafe API</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="409.875" y="63.252"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="93" x="361.125" y="948.8943"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="75" x="370.125" y="970.7128">Paysafe API</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="409.875" y="986.2083"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="521.625" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="37.5" x="564.375" y="47.7565">Buyer</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="530.625" y="63.252">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="521.625" y="948.8943"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="37.5" x="564.375" y="970.7128">Buyer</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="530.625" y="986.2083">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="712.125" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="36.75" x="755.25" y="47.7565">Seller</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="721.125" y="63.252">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="123" x="712.125" y="948.8943"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="36.75" x="755.25" y="970.7128">Seller</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="105" x="721.125" y="986.2083">Customer wallet</text><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="120" x="902.625" y="25.938"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="102" x="911.625" y="47.7565">Merchant wallet</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="964.875" y="63.252"/><rect fill="#282828" height="48.991" rx="3" ry="3" style="stroke:#282828;stroke-width:1.125;" width="120" x="902.625" y="948.8943"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="102" x="911.625" y="970.7128">Merchant wallet</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.75" lengthAdjust="spacing" textLength="0" x="964.875" y="986.2083"/><rect fill="#FFFFFF" height="559.6436" style="stroke:#FBC9D6;stroke-width:0.75;" width="7.5" x="403.875" y="281.7488"/><path d="M55.5,89.929 L55.5,109.429 A3,3 0 0 0 58.5,112.429 L184.5,112.429 A3,3 0 0 0 187.5,109.429 L187.5,94.429 L180,86.929 L58.5,86.929 A3,3 0 0 0 55.5,89.929 " fill="#FFFFFF" style="stroke:#033C73;stroke-width:0.75;"/><path d="M180,86.929 L180,92.929 A1.5,1.5 0 0 0 181.5,94.429 L187.5,94.429 L180,86.929 " fill="#FFFFFF" style="stroke:#033C73;stroke-width:0.75;"/><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="108.75" x="63.75" y="103.4773">Customer wallet created</text><polygon fill="#282828" points="394.875,278.7488,402.375,281.7488,394.875,284.7488,397.875,281.7488" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;" x1="191.625" x2="399.375" y1="281.7488" y2="281.7488"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="190.5" x="200.625" y="132.4153">Transfer funds from customer to customer</text><text fill="#343A40" font-family="Verdana" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="173.25" x="200.625" y="143.3533">POST /digitalwallets/v1/transfers</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="0" x="203.625" y="154.2913"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="79.5" x="200.625" y="165.2292">merchantRefNum</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="35.25" x="200.625" y="176.1672">amount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="60.75" x="200.625" y="187.1052">currencyCode</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="13.5" x="200.625" y="198.0432">fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="33.75" x="200.625" y="208.9812">sender:</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="51" x="212.625" y="219.9192">customerId</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="78" x="212.625" y="230.8572">customerAccount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="42" x="200.625" y="241.7952">recipient:</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="51" x="212.625" y="252.7332">customerId</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="78" x="212.625" y="263.6711">customerAccount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="64.5" x="200.625" y="274.6091">deviceInfo: {}</text><polygon fill="#FF0000" points="419.625,318.6248,412.125,321.6248,419.625,324.6248,416.625,321.6248" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="415.125" x2="582.375" y1="321.6248" y2="321.6248"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="99.75" x="427.875" y="303.5471">Debit transfer amount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="144" x="427.875" y="314.4851">from the Buyer Customer wallet</text><polygon fill="#FF0000" points="764.625,358.5007,772.125,361.5007,764.625,364.5007,767.625,361.5007" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="411.375" x2="769.125" y1="361.5007" y2="361.5007"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="114.75" x="420.375" y="343.4231">Credit amount to transfer</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="120.75" x="420.375" y="354.3611">into Seller Customer wallet</text><polygon fill="#FF0000" points="419.625,409.3147,412.125,412.3147,419.625,415.3147,416.625,412.3147" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="415.125" x2="582.375" y1="412.3147" y2="412.3147"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="108" x="427.875" y="383.2991">(if buyer fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="93" x="427.875" y="394.2371">Debit merchant's fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="144" x="427.875" y="405.175">from the Buyer Customer wallet</text><polygon fill="#FF0000" points="953.625,460.1287,961.125,463.1287,953.625,466.1287,956.625,463.1287" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="411.375" x2="958.125" y1="463.1287" y2="463.1287"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="108" x="420.375" y="434.113">(if buyer fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="124.5" x="420.375" y="445.051">Credit merchant's buyer fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="109.5" x="420.375" y="455.989">into the Merchant wallet</text><polygon fill="#FF0000" points="419.625,510.9426,412.125,513.9426,419.625,516.9426,416.625,513.9426" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="415.125" x2="772.875" y1="513.9426" y2="513.9426"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="105.75" x="427.875" y="484.927">(if seller fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="93" x="427.875" y="495.865">Debit merchant's fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="142.5" x="427.875" y="506.803">from the Seller Customer wallet</text><polygon fill="#FF0000" points="953.625,561.7566,961.125,564.7566,953.625,567.7566,956.625,564.7566" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="411.375" x2="958.125" y1="564.7566" y2="564.7566"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="105.75" x="420.375" y="535.741">(if seller fee is specified)</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="122.25" x="420.375" y="546.679">Credit merchant's seller fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="109.5" x="420.375" y="557.6169">into the Merchant wallet</text><polygon fill="#FF0000" points="419.625,601.6326,412.125,604.6326,419.625,607.6326,416.625,604.6326" style="stroke:#FF0000;stroke-width:0.75;"/><line style="stroke:#FF0000;stroke-width:2.25;" x1="415.125" x2="961.875" y1="604.6326" y2="604.6326"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="58.5" x="427.875" y="586.5549">(if applicable)</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="204" x="427.875" y="597.4929">Debit Paysafe's fees from the Merchant wallet</text><polygon fill="#282828" points="199.875,838.3923,192.375,841.3923,199.875,844.3923,196.875,841.3923" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;stroke-dasharray:2.0,2.0;" x1="195.375" x2="406.875" y1="841.3923" y2="841.3923"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="97.5" x="208.125" y="626.4309">Return transfer result</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="7.5" x="208.125" y="637.3689">id</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="89.25" x="208.125" y="648.3069">status: COMPLETED</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="30" x="208.125" y="659.2449">wallet:</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="78" x="220.125" y="670.1829">customerAccount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="66" x="232.125" y="681.1208">transactions[]:</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="7.5" x="244.125" y="692.0588">id</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="27.75" x="244.125" y="702.9968">status</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="19.5" x="244.125" y="713.9348">type</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="38.25" x="244.125" y="724.8728">direction</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="35.25" x="244.125" y="735.8108">amount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="13.5" x="244.125" y="746.7488">fee</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="79.5" x="220.125" y="757.6868">merchantAccount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="66" x="232.125" y="768.6248">transactions[]:</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="7.5" x="244.125" y="779.5627">id</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="27.75" x="244.125" y="790.5007">status</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="19.5" x="244.125" y="801.4387">type</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="38.25" x="244.125" y="812.3767">direction</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="35.25" x="244.125" y="823.3147">amount</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="13.5" x="244.125" y="834.2527">fee</text><rect fill="#FFFFFF" height="2.25" style="stroke:#FFFFFF;stroke-width:0.75;" width="1086.375" x="0" y="866.3613"/><line style="stroke:#868E96;stroke-width:0.75;" x1="0" x2="1086.375" y1="866.3613" y2="866.3613"/><line style="stroke:#868E96;stroke-width:0.75;" x1="0" x2="1086.375" y1="868.6113" y2="868.6113"/><rect fill="#FFFFFF" height="24.438" style="stroke:#868E96;stroke-width:1.5;" width="47.25" x="519.5625" y="854.8923"/><text fill="#343A40" font-family="Verdana" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="26.25" x="527.8125" y="870.6907">T + 1</text><polygon fill="#282828" points="199.875,925.4253,192.375,928.4253,199.875,931.4253,196.875,928.4253" style="stroke:#282828;stroke-width:0.75;"/><line style="stroke:#282828;stroke-width:2.25;" x1="195.375" x2="406.875" y1="928.4253" y2="928.4253"/><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="90.75" x="208.125" y="910.3477">Reconciliation report</text><text fill="#343A40" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="150" x="208.125" y="921.2856">transport protocol to be discussed</text><path d="M3.75,893.5803 L3.75,934.8303 A3,3 0 0 0 6.75,937.8303 L185.25,937.8303 A3,3 0 0 0 188.25,934.8303 L188.25,898.0803 L180.75,890.5803 L6.75,890.5803 A3,3 0 0 0 3.75,893.5803 " fill="#FFFFFF" style="stroke:#033C73;stroke-width:0.75;"/><path d="M180.75,890.5803 L180.75,896.5803 A1.5,1.5 0 0 0 182.25,898.0803 L188.25,898.0803 L180.75,890.5803 " fill="#FFFFFF" style="stroke:#033C73;stroke-width:0.75;"/><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="119.25" x="12" y="907.1287">Inlcudes transactions from</text><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="117.75" x="12" y="918.0667">Merchant merchant wallet</text><text fill="#033C73" font-family="Verdana" font-size="9" lengthAdjust="spacing" textLength="161.25" x="12" y="929.0046">and all customer wallet transactions</text><!--MD5=[b7eca55d24ee47e0177becc83b8e6845]
@startuml "6-Transfers-customer-to-customer"
    !theme cerulean-outline

    skinparam dpi 72
    skinparam shadowing false
    skinparam backgroundColor #FFFFFF
    skinparam Sequence {
        ParticipantBorderColor #282828
        ParticipantBackgroundColor #282828
        ParticipantFontSize 17
        ParticipantFontColor #FFFFFF
        ArrowColor #282828
        LifeLineBorderColor #FBC9D6
    }

    participant "Merchant\n" as Merchant
    box "Paysafe"
        participant "Paysafe API\n" as PaysafeAPI
        participant "Buyer\nCustomer wallet" as CW_Buyer
        participant "Seller\nCustomer wallet" as CW_Seller
        participant "Merchant wallet\n" as MW
    end box

    note left of Merchant: Customer wallet created

    Merchant -> PaysafeAPI: Transfer funds from customer to customer\n**POST /digitalwallets/v1/transfers**\n\nmerchantRefNum\namount\ncurrencyCode\nfee\nsender:\n    customerId\n    customerAccount\nrecipient:\n    customerId\n    customerAccount\ndeviceInfo: {}
        activate PaysafeAPI

        PaysafeAPI <-[#FF0000] CW_Buyer: Debit transfer amount\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> CW_Seller: Credit amount to transfer\ninto Seller Customer wallet
        PaysafeAPI <-[#FF0000] CW_Buyer: (if buyer fee is specified)\nDebit merchant's fee\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if buyer fee is specified)\nCredit merchant's buyer fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] CW_Seller: (if seller fee is specified)\nDebit merchant's fee\nfrom the Seller Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if seller fee is specified)\nCredit merchant's seller fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] MW: (if applicable)\nDebit Paysafe's fees from the Merchant wallet

        Merchant <- - PaysafeAPI: Return transfer result\nid\nstatus: COMPLETED\nwallet:\n    customerAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee            \n    merchantAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee
    deactivate PaysafeAPI

	== T + 1 ==

 	PaysafeAPI -> Merchant: Reconciliation report\ntransport protocol to be discussed
    note left: Inlcudes transactions from\nMerchant merchant wallet \nand all customer wallet transactions
@enduml

@startuml "6-Transfers-customer-to-customer"



skinparam backgroundColor transparent
skinparam useBetaStyle false







skinparam defaultFontName       "Verdana"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             false
skinparam roundcorner           8
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               5
skinparam ArrowColor            #868E96
skinparam stereotype {
    CBackgroundColor #EDF0F2
    CBorderColor #BABDBF
    ABackgroundColor #8FB961
    ABorderColor $SUCCESS_DARK
    IBackgroundColor #D2494E
    IBorderColor $DANGER_DARK
    EBackgroundColor #E47833
    EBorderColor $WARNING_DARK
    NBackgroundColor #35638F
    NBorderColor $INFO_DARK
}
skinparam title {
	FontColor	                 #2FA4E7
	BorderColor	                 #BABDBF
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              transparent
}

skinparam legend {
	BackgroundColor transparent
	BorderColor #BABDBF
	FontColor #343A40
}

skinparam swimlane {
	BorderColor #033C73
	BorderThickness 2
	TitleBackgroundColor  #EDF0F2-#E9ECEF
	TitleFontColor #2FA4E7
}


skinparam activity {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BarColor #73A839
	StartColor #033C73
	EndColor #033C73
	DiamondBackgroundColor transparent
  	DiamondBorderColor #BABDBF
	DiamondFontColor #BABDBF
}


skinparam participant {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam arrow {
	Thickness 3
	Color #2FA4E7
	FontColor #343A40
}


skinparam sequence {
	BorderColor #2FA4E7
	TitleFontColor #2FA4E7
	BackgroundColor transparent
	StartColor #2FA4E7
	EndColor #2FA4E7
	BoxBackgroundColor transparent
	BoxBorderColor #868E96
	BoxFontColor #343A40
	DelayFontColor #343A40
	LifeLineBorderColor #BABDBF
	LifeLineBorderThickness 2
	LifeLineBackgroundColor transparent
	GroupBorderColor #868E96
	GroupFontColor #343A40
	GroupHeaderFontColor #033C73
	DividerBackgroundColor transparent
    DividerBorderColor #868E96
    DividerBorderThickness 2
    DividerFontColor #343A40
	ReferenceBackgroundColor transparent
	ReferenceBorderColor #868E96
	ReferenceFontColor #343A40
	ReferenceHeaderFontColor #033C73
	StereotypeFontColor #2FA4E7
}


skinparam partition {
	BorderColor #2FA4E7
	FontColor #2FA4E7
	BackgroundColor transparent
}


skinparam collections {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam control {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam entity {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam boundary {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam agent {
	BackgroundColor transparent
	BorderColor #999999
	FontColor #333333
}


skinparam note {
	BorderThickness 1
	BackgroundColor transparent
	BorderColor #033C73
	FontColor #033C73
}


skinparam artifact {
	BackgroundColor transparent
	BorderColor #868E96
	FontColor #868E96
}


skinparam component {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam interface {
	BackgroundColor  transparent
	BorderColor  #C71C22
	FontColor #343A40
}


skinparam storage {
	BackgroundColor transparent
  	BorderColor #DD5600
	FontColor #DD5600
}


skinparam node {
	BackgroundColor transparent
	BorderColor #343A40
	FontColor #343A40
}


skinparam cloud {
	BackgroundColor #F2FCFE-#eeeeee
	BorderColor #F2FCFE
	FontColor #343A40
}


skinparam database {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam class {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	FontColor #F8F9FA
	HeaderBackgroundColor #2FA4E7-#2683B9
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #343A40
	AttributeFontSize 11
}


skinparam object {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam rectangle {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam package {
	BackgroundColor transparent
  	BorderColor #2FA4E7
	FontColor #2FA4E7
	BorderThickness 2
}


skinparam folder {
	BackgroundColor transparent
  	BorderColor #DD5600
	FontColor #DD5600
	BorderThickness 2
}


skinparam frame {
	BackgroundColor transparent
  	BorderColor #033C73
	FontColor #033C73
	BorderThickness 2
}


skinparam state {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	StartColor #033C73
	EndColor #033C73
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam queue {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam card {
	BackgroundColor transparent
	BorderColor #033C73
	FontColor #033C73
}


skinparam file {
	BackgroundColor transparent
	BorderColor #868E96
	FontColor #868E96
}


skinparam stack {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}




    skinparam dpi 72
    skinparam shadowing false
    skinparam backgroundColor #FFFFFF
    skinparam Sequence {
        ParticipantBorderColor #282828
        ParticipantBackgroundColor #282828
        ParticipantFontSize 17
        ParticipantFontColor #FFFFFF
        ArrowColor #282828
        LifeLineBorderColor #FBC9D6
    }

    participant "Merchant\n" as Merchant
    box "Paysafe"
        participant "Paysafe API\n" as PaysafeAPI
        participant "Buyer\nCustomer wallet" as CW_Buyer
        participant "Seller\nCustomer wallet" as CW_Seller
        participant "Merchant wallet\n" as MW
    end box

    note left of Merchant: Customer wallet created

    Merchant -> PaysafeAPI: Transfer funds from customer to customer\n**POST /digitalwallets/v1/transfers**\n\nmerchantRefNum\namount\ncurrencyCode\nfee\nsender:\n    customerId\n    customerAccount\nrecipient:\n    customerId\n    customerAccount\ndeviceInfo: {}
        activate PaysafeAPI

        PaysafeAPI <-[#FF0000] CW_Buyer: Debit transfer amount\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> CW_Seller: Credit amount to transfer\ninto Seller Customer wallet
        PaysafeAPI <-[#FF0000] CW_Buyer: (if buyer fee is specified)\nDebit merchant's fee\nfrom the Buyer Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if buyer fee is specified)\nCredit merchant's buyer fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] CW_Seller: (if seller fee is specified)\nDebit merchant's fee\nfrom the Seller Customer wallet
        PaysafeAPI [#FF0000]-> MW: (if seller fee is specified)\nCredit merchant's seller fee\ninto the Merchant wallet
        PaysafeAPI <-[#FF0000] MW: (if applicable)\nDebit Paysafe's fees from the Merchant wallet

        Merchant <- - PaysafeAPI: Return transfer result\nid\nstatus: COMPLETED\nwallet:\n    customerAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee            \n    merchantAccount\n        transactions[]:\n            id\n            status\n            type\n            direction\n            amount\n            fee
    deactivate PaysafeAPI

	== T + 1 ==

 	PaysafeAPI -> Merchant: Reconciliation report\ntransport protocol to be discussed
    note left: Inlcudes transactions from\nMerchant merchant wallet \nand all customer wallet transactions
@enduml

PlantUML version 1.2021.12(Tue Oct 05 19:01:58 EEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: BG
--></g></svg>